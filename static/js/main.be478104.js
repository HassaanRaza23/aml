/*! For license information please see main.be478104.js.LICENSE.txt */
(()=>{var e={356:(e,t,r)=>{e.exports=r(9645).last},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,r)=>{"use strict";e.exports=r(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},1210:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(8829)),i=n(r(5736)),s=r(5745);class o{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:a=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;n||a?(t=n?"HEAD":"GET",Object.entries(r).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?`{${r.join(",")}}`:`${r}`]}).forEach(e=>{let[t,r]=e;o.searchParams.append(t,r)})):(t="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new i.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},1293:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof r&&(r={});const{leading:a=!1,trailing:i=!0,maxWait:s}=r,o=Array(2);let l;a&&(o[0]="leading"),i&&(o[1]="trailing");let c=null;const u=n.debounce(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l=e.apply(this,r),c=null},t,{edges:o}),d=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,r),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,r),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],r=e.length;if(0===r)return t;let n=0,a="",i="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),n++);n<r;){const o=e[n];i?"\\"===o&&n+1<r?(n++,a+=e[n]):o===i?i="":a+=o:s?'"'===o||"'"===o?i=o:"]"===o?(s=!1,t.push(a),a=""):a+=o:"["===o?(s=!0,a&&(t.push(a),a="")):"."===o?a&&(t.push(a),a=""):a+=o,n++}return a&&t.push(a),t}},2086:(e,t,r)=>{"use strict";e.exports=r(5082)},2104:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1203),a=r(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&n.isArrayLike(e)}},2132:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(870),i=r(4803),s=r(9972);function o(e,t,r,n){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===r(e.get(a),i,a,e,t,n))return!1}return!0}(e,t,r,n);if(t instanceof Set)return c(e,t,r,n);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(n&&n.has(t))return n.get(t)===e;n&&n.set(t,e);try{for(let s=0;s<a.length;s++){const o=a[s];if(!i.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{n&&n.delete(t)}}(e,t,r,n);case"function":return Object.keys(t).length>0?o(e,{...t},r,n):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const s=t[i];let o=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(r(e[l],s,i,e,t,n)&&(c=!0),c){a.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}t.isMatchWith=function(e,t,r){return"function"!==typeof r?n.isMatch(e,t):o(e,t,function e(t,n,a,i,s,l){const c=r(t,n,a,i,s,l);return void 0!==c?Boolean(c):o(t,n,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5316),a=r(7312),i=r(3799);t.sortBy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const o=r.length;return o>1&&i.isIterateeCall(e,r[0],r[1])?r=[]:o>2&&i.isIterateeCall(r[0],r[1],r[2])&&(r=[r[0]]),n.orderBy(e,a.flatten(r),["asc"])}},2284:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},2330:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(n){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return o(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),s(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];if(null==t)return!1;return!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},2715:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9599),a=r(7330),i=r(3808),s=r(8845);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},2986:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=2986,e.exports=t},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"===typeof e||"symbol"===typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4704),a=r(1203),i=r(870),s=r(9972);t.isIterateeCall=function(e,t,r){return!!i.isObject(r)&&(!!("number"===typeof t&&a.isArrayLike(r)&&n.isIndex(t)&&t<r.length||"string"===typeof t&&t in r)&&s.eq(r[t],e))}},3808:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>n.isMatch(t,e)}},3821:(e,t,r)=>{e.exports=r(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const a=e[n],i=t(a);r.has(i)||r.set(i,a)}return Array.from(r.values())}},4250:(e,t,r)=>{e.exports=r(8182).isEqual},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function S(e,t,n,a,i,s){return n=s.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:s}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var k=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function O(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return O((u=e._init)(e._payload),t,a,i,s)}}if(u)return s=s(e),u=""===i?"."+A(e,0):i,w(s)?(a="",null!=u&&(a=u.replace(k,"$&/")+"/"),O(s,t,a,"",function(e){return e})):null!=s&&(j(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+u,s=S(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=O(i=e[m],t,a,o=p+A(i,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=O(i=i.value,t,a,o=p+A(i,m++),s);else if("object"===o){if("function"===typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,r){if(null==e)return e;var n=[],a=0;return O(e,n,"","",function(e){return t.call(r,e,a++)}),n}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function T(){}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!_.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(n[i]=t[i]);var i=arguments.length-2;if(1===i)n.children=r;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];n.children=s}return S(e.type,a,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,a={},i=null;if(null!=t)for(n in void 0!==t.key&&(i=""+t.key),t)_.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===a[n]&&(a[n]=s[n]);return S(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,r={};N.T=r;try{var n=e(),a=N.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(T,L)}catch(i){L(i)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,r){return N.H.useActionState(e,t,r)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=N.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,r){return N.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return N.H.useReducer(e,t,r)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return N.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return N.H.useTransition()},t.version="19.1.1"},4332:(e,t,r)=>{e.exports=r(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>a});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const a=n.fetch,i=n.fetch.bind(n),s=n.Headers,o=n.Request,l=n.Response},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return r.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let r,{signal:n,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;const s=null!=a&&a.includes("leading"),o=null==a||a.includes("trailing"),l=()=>{null!==i&&(e.apply(r,i),r=void 0,i=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),r=void 0,i=null},h=function(){if(n?.aborted)return;r=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=t;const o=null==c;u(),s&&o&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},n?.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5053:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4208),a=r(9599),i=r(2104),s=r(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?n.uniqBy(Array.from(e),s.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var r=60103,n=60106,a=60107,i=60108,s=60114,o=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),n=b("react.portal"),a=b("react.fragment"),i=b("react.strict_mode"),s=b("react.profiler"),o=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case n:return t}}}t.isFragment=function(e){return x(e)===a}},5261:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2489),a=r(4704),i=r(6321),s=r(1444);t.has=function(e,t){let r;if(r=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==e?.[t]?s.toPath(t):[t],0===r.length)return!1;let o=e;for(let n=0;n<r.length;n++){const e=r[n];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||i.isArguments(o))&&a.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9709),a=r(7043),i=r(1444);t.orderBy=function(e,t,r,s){if(null==e)return[];r=s?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));const o=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=n.compareValues(e.criteria[a],t.criteria[a],r[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},5414:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=r;return n.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},5508:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433),a=r(7599);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,i,s,o)=>{const l=t?.(r,i,s,o);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(e?.valueOf());return n.copyProperties(t,e),t}case a.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5736:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(7374));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const i=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}t.default=i},5745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`}},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function N(e){if(g=!1,w(e),!m)if(null!==n(c))m=!0,S||(S=!0,_());else{var t=n(u);null!==t&&L(N,t.startTime-e)}}var _,S=!1,j=-1,k=5,A=-1;function C(){return!!y||!(t.unstable_now()-A<k)}function O(){if(y=!1,S){var e=t.unstable_now();A=e;var r=!0;try{e:{m=!1,g&&(g=!1,b(j),j=-1),p=!0;var i=f;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&C());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),r=!0;break t}h===n(c)&&a(c),w(e)}else a(c);h=n(c)}if(null!==h)r=!0;else{var l=n(u);null!==l&&L(N,l.startTime-e),r=!1}}break e}finally{h=null,f=i,p=!1}r=void 0}}finally{r?_():S=!1}}}if("function"===typeof x)_=function(){x(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,E=P.port2;P.port1.onmessage=O,_=function(){E.postMessage(null)}}else _=function(){v(O,0)};function L(e,r){j=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(g?(b(j),j=-1):g=!0,L(N,i-s))):(e.sortIndex=o,r(c,e),m||p||(m=!0,S||(S=!0,_()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6443),a=r(5990),i=r(7599),s=r(4803),o=r(3757);function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=u?.(e,t,r,n);if(null!=d)return d;if(s.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,r,n,u));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const a of e)t.add(l(a,void 0,r,n,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,r,n,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,n,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,r,n,u),t}return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<s.length;n++){const o=s[n],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,r,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,r)=>{"use strict";var n=r(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=r,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):"script"===r&&s.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);s.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},6770:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},7004:(e,t,r)=>{"use strict";var n=r(8853),a=r(5043),i=r(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var E=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===E?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return L(e(t))}catch(r){}}return null}var T=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},M=[],F=-1;function B(e){return{current:e}}function z(e){0>F||(e.current=M[F],M[F]=null,F--)}function U(e,t){F++,M[F]=e.current,e.current=t}var q=B(null),$=B(null),W=B(null),H=B(null);function K(e,t){switch(U(W,t),U($,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(q),U(q,e)}function V(){z(q),z($),z(W)}function G(e){null!==e.memoizedState&&U(H,e);var t=q.current,r=id(t,e.type);t!==r&&(U($,e),U(q,r))}function Y(e){$.current===e&&(z(q),z($)),H.current===e&&(z(H),Gd._currentValue=R)}var J=Object.prototype.hasOwnProperty,X=n.unstable_scheduleCallback,Q=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ae=n.unstable_UserBlockingPriority,ie=n.unstable_NormalPriority,se=n.unstable_LowPriority,oe=n.unstable_IdlePriority,le=n.log,ce=n.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?a=ve(n):0!==(s&=o)?a=ve(s):r||0!==(r=o&~e)&&(a=ve(r)):0!==(o=n&~i)?a=ve(o):0!==s?a=ve(s):r||0!==(r=n&~e)&&(a=ve(r)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(r=t&-t)||32===i&&0!==(4194048&r))?t:a}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function _e(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Se(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ke(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fe(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Ae(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fe(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ee=Math.random().toString(36).slice(2),Le="__reactFiber$"+Ee,Te="__reactProps$"+Ee,De="__reactContainer$"+Ee,Ie="__reactEvents$"+Ee,Re="__reactListeners$"+Ee,Me="__reactHandles$"+Ee,Fe="__reactResources$"+Ee,Be="__reactMarker$"+Ee;function ze(e){delete e[Le],delete e[Te],delete e[Ie],delete e[Re],delete e[Me]}function Ue(e){var t=e[Le];if(t)return t;for(var r=e.parentNode;r;){if(t=r[De]||r[Le]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=bd(e);null!==e;){if(r=e[Le])return r;e=bd(e)}return t}r=(e=r).parentNode}return null}function qe(e){if(e=e[Le]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function We(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Be]=!0}var Ke=new Set,Ve={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ve[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Je,Xe,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(a=t,J.call(et,a)||!J.call(Ze,a)&&(Qe.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function at(e){if(void 0===Je)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Xe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Xe}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(i){n=i}e.call(r.prototype)}}else{try{throw Error()}catch(s){n=s}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?at(r):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,r,n,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=r?vt(e,s,ct(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,r,n,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=r){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,r){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(s(92));if(T(n)){if(1<n.length)throw Error(s(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function Nt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||_t.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function jt(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&St(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&St(e,i,t[i])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Tt=null;function Dt(e){var t=qe(e);if(t&&(e=t.stateNode)){var r=e[Te]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Te]||null;if(!a)throw Error(s(90));gt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ht(n)}break e;case"textarea":xt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var It=!1;function Rt(e,t,r){if(It)return e(t,r);It=!0;try{return e(t)}finally{if(It=!1,(null!==Lt||null!==Tt)&&(Uc(),Lt&&(t=Lt,e=Tt,Tt=Lt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Mt(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Te]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ft)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Th){Bt=!1}var Ut=null,qt=null,$t=null;function Wt(){if($t)return $t;var e,t,r=qt,n=r.length,a="value"in Ut?Ut.value:Ut.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Vt(){return!1}function Gt(e){function t(t,r,n,a,i){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Vt,this.isPropagationStopped=Vt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Jt,Xt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Qt),er=h({},Qt,{view:0,detail:0}),tr=Gt(er),rr=h({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Jt=e.screenY-Xt.screenY):Jt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),nr=Gt(rr),ar=Gt(h({},rr,{dataTransfer:0})),ir=Gt(h({},er,{relatedTarget:0})),sr=Gt(h({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Gt(h({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=Gt(h({},Qt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dr[e])&&!!t[e]}function fr(){return hr}var pr=Gt(h({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mr=Gt(h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=Gt(h({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),yr=Gt(h({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Gt(h({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),br=Gt(h({},Qt,{newState:0,oldState:0})),xr=[9,13,27,32],wr=Ft&&"CompositionEvent"in window,Nr=null;Ft&&"documentMode"in document&&(Nr=document.documentMode);var _r=Ft&&"TextEvent"in window&&!Nr,Sr=Ft&&(!wr||Nr&&8<Nr&&11>=Nr),jr=String.fromCharCode(32),kr=!1;function Ar(e,t){switch(e){case"keyup":return-1!==xr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Or=!1;var Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pr[e.type]:"textarea"===t}function Lr(e,t,r,n){Lt?Tt?Tt.push(n):Tt=[n]:Lt=n,0<(t=Wu(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tr=null,Dr=null;function Ir(e){Ru(e,0)}function Rr(e){if(ht($e(e)))return e}function Mr(e,t){if("change"===e)return t}var Fr=!1;if(Ft){var Br;if(Ft){var zr="oninput"in document;if(!zr){var Ur=document.createElement("div");Ur.setAttribute("oninput","return;"),zr="function"===typeof Ur.oninput}Br=zr}else Br=!1;Fr=Br&&(!document.documentMode||9<document.documentMode)}function qr(){Tr&&(Tr.detachEvent("onpropertychange",$r),Dr=Tr=null)}function $r(e){if("value"===e.propertyName&&Rr(Dr)){var t=[];Lr(t,Dr,e,Et(e)),Rt(Ir,t)}}function Wr(e,t,r){"focusin"===e?(qr(),Dr=r,(Tr=t).attachEvent("onpropertychange",$r)):"focusout"===e&&qr()}function Hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rr(Dr)}function Kr(e,t){if("click"===e)return Rr(t)}function Vr(e,t){if("input"===e||"change"===e)return Rr(t)}var Gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yr(e,t){if(Gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!J.call(t,a)||!Gr(e[a],t[a]))return!1}return!0}function Jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xr(e,t){var r,n=Jr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jr(n)}}function Qr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ft((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=Ft&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,an=null,sn=!1;function on(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;sn||null==rn||rn!==ft(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},an&&Yr(an,n)||(an=n,0<(n=Wu(nn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function ln(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cn={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},un={},dn={};function hn(e){if(un[e])return un[e];if(!cn[e])return e;var t,r=cn[e];for(t in r)if(r.hasOwnProperty(t)&&t in dn)return un[e]=r[t];return e}Ft&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var fn=hn("animationend"),pn=hn("animationiteration"),mn=hn("animationstart"),gn=hn("transitionrun"),yn=hn("transitionstart"),vn=hn("transitioncancel"),bn=hn("transitionend"),xn=new Map,wn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,t){xn.set(e,t),Ge(t,[e])}wn.push("scrollEnd");var _n=new WeakMap;function Sn(e,t){if("object"===typeof e&&null!==e){var r=_n.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},_n.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var jn=[],kn=0,An=0;function Cn(){for(var e=kn,t=An=kn=0;t<e;){var r=jn[t];jn[t++]=null;var n=jn[t];jn[t++]=null;var a=jn[t];jn[t++]=null;var i=jn[t];if(jn[t++]=null,null!==n&&null!==a){var s=n.pending;null===s?a.next=a:(a.next=s.next,s.next=a),n.pending=a}0!==i&&Ln(r,a,i)}}function On(e,t,r,n){jn[kn++]=e,jn[kn++]=t,jn[kn++]=r,jn[kn++]=n,An|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Pn(e,t,r,n){return On(e,t,r,n),Tn(e)}function En(e,t){return On(e,null,null,t),Tn(e)}function Ln(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,i=e.return;null!==i;)i.childLanes|=r,null!==(n=i.alternate)&&(n.childLanes|=r),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(r),null===(n=(e=i.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),i):null}function Tn(e){if(50<Lc)throw Lc=0,Tc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dn={};function In(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new In(e,t,r,n)}function Mn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fn(e,t){var r=e.alternate;return null===r?((r=Rn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zn(e,t,r,n,a,i){var o=0;if(n=e,"function"===typeof e)Mn(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Rn(31,r,t,a)).elementType=A,e.lanes=i,e;case g:return Un(r.children,a,i,t);case y:o=8,a|=24;break;case v:return(e=Rn(12,r,t,2|a)).elementType=v,e.lanes=i,e;case _:return(e=Rn(13,r,t,a)).elementType=_,e.lanes=i,e;case S:return(e=Rn(19,r,t,a)).elementType=S,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case N:o=11;break e;case j:o=14;break e;case k:o=16,n=null;break e}o=29,r=Error(s(130,null===e?"null":typeof e,"")),n=null}return(t=Rn(o,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Un(e,t,r,n){return(e=Rn(7,e,n,t)).lanes=r,e}function qn(e,t,r){return(e=Rn(6,e,null,t)).lanes=r,e}function $n(e,t,r){return(t=Rn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wn=[],Hn=0,Kn=null,Vn=0,Gn=[],Yn=0,Jn=null,Xn=1,Qn="";function Zn(e,t){Wn[Hn++]=Vn,Wn[Hn++]=Kn,Kn=e,Vn=t}function ea(e,t,r){Gn[Yn++]=Xn,Gn[Yn++]=Qn,Gn[Yn++]=Jn,Jn=e;var n=Xn;e=Qn;var a=32-fe(n)-1;n&=~(1<<a),r+=1;var i=32-fe(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Xn=1<<32-fe(t)+a|r<<a|n,Qn=i+e}else Xn=1<<i|r<<a|n,Qn=e}function ta(e){null!==e.return&&(Zn(e,1),ea(e,1,0))}function ra(e){for(;e===Kn;)Kn=Wn[--Hn],Wn[Hn]=null,Vn=Wn[--Hn],Wn[Hn]=null;for(;e===Jn;)Jn=Gn[--Yn],Gn[Yn]=null,Qn=Gn[--Yn],Gn[Yn]=null,Xn=Gn[--Yn],Gn[Yn]=null}var na=null,aa=null,ia=!1,sa=null,oa=!1,la=Error(s(519));function ca(e){throw ma(Sn(Error(s(418,"")),e)),la}function ua(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Le]=e,t[Te]=n,r){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(r=0;r<Du.length;r++)Mu(Du[r],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),wt(t,n.value,n.defaultValue,n.children),dt(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Ju(t.textContent,r)?(null!=n.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=n.onScroll&&Mu("scroll",t),null!=n.onScrollEnd&&Mu("scrollend",t),null!=n.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ca(e)}function da(e){for(na=e.return;na;)switch(na.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:na=na.return}}function ha(e){if(e!==na)return!1;if(!ia)return da(e),ia=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){aa=yd(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}aa=null}}else 27===r?(r=aa,fd(e.type)?(e=vd,vd=null,aa=e):aa=r):aa=na?yd(e.stateNode.nextSibling):null;return!0}function fa(){aa=na=null,ia=!1}function pa(){var e=sa;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),sa=null),e}function ma(e){null===sa?sa=[e]:sa.push(e)}var ga=B(null),ya=null,va=null;function ba(e,t,r){U(ga,t._currentValue),t._currentValue=r}function xa(e){e._currentValue=ga.current,z(ga)}function wa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Na(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),wa(i.return,r,e),n||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=r,null!==(i=o.alternate)&&(i.lanes|=r),wa(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function _a(e,t,r,n){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Gr(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===H.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}a=a.return}null!==e&&Na(t,e,r,n),t.flags|=262144}function Sa(e){for(e=e.firstContext;null!==e;){if(!Gr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ja(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ka(e){return Ca(ya,e)}function Aa(e,t){return null===ya&&ja(e),Ca(e,t)}function Ca(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return r}var Oa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pa=n.unstable_scheduleCallback,Ea=n.unstable_NormalPriority,La={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ta(){return{controller:new Oa,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Pa(Ea,function(){e.controller.abort()})}var Ia=null,Ra=0,Ma=0,Fa=null;function Ba(){if(0===--Ra&&null!==Ia){null!==Fa&&(Fa.status="fulfilled");var e=Ia;Ia=null,Ma=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var za=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ia){var r=Ia=[];Ra=0,Ma=Ou(),Fa={status:"pending",value:void 0,then:function(e){r.push(e)}}}Ra++,t.then(Ba,Ba)}(0,t),null!==za&&za(e,t)};var Ua=B(null);function qa(){var e=Ua.current;return null!==e?e:nc.pooledCache}function $a(e,t){U(Ua,null===t?Ua.current:t.pool)}function Wa(){var e=qa();return null===e?null:{parent:La._currentValue,pool:e}}var Ha=Error(s(460)),Ka=Error(s(474)),Va=Error(s(542)),Ga={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ja(){}function Xa(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Ja,Ja),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ja,Ja);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Qa=t,Ha}}var Qa=null;function Za(){if(null===Qa)throw Error(s(459));var e=Qa;return Qa=null,e}function ei(e){if(e===Ha||e===Va)throw Error(s(483))}var ti=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ni(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Tn(e),Ln(e,null,r),t}return On(e,n,t,r),Tn(e)}function si(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ae(e,r)}}function oi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fa)throw Fa}}function ui(e,t,r,n){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ic&f)===f:(n&f)===f){0!==f&&f===Ma&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function hi(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)di(r[e],t)}var fi=B(null),pi=B(0);function mi(e,t){U(pi,e=dc),U(fi,t),dc=e|t.baseLanes}function gi(){U(pi,dc),U(fi,fi.current)}function yi(){dc=pi.current,z(fi),z(pi)}var vi=0,bi=null,xi=null,wi=null,Ni=!1,_i=!1,Si=!1,ji=0,ki=0,Ai=null,Ci=0;function Oi(){throw Error(s(321))}function Pi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gr(e[r],t[r]))return!1;return!0}function Ei(e,t,r,n,a,i){return vi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Hs:Ks,Si=!1,i=r(n,a),Si=!1,_i&&(i=Ti(t,r,n,a)),Li(e),i}function Li(e){D.H=Ws;var t=null!==xi&&null!==xi.next;if(vi=0,wi=xi=bi=null,Ni=!1,ki=0,Ai=null,t)throw Error(s(300));null===e||Ao||null!==(e=e.dependencies)&&Sa(e)&&(Ao=!0)}function Ti(e,t,r,n){bi=e;var a=0;do{if(_i&&(Ai=null),ki=0,_i=!1,25<=a)throw Error(s(301));if(a+=1,wi=xi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Vs,i=t(r,n)}while(_i);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?zi(t):t,e=e.useState()[0],(null!==xi?xi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Ii(){var e=0!==ji;return ji=0,e}function Ri(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Mi(e){if(Ni){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ni=!1}vi=0,wi=xi=bi=null,_i=!1,ki=ji=0,Ai=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?bi.memoizedState=wi=e:wi=wi.next=e,wi}function Bi(){if(null===xi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===wi?bi.memoizedState:wi.next;if(null!==t)wi=t,xi=e;else{if(null===e){if(null===bi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===wi?bi.memoizedState=wi=e:wi=wi.next=e}return wi}function zi(e){var t=ki;return ki+=1,null===Ai&&(Ai=[]),e=Xa(Ai,e,t),t=bi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Hs:Ks),e}function Ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zi(e);if(e.$$typeof===w)return ka(e)}throw Error(s(438,String(e)))}function qi(e){var t=null,r=bi.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=bi.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=C;return t.index++,r}function $i(e,t){return"function"===typeof t?t(e):t}function Wi(e){return Hi(Bi(),xi,e)}function Hi(e,t,r){var n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ma&&(d=!0);else{if((vi&f)===f){u=u.next,f===Ma&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,bi.lanes|=f,fc|=f}h=u.action,Si&&r(i,h),i=u.hasEagerState?u.eagerState:r(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,bi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Gr(i,e.memoizedState)&&(Ao=!0,d&&null!==(r=Fa)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ki(e){var t=Bi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Gr(i,t.memoizedState)||(Ao=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Vi(e,t,r){var n=bi,a=Bi(),i=ia;if(i){if(void 0===r)throw Error(s(407));r=r()}else r=t();var o=!Gr((xi||a).memoizedState,r);if(o&&(a.memoizedState=r,Ao=!0),a=a.queue,gs(2048,8,Ji.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(n.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yi.bind(null,n,a,r,t),null),null===nc)throw Error(s(349));i||0!==(124&vi)||Gi(n,t,r)}return r}function Gi(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Yi(e,t,r,n){t.value=r,t.getSnapshot=n,Xi(t)&&Qi(e)}function Ji(e,t,r){return r(function(){Xi(t)&&Qi(e)})}function Xi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gr(e,r)}catch(n){return!0}}function Qi(e){var t=En(e,2);null!==t&&Rc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var r=e;if(e=r(),Si){he(!0);try{r()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t}function es(e,t,r,n){return e.baseState=r,Hi(e,xi,"function"===typeof n?n:$i)}function ts(e,t,r,n,a){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?r(!0):i.isTransition=!1,n(i),null===(r=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=r.next,t.pending=r.next=i)}}function rs(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=D.T,s={};D.T=s;try{var o=r(a,n),l=D.S;null!==l&&l(s,o),ns(e,t,o)}catch(c){is(e,t,c)}finally{D.T=i}}else try{ns(e,t,i=r(a,n))}catch(u){is(e,t,u)}}function ns(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){as(e,t,r)},function(r){return is(e,t,r)}):as(e,t,r)}function as(e,t,r){t.status="fulfilled",t.value=r,ss(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,rs(e,r)))}function is(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,ss(t),t=t.next}while(t!==n)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ia){var r=nc.formState;if(null!==r){e:{var n=bi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yd(a.nextSibling),n="F!"===a.data;break e}}ca(n)}n=!1}n&&(t=r[0])}}return(r=Fi()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},r.queue=n,r=Fs.bind(null,bi,n),n.dispatch=r,n=Zi(!1),i=zs.bind(null,bi,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=Fi()).queue=a,r=ts.bind(null,bi,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function cs(e){return us(Bi(),xi,e)}function us(e,t,r){if(t=Hi(e,t,os)[0],e=Wi($i)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=zi(t)}catch(s){if(s===Ha)throw Va;throw s}else n=t;var a=(t=Bi()).queue,i=a.dispatch;return r!==t.memoizedState&&(bi.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,a,r),null)),[n,i,e]}function ds(e,t){e.action=t}function hs(e){var t=Bi(),r=xi;if(null!==r)return us(t,r,e);Bi(),t=t.memoizedState;var n=(r=Bi()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function fs(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ps(){return Bi().memoizedState}function ms(e,t,r,n){var a=Fi();n=void 0===n?null:n,bi.flags|=e,a.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},r,n)}function gs(e,t,r,n){var a=Bi();n=void 0===n?null:n;var i=a.memoizedState.inst;null!==xi&&null!==n&&Pi(n,xi.memoizedState.deps)?a.memoizedState=fs(t,i,r,n):(bi.flags|=e,a.memoizedState=fs(1|t,i,r,n))}function ys(e,t){ms(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function xs(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ns(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,gs(4,4,ws.bind(null,t,e),r)}function _s(){}function Ss(e,t){var r=Bi();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Pi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function js(e,t){var r=Bi();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Pi(t,n[1]))return n[0];if(n=e(),Si){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n}function ks(e,t,r){return void 0===r||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=r,e=Ic(),bi.lanes|=e,fc|=e,r)}function As(e,t,r,n){return Gr(r,t)?r:null!==fi.current?(e=ks(e,r,n),Gr(e,t)||(Ao=!0),e):0===(42&vi)?(Ao=!0,e.memoizedState=r):(e=Ic(),bi.lanes|=e,fc|=e,t)}function Cs(e,t,r,n,a){var i=I.p;I.p=0!==i&&8>i?i:8;var s=D.T,o={};D.T=o,zs(e,!1,t,r);try{var l=a(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bs(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n),Dc());else Bs(e,t,n,Dc())}catch(u){Bs(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{I.p=i,D.T=s}}function Os(){}function Ps(e,t,r,n){if(5!==e.tag)throw Error(s(476));var a=Es(e).queue;Cs(e,a,t,R,null===r?Os:function(){return Ls(e),r(n)})}function Es(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:R},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ls(e){Bs(e,Es(e).next.queue,{},Dc())}function Ts(){return ka(Gd)}function Ds(){return Bi().memoizedState}function Is(){return Bi().memoizedState}function Rs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Dc(),n=ii(t,e=ai(r),r);return null!==n&&(Rc(n,t,r),si(n,t,r)),t={cache:Ta()},void(e.payload=t)}t=t.return}}function Ms(e,t,r){var n=Dc();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)?qs(t,r):null!==(r=Pn(e,t,r,n))&&(Rc(r,e,n),$s(r,t,n))}function Fs(e,t,r){Bs(e,t,r,Dc())}function Bs(e,t,r,n){var a={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Us(e))qs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Gr(o,s))return On(e,t,a,0),null===nc&&Cn(),!1}catch(l){}if(null!==(r=Pn(e,t,a,n)))return Rc(r,e,n),$s(r,t,n),!0}return!1}function zs(e,t,r,n){if(n={lane:2,revertLane:Ou(),action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Pn(e,r,n,2))&&Rc(t,e,2)}function Us(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function qs(e,t){_i=Ni=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $s(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ae(e,r)}}var Ws={readContext:ka,use:Ui,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useLayoutEffect:Oi,useInsertionEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useSyncExternalStore:Oi,useId:Oi,useHostTransitionStatus:Oi,useFormState:Oi,useActionState:Oi,useOptimistic:Oi,useMemoCache:Oi,useCacheRefresh:Oi},Hs={readContext:ka,use:Ui,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:ys,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var r=Fi();t=void 0===t?null:t;var n=e();if(Si){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Fi();if(void 0!==r){var a=r(t);if(Si){he(!0);try{r(t)}finally{he(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=Ms.bind(null,bi,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,r=Fs.bind(null,bi,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:_s,useDeferredValue:function(e,t){return ks(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Cs.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=bi,a=Fi();if(ia){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===nc)throw Error(s(349));0!==(124&ic)||Gi(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,ys(Ji.bind(null,n,i,e),[e]),n.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yi.bind(null,n,i,r,t),null),r},useId:function(){var e=Fi(),t=nc.identifierPrefix;if(ia){var r=Qn;t="\xab"+t+"R"+(r=(Xn&~(1<<32-fe(Xn)-1)).toString(32)+r),0<(r=ji++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Ci++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ts,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=zs.bind(null,bi,!0,r),r.dispatch=t,[e,t]},useMemoCache:qi,useCacheRefresh:function(){return Fi().memoizedState=Rs.bind(null,bi)}},Ks={readContext:ka,use:Ui,useCallback:Ss,useContext:ka,useEffect:vs,useImperativeHandle:Ns,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:js,useReducer:Wi,useRef:ps,useState:function(){return Wi($i)},useDebugValue:_s,useDeferredValue:function(e,t){return As(Bi(),xi.memoizedState,e,t)},useTransition:function(){var e=Wi($i)[0],t=Bi().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Vi,useId:Ds,useHostTransitionStatus:Ts,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Bi(),0,e,t)},useMemoCache:qi,useCacheRefresh:Is},Vs={readContext:ka,use:Ui,useCallback:Ss,useContext:ka,useEffect:vs,useImperativeHandle:Ns,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:js,useReducer:Ki,useRef:ps,useState:function(){return Ki($i)},useDebugValue:_s,useDeferredValue:function(e,t){var r=Bi();return null===xi?ks(r,e,t):As(r,xi.memoizedState,e,t)},useTransition:function(){var e=Ki($i)[0],t=Bi().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Vi,useId:Ds,useHostTransitionStatus:Ts,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var r=Bi();return null!==xi?es(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:qi,useCacheRefresh:Is},Gs=null,Ys=0;function Js(e){var t=Ys;return Ys+=1,null===Gs&&(Gs=[]),Xa(Gs,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Qs(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fn(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=qn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===g?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===k&&Zs(i)===t.type)?(Xs(t=a(t,r.props),r),t.return=e,t):(Xs(t=zn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$n(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Un(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xs(r=zn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case m:return(t=$n(t,e.mode,r)).return=e,t;case k:return h(e,t=(0,t._init)(t._payload),r)}if(T(t)||P(t))return(t=Un(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,Js(t),r);if(t.$$typeof===w)return h(e,Aa(e,t),r);Qs(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===a?c(e,t,r,n):null;case m:return r.key===a?u(e,t,r,n):null;case k:return f(e,t,r=(a=r._init)(r._payload),n)}if(T(r)||P(r))return null!==a?null:d(e,t,r,n,null);if("function"===typeof r.then)return f(e,t,Js(r),n);if(r.$$typeof===w)return f(e,t,Aa(e,r),n);Qs(e,r)}return null}function y(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case m:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case k:return y(e,t,r,n=(0,n._init)(n._payload),a)}if(T(n)||P(n))return d(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return y(e,t,r,Js(n),a);if(n.$$typeof===w)return y(e,t,r,Aa(t,n),a);Qs(t,n)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){r(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===k&&Zs(b)===c.type){r(l,c.sibling),Xs(d=a(c,u.props),u),d.return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Un(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=zn(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}(d=$n(u,l.mode,d)).return=l,l=d}return o(l);case k:return v(l,c,u=(b=u._init)(u._payload),d)}if(T(u))return function(a,s,o,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(a,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return r(a,d),ia&&Zn(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return ia&&Zn(a,p),c}for(d=n(d);p<o.length;p++)null!==(m=y(d,a,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=i(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),ia&&Zn(a,p),c}(l,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(a,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(a,p),o=i(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return r(a,p),ia&&Zn(a,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,m),null===d?u=v:d.sibling=v,d=v);return ia&&Zn(a,m),u}for(p=n(p);!v.done;m++,v=l.next())null!==(v=y(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=i(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),ia&&Zn(a,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Js(u),d);if(u.$$typeof===w)return v(l,c,Aa(l,u),d);Qs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(d=a(c,u)).return=l,l=d):(r(l,c),(d=qn(u,l.mode,d)).return=l,l=d),o(l)):r(l,c)}return function(e,t,r,n){try{Ys=0;var a=v(e,t,r,n);return Gs=null,a}catch(s){if(s===Ha||s===Va)throw s;var i=Rn(29,s,null,e.mode);return i.lanes=n,i.return=e,i}}}var to=eo(!0),ro=eo(!1),no=B(null),ao=null;function io(e){var t=e.alternate;U(co,1&co.current),U(no,e),null===ao&&(null===t||null!==fi.current||null!==t.memoizedState)&&(ao=e)}function so(e){if(22===e.tag){if(U(co,co.current),U(no,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){U(co,co.current),U(no,no.current)}function lo(e){z(no),ao===e&&(ao=null),z(co)}var co=B(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||gd(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var fo={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dc(),a=ai(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ii(e,a,n))&&(Rc(t,e,n),si(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dc(),a=ai(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ii(e,a,n))&&(Rc(t,e,n),si(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dc(),n=ai(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ii(e,n,r))&&(Rc(t,e,r),si(t,e,r))}};function po(e,t,r,n,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yr(r,n)||!Yr(a,i))}function mo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=h({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function xo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function No(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function _o(e,t,r){return(r=ai(r)).tag=3,r.payload={element:null},r.callback=function(){wo(e,t)},r}function So(e){return(e=ai(e)).tag=3,e}function jo(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){No(t,r,n)}}var s=r.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){No(t,r,n),"function"!==typeof a&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var ko=Error(s(461)),Ao=!1;function Co(e,t,r,n){t.child=null===e?ro(t,null,r,n):to(t,e.child,r,n)}function Oo(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var s={};for(var o in n)"ref"!==o&&(s[o]=n[o])}else s=n;return ja(t),n=Ei(e,t,r,s,i,a),o=Ii(),null===e||Ao?(ia&&o&&ta(t),t.flags|=1,Co(e,t,n,a),t.child):(Ri(e,t,a),Yo(e,t,a))}function Po(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Mn(i)||void 0!==i.defaultProps||null!==r.compare?((e=zn(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Eo(e,t,i,n,a))}if(i=e.child,!Jo(e,a)){var s=i.memoizedProps;if((r=null!==(r=r.compare)?r:Yr)(s,n)&&e.ref===t.ref)return Yo(e,t,a)}return t.flags|=1,(e=Fn(i,n)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(Yr(i,n)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=n=i,!Jo(e,a))return t.lanes=e.lanes,Yo(e,t,a);0!==(131072&e.flags)&&(Ao=!0)}}return Io(e,t,r,n,a)}function Lo(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==i?i.baseLanes|r:r,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~n}else t.childLanes=0,t.child=null;return To(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,To(e,t,null!==i?i.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$a(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),so(t)}else null!==i?($a(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&$a(0,null),gi(),oo());return Co(e,t,a,r),t.child}function To(e,t,r,n){var a=qa();return a=null===a?null:{parent:La._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&$a(0,null),gi(),so(t),null!==e&&_a(e,t,n,!0),null}function Do(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(s(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Io(e,t,r,n,a){return ja(t),r=Ei(e,t,r,n,void 0,a),n=Ii(),null===e||Ao?(ia&&n&&ta(t),t.flags|=1,Co(e,t,r,a),t.child):(Ri(e,t,a),Yo(e,t,a))}function Ro(e,t,r,n,a,i){return ja(t),t.updateQueue=null,r=Ti(t,n,r,a),Li(e),n=Ii(),null===e||Ao?(ia&&n&&ta(t),t.flags|=1,Co(e,t,r,i),t.child):(Ri(e,t,i),Yo(e,t,i))}function Mo(e,t,r,n,a){if(ja(t),null===t.stateNode){var i=Dn,s=r.contextType;"object"===typeof s&&null!==s&&(i=ka(s)),i=new r(n,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=n,i.state=t.memoizedState,i.refs={},ri(t),s=r.contextType,i.context="object"===typeof s&&null!==s?ka(s):Dn,i.state=t.memoizedState,"function"===typeof(s=r.getDerivedStateFromProps)&&(ho(t,r,s,n),i.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&fo.enqueueReplaceState(i,i.state,null),ui(t,n,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(r,o);i.props=l;var c=i.context,u=r.contextType;s=Dn,"object"===typeof u&&null!==u&&(s=ka(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&mo(t,i,n,s),ti=!1;var h=t.memoizedState;i.state=h,ui(t,n,i,a),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,r,d,n),c=t.memoizedState),(l=ti||po(t,r,l,n,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=s,n=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ni(e,t),u=go(r,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,l=Dn,"object"===typeof c&&null!==c&&(l=ka(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,i,n,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,n,i,a),ci();var f=t.memoizedState;s!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Sa(e.dependencies)?("function"===typeof o&&(ho(t,r,o,n),f=t.memoizedState),(u=ti||po(t,r,u,n,h,f,l)||null!==e&&null!==e.dependencies&&Sa(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=l,n=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Do(e,t),n=0!==(128&t.flags),i||n?(i=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&n?(t.child=to(t,e.child,null,a),t.child=to(t,null,r,a)):Co(e,t,r,a),t.memoizedState=i.state,e=t.child):e=Yo(e,t,a),e}function Fo(e,t,r,n){return fa(),t.flags|=256,Co(e,t,r,n),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:Wa()}}function Uo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=gc),e}function qo(e,t,r){var n,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),n&&(i=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?io(t):oo(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jn?{id:Xn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},(l=Rn(18,null,null,0)).stateNode=c,l.return=t,t.child=l,na=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,i?(oo(),c=Wo({mode:"hidden",children:c},i=t.mode),a=Un(a,i,r,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=zo(r),i.childLanes=Uo(e,n,r),t.memoizedState=Bo,a):(io(t),$o(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Ho(e,t,r)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=a.fallback,c=t.mode,a=Wo({mode:"visible",children:a.children},c),(i=Un(i,c,r,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,to(t,e.child,null,r),(a=t.child).memoizedState=zo(r),a.childLanes=Uo(e,n,r),t.memoizedState=Bo,t=i);else if(io(t),gd(c)){if(n=c.nextSibling&&c.nextSibling.dataset)var u=n.dgst;n=u,(a=Error(s(419))).stack="",a.digest=n,ma({value:a,source:null,stack:null}),t=Ho(e,t,r)}else if(Ao||_a(e,t,r,!1),n=0!==(r&e.childLanes),Ao||n){if(null!==(n=nc)&&(0!==(a=0!==((a=0!==(42&(a=r&-r))?1:Ce(a))&(n.suspendedLanes|r))?0:a)&&a!==l.retryLane))throw l.retryLane=a,En(e,a),Rc(n,e,a),ko;"$?"===c.data||Vc(),t=Ho(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),na=t,ia=!0,sa=null,oa=!1,null!==e&&(Gn[Yn++]=Xn,Gn[Yn++]=Qn,Gn[Yn++]=Jn,Xn=e.id,Qn=e.overflow,Jn=t),(t=$o(t,a.children)).flags|=4096);return t}return i?(oo(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Fn(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fn(u,i):(i=Un(i,c,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=zo(r):(null!==(l=c.cachePool)?(u=La._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wa(),c={baseLanes:c.baseLanes|r,cachePool:l}),i.memoizedState=c,i.childLanes=Uo(e,n,r),t.memoizedState=Bo,a):(io(t),e=(r=e.child).sibling,(r=Fn(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function $o(e,t){return(t=Wo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wo(e,t){return(e=Rn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,r){return to(t,e.child,null,r),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),wa(e.return,t,r)}function Vo(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Go(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Co(e,t,n.children,r),0!==(2&(n=co.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,r,t);else if(19===e.tag)Ko(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(U(co,n),a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Vo(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Vo(t,!0,r,null,i);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(_a(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Fn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Jo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sa(e))}function Xo(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ao=!0;else{if(!Jo(e,r)&&0===(128&t.flags))return Ao=!1,function(e,t,r){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ba(0,La,e.memoizedState.cache),fa();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(io(t),t.flags|=128,null):0!==(r&t.child.childLanes)?qo(e,t,r):(io(t),null!==(e=Yo(e,t,r))?e.sibling:null);io(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(_a(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return Go(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(co,co.current),n)break;return null;case 22:case 23:return t.lanes=0,Lo(e,t,r);case 24:ba(0,La,e.memoizedState.cache)}return Yo(e,t,r)}(e,t,r);Ao=0!==(131072&e.flags)}else Ao=!1,ia&&0!==(1048576&t.flags)&&ea(t,Vn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,a=n._init;if(n=a(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((a=n.$$typeof)===N){t.tag=11,t=Oo(null,t,n,e,r);break e}if(a===j){t.tag=14,t=Po(null,t,n,e,r);break e}}throw t=L(n)||n,Error(s(306,t,""))}Mn(n)?(e=go(n,e),t.tag=1,t=Mo(null,t,n,e,r)):(t.tag=0,t=Io(null,t,n,e,r))}return t;case 0:return Io(e,t,t.type,t.pendingProps,r);case 1:return Mo(e,t,n=t.type,a=go(n,t.pendingProps),r);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,ni(e,t),ui(t,n,null,r);var o=t.memoizedState;if(n=o.cache,ba(0,La,n),n!==i.cache&&Na(t,[La],r,!0),ci(),n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,n,r);break e}if(n!==a){ma(a=Sn(Error(s(424)),t)),t=Fo(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),na=t,ia=!0,sa=null,oa=!0,r=ro(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fa(),n===a){t=Yo(e,t,r);break e}Co(e,t,n,r)}t=t.child}return t;case 26:return Do(e,t),null===e?(r=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=r:ia||(r=t.type,e=t.pendingProps,(n=nd(W.current).createElement(r))[Le]=t,n[Te]=e,ed(n,r,e),He(n),t.stateNode=n):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ia&&(n=t.stateNode=xd(t.type,t.pendingProps,W.current),na=t,oa=!0,a=aa,fd(t.type)?(vd=a,aa=yd(n.firstChild)):aa=a),Co(e,t,t.pendingProps.children,r),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=n=aa)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,oa))?(t.stateNode=n,na=t,aa=yd(n.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,n=i.children,sd(a,i)?n=null:null!==o&&sd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ei(e,t,Di,null,null,r),Gd._currentValue=a),Do(e,t),Co(e,t,n,r),t.child;case 6:return null===e&&ia&&((e=r=aa)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(r,t.pendingProps,oa))?(t.stateNode=r,na=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return qo(e,t,r);case 4:return K(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=to(t,null,n,r):Co(e,t,n,r),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,r);case 7:return Co(e,t,t.pendingProps,r),t.child;case 8:case 12:return Co(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ba(0,t.type,n.value),Co(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,ja(t),n=n(a=ka(a)),t.flags|=1,Co(e,t,n,r),t.child;case 14:return Po(e,t,t.type,t.pendingProps,r);case 15:return Eo(e,t,t.type,t.pendingProps,r);case 19:return Go(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=Wo(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Fn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Lo(e,t,r);case 24:return ja(t),n=ka(La),null===e?(null===(a=qa())&&(a=nc,i=Ta(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},ri(t),ba(0,La,a)):(0!==(e.lanes&r)&&(ni(e,t),ui(t,null,null,r),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,La,n)):(n=i.cache,ba(0,La,n),n!==a.cache&&Na(t,[La],r,!0))),Co(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Qo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=no.current)&&((4194048&ic)===ic?null!==ao:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ao))throw Qa=Ga,Ka;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nl(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(La),V(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Qo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),rl(t),null;case 26:return r=t.memoizedState,null===e?(Qo(t),null!==r?(rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Qo(t),rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==n&&Qo(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),r=W.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Qo(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return rl(t),null}e=q.current,ha(t)?ua(t):(e=xd(a,n,r),t.stateNode=e,Qo(t))}return rl(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Qo(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return rl(t),null}if(e=q.current,ha(t))ua(t);else{switch(a=nd(W.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?a.createElement(r,{is:n.is}):a.createElement(r)}}e[Le]=t,e[Te]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Qo(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(e=W.current,ha(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=na))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Le]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Ju(e.nodeValue,r)))||ca(t)}else(e=nd(e).createTextNode(n))[Le]=t,t.stateNode=e}return rl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Le]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool);var i=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),el(t,t.updateQueue),rl(t),null;case 4:return V(),null===e&&zu(t.stateNode.containerInfo),rl(t),null;case 10:return xa(t.type),rl(t),null;case 19:if(z(co),null===(a=t.memoizedState))return rl(t),null;if(n=0!==(128&t.flags),null===(i=a.rendering))if(n)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Bn(r,e),r=r.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>Nc&&(t.flags|=128,n=!0,tl(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=uo(i))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return rl(t),null}else 2*te()-a.renderingStartTime>Nc&&536870912!==r&&(t.flags|=128,n=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,n?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return lo(t),yi(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(r=t.updateQueue)&&el(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&z(Ua),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xa(La),rl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(ra(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xa(La),V(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(co),null;case 4:return V(),null;case 10:return xa(t.type),null;case 22:case 23:return lo(t),yi(),null!==e&&z(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xa(La),null;default:return null}}function il(e,t){switch(ra(t),t.tag){case 3:xa(La),V();break;case 26:case 27:case 5:Y(t);break;case 4:V();break;case 13:lo(t);break;case 19:z(co);break;case 10:xa(t.type);break;case 22:case 23:lo(t),yi(),null!==e&&z(Ua);break;case 24:xa(La)}}function sl(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,s=r.inst;n=i(),s.destroy=n}r=r.next}while(r!==a)}}catch(o){uu(t,t.return,o)}}function ol(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var i=a.next;n=i;do{if((n.tag&e)===e){var s=n.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=r,c=o;try{c()}catch(u){uu(a,l,u)}}}n=n.next}while(n!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{hi(t,r)}catch(n){uu(e,e.return,n)}}}function cl(e,t,r){r.props=go(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){uu(e,t,n)}}function ul(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){uu(e,t,a)}}function dl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(i){uu(e,t,i)}else r.current=null}function hl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,u=null,d=null;for(p in r){var h=r[p];if(r.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(p)||Qu(e,t,p,null,n,h)}}for(var f in n){var p=n[f];if(h=r[f],n.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Qu(e,t,f,p,n,h)}}return void gt(e,o,l,c,u,d,i,a);case"select":for(i in p=o=l=f=null,r)if(c=r[i],r.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(i)||Qu(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Qu(e,t,a,i,n,c)}return t=l,r=o,n=p,void(null!=f?bt(e,!!r,f,!1):!!n!==!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=f=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qu(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Qu(e,t,o,a,n,i)}return void xt(e,f,p);case"option":for(var m in r)if(f=r[m],r.hasOwnProperty(m)&&null!=f&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Qu(e,t,m,null,n,f);for(c in n)if(f=n[c],p=r[c],n.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Qu(e,t,c,f,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&null!=f&&!n.hasOwnProperty(g)&&Qu(e,t,g,null,n,f);for(u in n)if(f=n[u],p=r[u],n.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Qu(e,t,u,f,n,p)}return;default:if(kt(t)){for(var y in r)f=r[y],r.hasOwnProperty(y)&&void 0!==f&&!n.hasOwnProperty(y)&&Zu(e,t,y,void 0,n,f);for(d in n)f=n[d],p=r[d],!n.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,n,p);return}}for(var v in r)f=r[v],r.hasOwnProperty(v)&&null!=f&&!n.hasOwnProperty(v)&&Qu(e,t,v,null,n,f);for(h in n)f=n[h],p=r[h],!n.hasOwnProperty(h)||f===p||null==f&&null==p||Qu(e,t,h,f,n,p)}(n,e.type,r,t),n[Te]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xu));else if(4!==n&&(27===n&&fd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,r),e=e.sibling;null!==e;)gl(e,t,r),e=e.sibling}function yl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&fd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(yl(e,t,r),e=e.sibling;null!==e;)yl(e,t,r),e=e.sibling}function vl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,n,r),t[Le]=e,t[Te]=r}catch(i){uu(e,e.return,i)}}var bl=!1,xl=!1,wl=!1,Nl="function"===typeof WeakSet?WeakSet:Set,_l=null;function Sl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Ml(e,r),4&n&&sl(5,r);break;case 1:if(Ml(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(r,r.return,s)}else{var a=go(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(r,r.return,o)}}64&n&&ll(r),512&n&&ul(r,r.return);break;case 3:if(Ml(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{hi(e,t)}catch(s){uu(r,r.return,s)}}break;case 27:null===t&&4&n&&vl(r);case 26:case 5:Ml(e,r),null===t&&4&n&&hl(r),512&n&&ul(r,r.return);break;case 12:Ml(e,r);break;case 13:Ml(e,r),4&n&&Pl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=pu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,a=bl;var i=xl;bl=n,(xl=t)&&!i?Bl(e,r,0!==(8772&r.subtreeFlags)):Ml(e,r),bl=a,xl=i}break;case 30:break;default:Ml(e,r)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kl=null,Al=!1;function Cl(e,t,r){for(r=r.child;null!==r;)Ol(e,t,r),r=r.sibling}function Ol(e,t,r){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,r)}catch(i){}switch(r.tag){case 26:xl||dl(r,t),Cl(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:xl||dl(r,t);var n=kl,a=Al;fd(r.type)&&(kl=r.stateNode,Al=!1),Cl(e,t,r),wd(r.stateNode),kl=n,Al=a;break;case 5:xl||dl(r,t);case 6:if(n=kl,a=Al,kl=null,Cl(e,t,r),Al=a,null!==(kl=n))if(Al)try{(9===kl.nodeType?kl.body:"HTML"===kl.nodeName?kl.ownerDocument.body:kl).removeChild(r.stateNode)}catch(s){uu(r,t,s)}else try{kl.removeChild(r.stateNode)}catch(s){uu(r,t,s)}break;case 18:null!==kl&&(Al?(pd(9===(e=kl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Ah(e)):pd(kl,r.stateNode));break;case 4:n=kl,a=Al,kl=r.stateNode.containerInfo,Al=!0,Cl(e,t,r),kl=n,Al=a;break;case 0:case 11:case 14:case 15:xl||ol(2,r,t),xl||ol(4,r,t),Cl(e,t,r);break;case 1:xl||(dl(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&cl(r,t,n)),Cl(e,t,r);break;case 21:Cl(e,t,r);break;case 22:xl=(n=xl)||null!==r.memoizedState,Cl(e,t,r),xl=n;break;default:Cl(e,t,r)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ah(e)}catch(r){uu(t,t.return,r)}}function El(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var n=mu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}function Ll(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){kl=l.stateNode,Al=!1;break e}break;case 5:kl=l.stateNode,Al=!1;break e;case 3:case 4:kl=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===kl)throw Error(s(160));Ol(i,o,a),kl=null,Al=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Tl=null;function Dl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ll(t,e),Il(e),4&n&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Ll(t,e),Il(e),512&n&&(xl||null===r||dl(r,r.return)),64&n&&bl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Tl;if(Ll(t,e),Il(e),512&n&&(xl||null===r||dl(r,r.return)),4&n){var i=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Be]||i[Le]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,n,r),i[Le]=e,He(i),n=i;break e;case"link":var o=Bd("link","href",a).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&i.getAttribute("rel")===(null==r.rel?null:r.rel)&&i.getAttribute("title")===(null==r.title?null:r.title)&&i.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}ed(i=a.createElement(n),n,r),a.head.appendChild(i);break;case"meta":if(o=Bd("meta","content",a).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&i.getAttribute("name")===(null==r.name?null:r.name)&&i.getAttribute("property")===(null==r.property?null:r.property)&&i.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&i.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}ed(i=a.createElement(n),n,r),a.head.appendChild(i);break;default:throw Error(s(468,n))}i[Le]=e,He(i),n=i}e.stateNode=n}else zd(a,e.type,e.stateNode);else e.stateNode=Dd(a,n,e.memoizedProps);else i!==n?(null===i?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):i.count--,null===n?zd(a,e.type,e.stateNode):Dd(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&fl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ll(t,e),Il(e),512&n&&(xl||null===r||dl(r,r.return)),null!==r&&4&n&&fl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ll(t,e),Il(e),512&n&&(xl||null===r||dl(r,r.return)),32&e.flags){a=e.stateNode;try{Nt(a,"")}catch(p){uu(e,e.return,p)}}4&n&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(wl=!0);break;case 6:if(Ll(t,e),Il(e),4&n){if(null===e.stateNode)throw Error(s(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,a=Tl,Tl=Sd(t.containerInfo),Ll(t,e),Tl=a,Il(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ah(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Rl(e));break;case 4:n=Tl,Tl=Sd(e.stateNode.containerInfo),Ll(t,e),Il(e),Tl=n;break;case 12:default:Ll(t,e),Il(e);break;case 13:Ll(t,e),Il(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wc=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,El(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=bl,d=xl;if(bl=u||a,xl=d||c,Ll(t,e),xl=d,bl=u,Il(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||bl||xl||Fl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,El(e,r))));break;case 19:Ll(t,e),Il(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,El(e,n)));case 30:case 21:}}function Il(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(pl(n)){r=n;break}n=n.return}if(null==r)throw Error(s(160));switch(r.tag){case 27:var a=r.stateNode;yl(e,ml(e),a);break;case 5:var i=r.stateNode;32&r.flags&&(Nt(i,""),r.flags&=-33),yl(e,ml(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&cl(t,t.return,r),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Bl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Bl(a,i,r),sl(4,i);break;case 1:if(Bl(a,i,r),"function"===typeof(a=(n=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(n,n.return,c)}if(null!==(a=(n=i).updateQueue)){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],o)}catch(c){uu(n,n.return,c)}}r&&64&s&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:Bl(a,i,r),r&&null===n&&4&s&&hl(i),ul(i,i.return);break;case 12:Bl(a,i,r);break;case 13:Bl(a,i,r),r&&4&s&&Pl(a,i);break;case 22:null===i.memoizedState&&Bl(a,i,r),ul(i,i.return);break;case 30:break;default:Bl(a,i,r)}t=t.sibling}}function zl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Da(r))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function ql(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,r,n),t=t.sibling}function $l(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,r,n),2048&a&&sl(9,t);break;case 1:case 13:default:ql(e,t,r,n);break;case 3:ql(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){ql(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else ql(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?ql(e,t,r,n):Hl(e,t):2&i._visibility?ql(e,t,r,n):(i._visibility|=2,Wl(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&a&&zl(s,t);break;case 24:ql(e,t,r,n),2048&a&&Ul(t.alternate,t)}}function Wl(e,t,r,n,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=r,l=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:Wl(i,s,o,l,a),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Wl(i,s,o,l,a):Hl(i,s):(u._visibility|=2,Wl(i,s,o,l,a)),a&&2048&c&&zl(s.alternate,s);break;case 24:Wl(i,s,o,l,a),a&&2048&c&&Ul(s.alternate,s);break;default:Wl(i,s,o,l,a)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Hl(r,n),2048&a&&zl(n.alternate,n);break;case 24:Hl(r,n),2048&a&&Ul(n.alternate,n);break;default:Hl(r,n)}t=t.sibling}}var Kl=8192;function Vl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Vl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,r){if(null===qd)throw Error(s(475));var n=qd;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Od(r.href),i=e.querySelector(Pd(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Wd.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,r=Ed(r),(a=Nd.get(a))&&Rd(r,a),He(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",r),t.instance=i}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Wd.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Tl,e.memoizedState,e.memoizedProps);break;case 5:default:Vl(e);break;case 3:case 4:var t=Tl;Tl=Sd(e.stateNode.containerInfo),Vl(e),Tl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Vl(e),Kl=t):Vl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];_l=n,Zl(n,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):Jl(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];_l=n,Zl(n,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Ql(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Zl(e,t){for(;null!==_l;){var r=_l;switch(r.tag){case 0:case 11:case 15:ol(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Da(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,_l=n;else e:for(r=e;null!==_l;){var a=(n=_l).sibling,i=n.return;if(jl(n),n===r){_l=null;break e}if(null!==a){a.return=i,_l=a;break e}_l=i}}}var ec={getCacheForType:function(e){var t=ka(La),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tc="function"===typeof WeakMap?WeakMap:Map,rc=0,nc=null,ac=null,ic=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,Nc=1/0,_c=null,Sc=null,jc=0,kc=null,Ac=null,Cc=0,Oc=0,Pc=null,Ec=null,Lc=0,Tc=null;function Dc(){if(0!==(2&rc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==Ma?Ma:Ou()}return Pe()}function Ic(){0===gc&&(gc=0===(536870912&ic)||ia?Ne():536870912);var e=no.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,r){(e!==nc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||($c(e,0),zc(e,ic,gc,!1)),je(e,r),0!==(2&rc)&&e===nc||(e===nc&&(0===(2&rc)&&(pc|=r),4===hc&&zc(e,ic,gc,!1)),Nu(e))}function Mc(e,t,r){if(0!==(6&rc))throw Error(s(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),a=n?function(e,t){var r=rc;rc|=2;var n=Hc(),a=Kc();nc!==e||ic!==t?(_c=null,Nc=te()+500,$c(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var i=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Ya(i)){sc=0,oc=null,Qc(t);break}t=function(){2!==sc&&9!==sc||nc!==e||(sc=7),Nu(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Ya(i)?(sc=0,oc=null,Qc(t)):(sc=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Ud(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}sc=0,oc=null,Zc(e,t,i,5);break;case 6:sc=0,oc=null,Zc(e,t,i,6);break;case 8:qc(),hc=6;break e;default:throw Error(s(462))}}Jc();break}catch(d){Wc(e,d)}return va=ya=null,D.H=n,D.A=a,rc=r,null!==ac?0:(nc=null,ic=0,Cn(),hc)}(e,t):Gc(e,t,!0),i=n;;){if(0===a){cc&&!n&&zc(e,t,0,!1);break}if(r=e.current.alternate,!i||Bc(r)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,a=4;break e}i=bc,bc=a,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){$c(e,0),zc(e,t,0,!0);break}e:{switch(n=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:zc(n,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(zc(n,t,gc,!lc),0!==be(n,0,!0))break e;n.timeoutHandle=ld(Fc.bind(null,n,r,bc,_c,xc,t,gc,pc,yc,lc,i,2,-0,0),a)}else Fc(n,r,bc,_c,xc,t,gc,pc,yc,lc,i,0,-0,0)}break}a=Gc(e,t,!1),i=!1}Nu(e)}function Fc(e,t,r,n,a,i,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(qd={stylesheets:null,count:0,unsuspend:$d},Gl(t),null!==(h=function(){if(null===qd)throw Error(s(475));var e=qd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,i,r,n,a,o,l,c,d,1,f,p)),void zc(e,i,o,!u);ru(e,t,i,r,n,a,o,l,c)}function Bc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Gr(i(),a))return!1}catch(s){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,r,n){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),s=1<<i;n[i]=-1,a&=~s}0!==r&&ke(e,r,t)}function Uc(){return 0!==(6&rc)||(_u(0,!1),!1)}function qc(){if(null!==ac){if(0===sc)var e=ac.return;else va=ya=null,Mi(e=ac),Gs=null,Ys=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function $c(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,cd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),qc(),nc=e,ac=r=Fn(e.current,null),ic=t,sc=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-fe(n),i=1<<a;t|=e[a],n&=~i}return dc=t,Cn(),r}function Wc(e,t){bi=null,D.H=Ws,t===Ha||t===Va?(t=Za(),sc=3):t===Ka?(t=Za(),sc=4):sc=t===ko?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(hc=1,wo(e,Sn(t,e.current)))}function Hc(){var e=D.H;return D.H=Ws,null===e?Ws:e}function Kc(){var e=D.A;return D.A=ec,e}function Vc(){hc=4,lc||(4194048&ic)!==ic&&null!==no.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===nc||zc(nc,ic,gc,!1)}function Gc(e,t,r){var n=rc;rc|=2;var a=Hc(),i=Kc();nc===e&&ic===t||(_c=null,$c(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ac){var o=ac,l=oc;switch(sc){case 8:qc(),s=6;break e;case 3:case 2:case 9:case 6:null===no.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),r&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Yc(),s=hc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,rc=n,D.H=a,D.A=i,null===ac&&(nc=null,ic=0,Cn()),s}function Yc(){for(;null!==ac;)Xc(ac)}function Jc(){for(;null!==ac&&!Z();)Xc(ac)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Qc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ro(r,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Ro(r,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Mi(t);default:il(r,t),t=Xo(r,t=ac=Bn(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,r,n){va=ya=null,Mi(t),Gs=null,Ys=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&_a(t,r,a,!0),null!==(r=no.current)){switch(r.tag){case 13:return null===ao?Vc():null===r.alternate&&0===hc&&(hc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Ga?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),du(e,n,a)),!1;case 22:return r.flags|=65536,n===Ga?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),du(e,n,a)),!1}throw Error(s(435,r.tag))}return du(e,n,a),Vc(),!1}if(ia)return null!==(t=no.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==la&&ma(Sn(e=Error(s(422),{cause:n}),r))):(n!==la&&ma(Sn(t=Error(s(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=Sn(n,r),oi(e,a=_o(e.stateNode,n,a)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:n});if(i=Sn(i,r),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;n=Sn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,oi(r,e=_o(r.stateNode,n,e)),!1;case 1:if(t=r.type,i=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,jo(a=So(a),e,r,n),oi(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,ic))return hc=1,wo(e,Sn(r,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,wo(e,Sn(r,e.current)),void(ac=null)}32768&t.flags?(ia||1===n?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=no.current)&&13===n.tag&&(n.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var r=nl(t.alternate,t,dc);if(null!==r)return void(ac=r);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var r=al(e.alternate,e);if(null!==r)return r.flags&=32767,void(ac=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=r}while(null!==e);hc=6,ac=null}function ru(e,t,r,n,a,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==jc);if(0!==(6&rc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,r,n,a,i){var s=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=s&~r;0<r;){var u=31-fe(r),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}r&=~d}0!==n&&ke(e,n,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,r,i|=An,o,l,c),e===nc&&(ac=nc=null,ic=0),Ac=t,kc=e,Cc=r,Oc=i,Pc=a,Ec=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null,a=I.p,I.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,td=rh,en(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===i&&++d===n&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},rh=!1,_l=t;null!==_l;)if(e=(t=_l).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(i=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var m=go(r.type,a,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(m,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(r,r.return,y)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{rc=o,I.p=a,D.T=n}}jc=1,nu(),au(),iu()}}function nu(){if(1===jc){jc=0;var e=kc,t=Ac,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null;var n=I.p;I.p=2;var a=rc;rc|=4;try{Dl(t,e);var i=rd,s=Zr(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Qr(o.ownerDocument.documentElement,o)){if(null!==l&&en(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Xr(o,m),v=Xr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rh=!!td,rd=td=null}finally{rc=a,I.p=n,D.T=r}}e.current=t,jc=2}}function au(){if(2===jc){jc=0;var e=kc,t=Ac,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=D.T,D.T=null;var n=I.p;I.p=2;var a=rc;rc|=4;try{Sl(e,t.alternate,t)}finally{rc=a,I.p=n,D.T=r}}jc=3}}function iu(){if(4===jc||3===jc){jc=0,ee();var e=kc,t=Ac,r=Cc,n=Ec;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jc=5:(jc=0,Ac=kc=null,su(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Sc=null),Oe(r),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=D.T,a=I.p,I.p=2,D.T=null;try{for(var i=e.onRecoverableError,s=0;s<n.length;s++){var o=n[s];i(o.value,{componentStack:o.stack})}}finally{D.T=t,I.p=a}}0!==(3&Cc)&&ou(),Nu(e),a=e.pendingLanes,0!==(4194090&r)&&0!==(42&a)?e===Tc?Lc++:(Lc=0,Tc=e):Lc=0,_u(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function ou(e){return nu(),au(),iu(),lu()}function lu(){if(5!==jc)return!1;var e=kc,t=Oc;Oc=0;var r=Oe(Cc),n=D.T,a=I.p;try{I.p=32>r?32:r,D.T=null,r=Pc,Pc=null;var i=kc,o=Cc;if(jc=0,Ac=kc=null,Cc=0,0!==(6&rc))throw Error(s(331));var l=rc;if(rc|=4,Xl(i.current),$l(i,i.current,o,r),rc=l,_u(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{I.p=a,D.T=n,su(e,t)}}function cu(e,t,r){t=Sn(r,t),null!==(e=ii(e,t=_o(e.stateNode,t,2),2))&&(je(e,2),Nu(e))}function uu(e,t,r){if(3===e.tag)cu(e,e,r);else for(;null!==t;){if(3===t.tag){cu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Sc||!Sc.has(n))){e=Sn(r,e),null!==(n=ii(t,r=So(2),2))&&(jo(r,n,t,e),je(n,2),Nu(n));break}}t=t.return}}function du(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(uc=!0,a.add(r),e=hu.bind(null,e,t,r),t.then(e,e))}function hu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nc===e&&(ic&r)===r&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&rc)&&$c(e,0):mc|=r,yc===ic&&(yc=0)),Nu(e)}function fu(e,t){0===t&&(t=_e()),null!==(e=En(e,t))&&(je(e,t),Nu(e))}function pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),fu(e,r)}function mu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==n&&n.delete(t),fu(e,r)}var gu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function Nu(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&rc)?X(ne,Su):ju()}))}function _u(e,t){if(!xu&&bu){xu=!0;do{for(var r=!1,n=gu;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var i=0;else{var s=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(r=!0,Cu(n,i))}else i=ic,0===(3&(i=be(n,n===nc?i:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||xe(n,i)||(r=!0,Cu(n,i));n=n.next}}while(r);xu=!1}}function Su(){ju()}function ju(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),r=null,n=gu;null!==n;){var a=n.next,i=ku(n,t);0===i?(n.next=null,null===r?gu=a:r.next=a,null===a&&(yu=r)):(r=n,(0!==e||0!==(3&i))&&(bu=!0)),n=a}_u(e,!1)}function ku(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),o=1<<s,l=a[s];-1===l?0!==(o&r)&&0===(o&n)||(a[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(r=ic,r=be(e,e===(t=nc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&Q(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||xe(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&Q(n),Oe(r)){case 2:case 8:r=ae;break;case 32:default:r=ie;break;case 268435456:r=oe}return n=Au.bind(null,e),r=X(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&Q(n),e.callbackPriority=2,e.callbackNode=null,2}function Au(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ou()&&e.callbackNode!==r)return null;var n=ic;return 0===(n=be(e,e===nc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,n,t),ku(e,te()),null!=e.callbackNode&&e.callbackNode===r?Au.bind(null,e):null)}function Cu(e,t){if(ou())return null;Mc(e,t,!0)}function Ou(){return 0===wu&&(wu=Ne()),wu}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ot(""+e)}function Eu(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Lu=0;Lu<wn.length;Lu++){var Tu=wn[Lu];Nn(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}Nn(fn,"onAnimationEnd"),Nn(pn,"onAnimationIteration"),Nn(mn,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(gn,"onTransitionRun"),Nn(yn,"onTransitionStart"),Nn(vn,"onTransitionCancel"),Nn(bn,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Ru(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){yo(u)}a.currentTarget=null,i=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){yo(u)}a.currentTarget=null,i=l}}}}function Mu(e,t){var r=t[Ie];void 0===r&&(r=t[Ie]=new Set);var n=e+"__bubble";r.has(n)||(Uu(t,e,2,!1),r.add(n))}function Fu(e,t,r){var n=0;t&&(n|=4),Uu(r,e,n,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Bu]){e[Bu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Iu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Fu("selectionchange",!1,t))}}function Uu(e,t,r,n){switch(ch(t)){case 2:var a=nh;break;case 8:a=ah;break;default:a=ih}r=a.bind(null,t,r,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qu(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=n.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Ue(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){n=i=s;continue e}o=o.parentNode}}n=n.return}Rt(function(){var n=i,a=Et(r),s=[];e:{var o=xn.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(r))break e;case"keydown":case"keyup":c=pr;break;case"focusin":u="focus",c=ir;break;case"focusout":u="blur",c=ir;break;case"beforeblur":case"afterblur":c=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gr;break;case fn:case pn:case mn:c=sr;break;case bn:c=yr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=vr;break;case"copy":case"cut":case"paste":c=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mr;break;case"toggle":case"beforetoggle":c=br}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=n;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,r,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Pt||!(u=r.relatedTarget||r.fromElement)||!Ue(u)&&!u[De])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=n),c!==u)){if(d=nr,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=mr,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:$e(c),p=null==u?o:$e(u),(o=new d(g,m+"leave",c,r,a)).target=h,o.relatedTarget=p,g=null,Ue(a)===n&&((d=new d(f,m+"enter",u,r,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hu(d),f=Hu(f)}d=null}else d=null;null!==c&&Ku(s,o,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(o=n?$e(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Mr;else if(Er(o))if(Fr)y=Vr;else{y=Hr;var v=Wr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&kt(n.elementType)&&(y=Mr):y=Kr;switch(y&&(y=y(e,n))?Lr(s,y,r,a):(v&&v(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&vt(o,"number",o.value)),v=n?$e(n):window,e){case"focusin":(Er(v)||"true"===v.contentEditable)&&(rn=v,nn=n,an=null);break;case"focusout":an=nn=rn=null;break;case"mousedown":sn=!0;break;case"contextmenu":case"mouseup":case"dragend":sn=!1,on(s,r,a);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":on(s,r,a)}var b;if(wr)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Or?Ar(e,r)&&(x="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(x="onCompositionStart");x&&(Sr&&"ko"!==r.locale&&(Or||"onCompositionStart"!==x?"onCompositionEnd"===x&&Or&&(b=Wt()):(qt="value"in(Ut=a)?Ut.value:Ut.textContent,Or=!0)),0<(v=Wu(n,x)).length&&(x=new lr(x,e,null,r,a),s.push({event:x,listeners:v}),b?x.data=b:null!==(b=Cr(r))&&(x.data=b))),(b=_r?function(e,t){switch(e){case"compositionend":return Cr(t);case"keypress":return 32!==t.which?null:(kr=!0,jr);case"textInput":return(e=t.data)===jr&&kr?null:e;default:return null}}(e,r):function(e,t){if(Or)return"compositionend"===e||!wr&&Ar(e,t)?(e=Wt(),$t=qt=Ut=null,Or=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(x=Wu(n,"onBeforeInput")).length&&(v=new lr("onBeforeInput","beforeinput",null,r,a),s.push({event:v,listeners:x}),v.data=b)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var i=Pu((a[Te]||null).action),s=n.submitter;s&&null!==(t=(t=s[Te]||null)?Pu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==wu){var e=s?Eu(a,s):new FormData(a);Ps(r,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Eu(a,s):new FormData(a),Ps(r,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,n,r,a)}Ru(s,t)})}function $u(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wu(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Mt(e,r))&&n.unshift($u(e,a,i)),null!=(a=Mt(e,t))&&n.push($u(e,a,i))),3===e.tag)return n;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,r,n,a){for(var i=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Mt(r,i))&&s.unshift($u(r,c,l)):a||null!=(c=Mt(r,i))&&s.push($u(r,c,l))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Vu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(Gu,"")}function Ju(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Qu(e,t,r,n,a,i){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&Nt(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":jt(e,n,i);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ot(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===r?("input"!==t&&Qu(e,t,"name",a.name,a,null),Qu(e,t,"formEncType",a.formEncType,a,null),Qu(e,t,"formMethod",a.formMethod,a,null),Qu(e,t,"formTarget",a.formTarget,a,null)):(Qu(e,t,"encType",a.encType,a,null),Qu(e,t,"method",a.method,a,null),Qu(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ot(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Xu);break;case"onScroll":null!=n&&Mu("scroll",e);break;case"onScrollEnd":null!=n&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Ot(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=At.get(r)||r,n)}}function Zu(e,t,r,n,a,i){switch(r){case"style":jt(e,n,i);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"children":"string"===typeof n?Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&Nt(e,""+n);break;case"onScroll":null!=n&&Mu("scroll",e);break;case"onScrollEnd":null!=n&&Mu("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ve.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(i=null!=(i=e[Te]||null)?i[r]:null)&&e.removeEventListener(t,i,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof i&&null!==i&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function ed(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var n,a=!1,i=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qu(e,t,n,o,r,null)}}return i&&Qu(e,t,"srcSet",r.srcSet,r,null),void(a&&Qu(e,t,"src",r.src,r,null));case"input":Mu("invalid",e);var l=n=o=i=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var d=r[a];if(null!=d)switch(a){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Qu(e,t,a,d,r,null)}}return yt(e,n,l,c,u,o,i,!1),void dt(e);case"select":for(i in Mu("invalid",e),a=o=n=null,r)if(r.hasOwnProperty(i)&&null!=(l=r[i]))switch(i){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Qu(e,t,i,l,r,null)}return t=n,r=o,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=r&&bt(e,!!a,r,!0));case"textarea":for(o in Mu("invalid",e),n=i=a=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Qu(e,t,o,l,r,null)}return wt(e,a,i,n),void dt(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Qu(e,t,c,a,r,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(a=0;a<Du.length;a++)Mu(Du[a],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(a=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qu(e,t,u,a,r,null)}return;default:if(kt(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(a=r[d])&&Zu(e,t,d,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&Qu(e,t,l,a,r,null))}var td=null,rd=null;function nd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var r=t,n=0,a=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0<n&&8>n){r=n;var s=e.ownerDocument;if(1&r&&wd(s.documentElement),2&r&&wd(s.body),4&r)for(wd(r=s.head),s=r.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||r.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Ah(t);a--}else"$"===r||"$?"===r||"$!"===r?a++:n=r.charCodeAt(0)-48;else n=0;r=i}while(r);Ah(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),ze(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function xd(e,t,r){switch(t=nd(r),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Nd=new Map,_d=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jd=I.d;I.d={f:function(){var e=jd.f(),t=Uc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Ls(t):jd.r(e)},D:function(e){jd.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){jd.C(e,t),Ad("preconnect",e,t)},L:function(e,t,r){jd.L(e,t,r);var n=kd;if(n&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+mt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+mt(r.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Od(e);break;case"script":i=Ld(e)}Nd.has(i)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Nd.set(i,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Pd(i))||"script"===t&&n.querySelector(Td(i))||(ed(t=n.createElement("link"),"link",e),He(t),n.head.appendChild(t)))}},m:function(e,t){jd.m(e,t);var r=kd;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(n)+'"][href="'+mt(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ld(e)}if(!Nd.has(i)&&(e=h({rel:"modulepreload",href:e},t),Nd.set(i,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Td(i)))return}ed(n=r.createElement("link"),"link",e),He(n),r.head.appendChild(n)}}},X:function(e,t){jd.X(e,t);var r=kd;if(r&&e){var n=We(r).hoistableScripts,a=Ld(e),i=n.get(a);i||((i=r.querySelector(Td(a)))||(e=h({src:e,async:!0},t),(t=Nd.get(a))&&Md(e,t),He(i=r.createElement("script")),ed(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}},S:function(e,t,r){jd.S(e,t,r);var n=kd;if(n&&e){var a=We(n).hoistableStyles,i=Od(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(Pd(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Nd.get(i))&&Rd(e,r);var l=s=n.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Id(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){jd.M(e,t);var r=kd;if(r&&e){var n=We(r).hoistableScripts,a=Ld(e),i=n.get(a);i||((i=r.querySelector(Td(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=Nd.get(a))&&Md(e,t),He(i=r.createElement("script")),ed(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}};var kd="undefined"===typeof document?null:document;function Ad(e,t,r){var n=kd;if(n&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),_d.has(a)||(_d.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(ed(t=n.createElement("link"),"link",e),He(t),n.head.appendChild(t)))}}function Cd(e,t,r,n){var a,i,o,l,c=(c=W.current)?Sd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Od(r.href),(n=(r=We(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Od(r.href);var u=We(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Nd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nd.set(e,r),u||(a=c,i=e,o=r,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),He(i),a.head.appendChild(i))))),t&&null===n)throw Error(s(528,""));return d}if(t&&null!==n)throw Error(s(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ld(r),(n=(r=We(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Od(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Ed(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Ld(e){return'[src="'+mt(e)+'"]'}function Td(e){return"script[async]"+e}function Dd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+mt(r.href)+'"]');if(n)return t.instance=n,He(n),n;var a=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return He(n=(e.ownerDocument||e).createElement("style")),ed(n,"style",a),Id(n,r.precedence,e),t.instance=n;case"stylesheet":a=Od(r.href);var i=e.querySelector(Pd(a));if(i)return t.state.loading|=4,t.instance=i,He(i),i;n=Ed(r),(a=Nd.get(a))&&Rd(n,a),He(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.state.loading|=4,Id(i,r.precedence,e),t.instance=i;case"script":return i=Ld(r.src),(a=e.querySelector(Td(i)))?(t.instance=a,He(a),a):(n=r,(a=Nd.get(i))&&Md(n=h({},r),a),He(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Id(n,r.precedence,e));return t.instance}function Id(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Bd(e,t,r){if(null===Fd){var n=new Map,a=Fd=new Map;a.set(r,n)}else(n=(a=Fd).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Be]||i[Le]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=n.get(s);o?o.push(i):n.set(s,[i])}}return n}function zd(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qd=null;function $d(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Vd,e),Hd=null,Wd.call(e))}function Vd(e,t){if(!(4&t.state.loading)){var r=Hd.get(e);if(r)var n=r.get(null);else{r=new Map,Hd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}s=(a=t.instance).getAttribute("data-precedence"),(i=r.get(s)||n)===n&&r.set(null,a),r.set(s,a),this.count++,n=Wd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,r,n,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Jd(e,t,r,n,a,i,s,o,l,c,u,d){return e=new Yd(e,t,r,s,o,l,c,d),t=1,!0===i&&(t|=24),i=Rn(3,null,null,t),e.current=i,i.stateNode=e,(t=Ta()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},ri(i),e}function Xd(e){return e?e=Dn:Dn}function Qd(e,t,r,n,a,i){a=Xd(a),null===n.context?n.context=a:n.pendingContext=a,(n=ai(t)).payload={element:r},null!==(i=void 0===i?null:i)&&(n.callback=i),null!==(r=ii(e,n,t))&&(Rc(r,0,t),si(r,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=En(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var rh=!0;function nh(e,t,r,n){var a=D.T;D.T=null;var i=I.p;try{I.p=2,ih(e,t,r,n)}finally{I.p=i,D.T=a}}function ah(e,t,r,n){var a=D.T;D.T=null;var i=I.p;try{I.p=8,ih(e,t,r,n)}finally{I.p=i,D.T=a}}function ih(e,t,r,n){if(rh){var a=sh(n);if(null===a)qu(e,t,n,oh,r),vh(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return dh=bh(dh,e,t,r,n,a),!0;case"dragenter":return hh=bh(hh,e,t,r,n,a),!0;case"mouseover":return fh=bh(fh,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return ph.set(i,bh(ph.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(vh(e,n),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var i=qe(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ve(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}Nu(i),0===(6&rc)&&(Nc=te()+500,_u(0,!1))}}break;case 13:null!==(o=En(i,2))&&Rc(o,0,2),Uc(),eh(i,2)}if(null===(i=sh(n))&&qu(e,t,n,oh,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else qu(e,t,n,null,r)}}function sh(e){return lh(e=Et(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=qe(t))&&th(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function xh(e){var t=Ue(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=I.p;try{return I.p=e,t()}finally{I.p=r}}(e.priority,function(){if(13===r.tag){var e=Dc();e=Ce(e);var t=En(r,e);null!==t&&Rc(t,0,e),eh(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=sh(e.nativeEvent);if(null!==r)return null!==(t=qe(r))&&th(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Pt=n,r.target.dispatchEvent(n),Pt=null,t.shift()}return!0}function Nh(e,t,r){wh(e)&&r.delete(t)}function _h(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(Nh),mh.forEach(Nh)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_h)))}var jh=null;function kh(e){jh!==e&&(jh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jh===e&&(jh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===lh(n||r))continue;break}var i=qe(r);null!==i&&(e.splice(t,3),t-=3,Ps(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Ah(e){function t(t){return Sh(t,e)}null!==dh&&Sh(dh,e),null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),ph.forEach(t),mh.forEach(t);for(var r=0;r<gh.length;r++){var n=gh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<gh.length&&null===(r=gh[0]).blockedOn;)xh(r),null===r.blockedOn&&gh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],s=a[Te]||null;if("function"===typeof i)s||kh(r);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Te]||null)o=s.formAction;else if(null!==lh(a))continue}else o=s.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),kh(r)}}}function Ch(e){this._internalRoot=e}function Oh(e){this._internalRoot=e}Oh.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qd(t.current,Dc(),e,t,null,null)},Oh.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Uc(),t[De]=null}},Oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gh.length&&0!==t&&t<gh[r].priority;r++);gh.splice(r,0,e),0===r&&xh(e)}};var Ph=a.version;if("19.1.1"!==Ph)throw Error(s(527,Ph,"19.1.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return u(a),e;if(i===n)return u(a),t;i=i.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=i;break}if(c===n){o=!0,n=a,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=a;break}if(c===n){o=!0,n=i,r=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Eh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{ue=Lh.inject(Eh),de=Lh}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,n="",a=vo,i=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Jd(e,1,!1,null,0,r,n,a,i,l,0,null),e[De]=t.current,zu(e),new Ch(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var n=!1,a="",i=vo,l=bo,c=xo,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(i=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=Jd(e,1,!0,t,0,n,a,i,l,c,0,u)).context=Xd(null),r=t.current,(a=ai(n=Ce(n=Dc()))).callback=null,ii(r,a,n),r=n,t.current.lanes=r,je(t,r),Nu(t),e[De]=t.current,zu(e),new Oh(t)},t.version="19.1.1"},7043:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3799),a=r(4879);t.range=function(e,t,r){r&&"number"!==typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),r=void 0===r?e<t?1:-1:a.toFinite(r);const i=Math.max(Math.ceil((t-e)/(r||1)),0),s=new Array(i);for(let n=0;n<i;n++)s[n]=e,e+=r;return s}},7237:(e,t,r)=>{"use strict";r(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=[],n=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const s=e[i];Array.isArray(s)&&t<n?a(s,t+1):r.push(s)}};return a(e,0),r}},7330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9323);t.property=function(e){return function(t){return n.get(t,e)}}},7374:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(9286));class i extends a.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":`${n}.offset`,i="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7770:(e,t,r)=>{e.exports=r(9323).get},7820:(e,t,r)=>{e.exports=r(5414).throttle},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},7980:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=n(r(1210));t.PostgrestClient=a.default;const i=n(r(8829));t.PostgrestQueryBuilder=i.default;const s=n(r(5736));t.PostgrestFilterBuilder=s.default;const o=n(r(7374));t.PostgrestTransformBuilder=o.default;const l=n(r(9286));t.PostgrestBuilder=l.default;const c=n(r(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8182:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9330),a=r(4737);t.isEqual=function(e,t){return n.isEqualWith(e,t,a.noop)}},8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?C(t,h):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),i>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?C(t,h):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function x(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=j(r)),i+=n;(r=7-(n=(s=e[t])+"").length)&&(i+=j(r))}else if(0===s)return"0";for(;s%10===0;)s/=10;return i+s}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return C(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return _(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(o=!1,t=w(k(r,s),k(e,s),s),o=!0,C(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=w(r,e,0,1).times(e),o=!0,r.minus(t)):C(new n(r),a)},y.naturalExponential=y.exp=function(){return N(this)},y.naturalLogarithm=y.ln=function(){return k(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):O(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},y.squareRoot=y.sqrt=function(){var e,t,r,n,a,i,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=s=(r=u.precision)+3;;)if(n=(i=n).plus(w(c,i,s+2)).times(.5),x(i.d).slice(0,s)===(t=x(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(C(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;s+=4}return o=!0,C(n,r)},y.times=y.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,s=c,c=u,u=s),i=[],n=s=c+u;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,o?C(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,i),void 0===t?t=n.rounding:b(t,0,8),C(r,e+_(r)+1,t))},y.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=P(n,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),r=P(n=C(new a(n),e+1,t),!0,e+1)),r},y.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?P(a):(b(e,0,i),void 0===t?t=s.rounding:b(t,0,8),r=P((n=C(new s(a),e+_(a)+1,t)).abs(),!1,e+_(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return C(new t(e),_(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,r,n,i,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=h.precision,e.eq(a))return C(u,n);if(c=(t=e.e)>=(r=e.d.length-1),s=u.s,c){if((r=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(n/7+4),o=!1;r%2&&E((i=i.times(u)).d,t),0!==(r=d(r/2));)E((u=u.times(u)).d,t);return o=!0,e.s<0?new h(a).div(i):C(i,n)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,o=!1,i=e.times(k(u,n+12)),o=!0,(i=N(i)).s=s,i},y.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?n=P(a,(r=_(a))<=s.toExpNeg||r>=s.toExpPos):(b(e,1,i),void 0===t?t=s.rounding:b(t,0,8),n=P(a=C(new s(a),e,t),e<=(r=_(a))||r<=s.toExpNeg,e)),n},y.toSignificantDigits=y.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,i),void 0===t?t=r.rounding:b(t,0,8)),C(new r(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=_(e),r=e.constructor;return P(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,s){var o,c,u,d,h,f,m,g,y,v,b,x,w,N,S,j,k,A,O=n.constructor,P=n.s==a.s?1:-1,E=n.d,L=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,k=L.length,S=E.length,g=(m=new O(P)).d=[],u=0;L[u]==(E[u]||0);)++u;if(L[u]>(E[u]||0)&&--c,(x=null==i?i=O.precision:s?i+(_(n)-_(a))+1:i)<0)return new O(0);if(x=x/7+2|0,u=0,1==k)for(d=0,L=L[0],x++;(u<S||d)&&x--;u++)w=d*p+(E[u]||0),g[u]=w/L|0,d=w%L|0;else{for((d=p/(L[0]+1)|0)>1&&(L=e(L,d),E=e(E,d),k=L.length,S=E.length),N=k,v=(y=E.slice(0,k)).length;v<k;)y[v++]=0;(A=L.slice()).unshift(0),j=L[0],L[1]>=p/2&&++j;do{d=0,(o=t(L,y,k,v))<0?(b=y[0],k!=v&&(b=b*p+(y[1]||0)),(d=b/j|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(L,d),y,f=h.length,v=y.length))&&(d--,r(h,k<f?A:L,f))):(0==d&&(o=d=1),h=L.slice()),(f=h.length)<v&&h.unshift(0),r(y,h,v),-1==o&&(o=t(L,y,k,v=y.length))<1&&(d++,r(y,k<v?A:L,v)),v=y.length):0===o&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=E[N]||0:(y=[E[N]],v=1)}while((N++<S||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,C(m,s?i+_(m)+1:i)}}();function N(e,t){var r,n,i,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new f(a);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=i=new f(a),f.precision=l;;){if(n=C(n.times(e),l),r=r.times(++c),x((s=i.plus(w(n,r,l))).d).slice(0,l)===x(i.d).slice(0,l)){for(;d--;)i=C(i.times(i),l);return f.precision=p,null==t?(o=!0,C(i,p)):i}i=s}}function _(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function S(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function j(e){for(var t="";e--;)t+="0";return t}function k(e,t){var r,n,i,s,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(o=!1,h=v):h=t,m.eq(10))return null==t&&(o=!0),S(y,h);if(h+=10,y.precision=h,n=(r=x(g)).charAt(0),s=_(m),!(Math.abs(s)<15e14))return d=S(y,h+2,v).times(s+""),m=k(new y(n+"."+r.slice(1)),h-10).plus(d),y.precision=v,null==t?(o=!0,C(m,v)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=x((m=m.times(e)).d)).charAt(0),p++;for(s=_(m),n>1?(m=new y("0."+r),s++):m=new y(n+"."+r.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=C(m.times(m),h),i=3;;){if(c=C(c.times(f),h),x((d=u.plus(w(c,new y(i),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(S(y,h+2,v).times(s+""))),u=w(u,new y(p),h),y.precision=v,null==t?(o=!0,C(u,v)):u;u=d,i+=2}}function A(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,r){var n,a,i,s,l,c,f,m,y=e.d;for(s=1,i=y[0];i>=10;i/=10)s++;if((n=t-s)<0)n+=7,a=t,f=y[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=y.length))return e;for(f=i=y[m],s=1;i>=10;i/=10)s++;a=(n%=7)-7+s}if(void 0!==r&&(l=f/(i=h(10,s-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,s-a):0:y[m-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return c?(i=_(e),y.length=1,t=t-i-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==n?(y.length=m,i=1,m--):(y.length=m+1,i=h(10,7-n),y[m]=a>0?(f/h(10,s-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(n=y.length;0===y[--n];)y.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+_(e));return e}function O(e,t){var r,n,a,i,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?C(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n){for((d=s<0)?(r=c,s=-s,l=h.length):(r=h,n=u,l=c.length),s>(a=Math.max(Math.ceil(m/7),l)+2)&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}s=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>s;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?C(t,m):t):new f(0)}function P(e,t,r){var n,a=_(e),i=x(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+j(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+j(-a-1)+i,r&&(n=r-s)>0&&(i+=j(n))):a>=s?(i+=j(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+j(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=j(n))),e.s<0?"-"+i:i}function E(e,t){if(e.length>t)return e.length=t,!0}function L(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}s=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);A(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=L,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(s),s.default=s.Decimal=s,a=new s(1),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},8268:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2132);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue},8396:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5508);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,r)=>{"use strict";e.exports=r(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new a(n,i||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,s=new Array(i);a<i;a++)s[a]=n[a].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,i,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},8829:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(5736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},8845:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(3272),i=r(8396),s=r(9323),o=r(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(r){const a=s.get(r,e);return void 0===a?o.has(r,e):void 0===t?void 0===a:n.isMatch(a,t)}}},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},9286:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(4630)),i=n(r(2611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let a=null,s=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&i&&i.length>1&&(o=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,c="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(s=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(n=null===a||void 0===a?void 0:a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:s,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},9323:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7260),a=r(2489),i=r(3272),s=r(1444);t.get=function e(t,r,o){if(null==t)return o;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return o;const i=t[r];return void 0===i?a.isDeepKey(r)?e(t,s.toPath(r),o):o:i}case"number":case"symbol":{"number"===typeof r&&(r=i.toKey(r));const e=t[r];return void 0===e?o:e}default:{if(Array.isArray(r))return function(e,t,r){if(0===t.length)return r;let a=e;for(let i=0;i<t.length;i++){if(null==a)return r;if(n.isUnsafeProperty(t[i]))return r;a=a[t[i]]}if(void 0===a)return r;return a}(t,r,o);if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return o;const e=t[r];return void 0===e?o:e}}}},9330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4385),a=r(6443),i=r(5990),s=r(7599),o=r(9972);function l(e,t,r,n,a,i,s){const o=s(e,t,r,n,a,i);if(void 0!==o)return o;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,i,s)}return c(e,t,i,s)}function c(e,t,r,u){if(Object.is(e,t))return!0;let d=i.getTag(e),h=i.getTag(t);if(d===s.argumentsTag&&(d=s.objectTag),h===s.argumentsTag&&(h=s.objectTag),d!==h)return!1;switch(d){case s.stringTag:return e.toString()===t.toString();case s.numberTag:{const r=e.valueOf(),n=t.valueOf();return o.eq(r,n)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(e.valueOf(),t.valueOf());case s.regexpTag:return e.source===t.source&&e.flags===t.flags;case s.functionTag:return e===t}const f=(r=r??new Map).get(e),p=r.get(t);if(null!=f&&null!=p)return f===t;r.set(e,t),r.set(t,e);try{switch(d){case s.mapTag:if(e.size!==t.size)return!1;for(const[n,a]of e.entries())if(!t.has(n)||!l(a,t.get(n),n,e,t,r,u))return!1;return!0;case s.setTag:{if(e.size!==t.size)return!1;const n=Array.from(e.values()),a=Array.from(t.values());for(let i=0;i<n.length;i++){const s=n[i],o=a.findIndex(n=>l(s,n,void 0,e,t,r,u));if(-1===o)return!1;a.splice(o,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!l(e[n],t[n],n,e,t,r,u))return!1;return!0;case s.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),r,u);case s.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),r,u);case s.errorTag:return e.name===t.name&&e.message===t.message;case s.objectTag:{if(!(c(e.constructor,t.constructor,r,u)||n.isPlainObject(e)&&n.isPlainObject(t)))return!1;const i=[...Object.keys(e),...a.getSymbols(e)],s=[...Object.keys(t),...a.getSymbols(t)];if(i.length!==s.length)return!1;for(let n=0;n<i.length;n++){const a=i[n],s=e[a];if(!Object.hasOwn(t,a))return!1;if(!l(s,t[a],a,e,t,r,u))return!1}return!0}default:return!1}}finally{r.delete(e),r.delete(t)}}t.isEqualWith=function(e,t,r){return l(e,t,void 0,void 0,void 0,void 0,r)}},9397:(e,t,r)=>{e.exports=r(2682).isPlainObject},9461:(e,t,r)=>{"use strict";e.exports=r(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6392),a=r(8346),i=r(1203);t.last=function(e){if(i.isArrayLike(e))return n.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function r(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const a=r(e),i=r(t);if(a===i&&0===a){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?i-a:a-i}return 0}},9717:(e,t,r)=>{"use strict";var n=r(5043),a=r(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=a.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(s=e,t):(s=e,o=r)}var s,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,a]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,r)=>{e.exports=r(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,r.d(i,s),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+"."+{239:"e147a5f2",453:"7293675b",732:"3cc85495",977:"b433902d"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="idk:";r.l=(n,a,i,s)=>{if(e[n])e[n].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[a];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(r)),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/aml/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((r,n)=>a=e[t]=[r,n]);n.push(a[2]=i);var s=r.p+r.u(t),o=new Error;r.l(s,n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var a,i,s=n[0],o=n[1],l=n[2],c=0;if(s.some(t=>0!==e[t])){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)l(r)}for(t&&t(n);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkidk=self.webpackChunkidk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>qo,scaleDiverging:()=>Rh,scaleDivergingLog:()=>Mh,scaleDivergingPow:()=>Bh,scaleDivergingSqrt:()=>zh,scaleDivergingSymlog:()=>Fh,scaleIdentity:()=>Pc,scaleImplicit:()=>zo,scaleLinear:()=>Oc,scaleLog:()=>Bc,scaleOrdinal:()=>Uo,scalePoint:()=>Wo,scalePow:()=>Gc,scaleQuantile:()=>su,scaleQuantize:()=>ou,scaleRadial:()=>Xc,scaleSequential:()=>Oh,scaleSequentialLog:()=>Ph,scaleSequentialPow:()=>Lh,scaleSequentialQuantile:()=>Dh,scaleSequentialSqrt:()=>Th,scaleSequentialSymlog:()=>Eh,scaleSqrt:()=>Yc,scaleSymlog:()=>$c,scaleThreshold:()=>lu,scaleTime:()=>jh,scaleUtc:()=>kh,tickFormat:()=>Ac});var t=r(5043),n=r(4391),a="popstate";function i(){return h(function(e,t){let{pathname:r="/",search:n="",hash:a=""}=d(e.location.hash.substring(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),c("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");n=-1===r?t:t.slice(0,r)}return n+"#"+("string"===typeof t?t:u(t))},function(e,t){o("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function d(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function h(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,u="POP",d=null,h=p();function p(){return(o.state||{idx:null}).idx}function m(){u="POP";let e=p(),t=null==e?null:e-h;h=e,d&&d({action:u,location:y.location,delta:t})}function g(e){return f(e)}null==h&&(h=0,o.replaceState({...o.state,idx:h},""));let y={get action(){return u},get location(){return e(i,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(a,m),d=e,()=>{i.removeEventListener(a,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let n=c(y.location,e,t);r&&r(n,e),h=p()+1;let a=l(n,h),f=y.createHref(n);try{o.pushState(a,"",f)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(f)}s&&d&&d({action:u,location:y.location,delta:1})},replace:function(e,t){u="REPLACE";let n=c(y.location,e,t);r&&r(n,e),h=p();let a=l(n,h),i=y.createHref(n);o.replaceState(a,"",i),s&&d&&d({action:u,location:y.location,delta:0})},go:e=>o.go(e)};return y}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),s(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function p(e,t){return m(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function m(e,t,r,n){let a=P(("string"===typeof t?d(t):t).pathname||"/",r);if(null==a)return null;let i=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=O(a);s=k(i[o],e,n)}return s}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(n),`Absolute route path "${o.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(n.length));let l=I([n,o.relativePath]),c=r.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:j(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of y(e.path))a(e,t,r);else a(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let s=y(n.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var v=/^:[\w-]+$/,b=3,x=2,w=1,N=10,_=-2,S=e=>"*"===e;function j(e,t){let r=e.split("/"),n=r.length;return r.some(S)&&(n+=_),t&&(n+=x),r.filter(e=>!S(e)).reduce((e,t)=>e+(v.test(t)?b:""===t?w:N),n)}function k(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:I([i,u.pathname]),pathnameBase:R(I([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=I([i,u.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=C(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function E(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function T(e){let t=L(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function D(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=d(e):(n={...e},s(!n.pathname||!n.pathname.includes("?"),E("?","pathname","search",n)),s(!n.pathname||!n.pathname.includes("#"),E("#","pathname","hash",n)),s(!n.search||!n.search.includes("#"),E("#","search","hash",n)));let i,o=""===e||""===n.pathname,l=o?"/":n.pathname;if(null==l)i=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?d(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:M(n),hash:F(a)}}(n,i),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var I=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var z=["POST","PUT","PATCH","DELETE"],U=(new Set(z),["GET",...z]);new Set(U),Symbol("ResetLoaderData");var q=t.createContext(null);q.displayName="DataRouter";var $=t.createContext(null);$.displayName="DataRouterState";var W=t.createContext(!1);var H=t.createContext({isTransitioning:!1});H.displayName="ViewTransition";var K=t.createContext(new Map);K.displayName="Fetchers";var V=t.createContext(null);V.displayName="Await";var G=t.createContext(null);G.displayName="Navigation";var Y=t.createContext(null);Y.displayName="Location";var J=t.createContext({outlet:null,matches:[],isDataRoute:!1});J.displayName="Route";var X=t.createContext(null);X.displayName="RouteError";function Q(){return null!=t.useContext(Y)}function Z(){return s(Q(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(Y).location}var ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function te(e){t.useContext(G).static||t.useLayoutEffect(e)}function re(){let{isDataRoute:e}=t.useContext(J);return e?function(){let{router:e}=he("useNavigate"),r=pe("useNavigate"),n=t.useRef(!1);te(()=>{n.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(n.current,ee),n.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:r,...a}))},[e,r]);return a}():function(){s(Q(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(q),{basename:r,navigator:n}=t.useContext(G),{matches:a}=t.useContext(J),{pathname:i}=Z(),l=JSON.stringify(T(a)),c=t.useRef(!1);te(()=>{c.current=!0});let u=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(c.current,ee),!c.current)return;if("number"===typeof t)return void n.go(t);let s=D(t,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==r&&(s.pathname="/"===s.pathname?r:I([r,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)},[r,n,l,i,e]);return u}()}t.createContext(null);function ne(){let{matches:e}=t.useContext(J),r=e[e.length-1];return r?r.params:{}}function ae(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(J),{pathname:a}=Z(),i=JSON.stringify(T(n));return t.useMemo(()=>D(e,JSON.parse(i),a,"path"===r),[e,i,a,r])}function ie(e,r,n,a){s(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(G),{matches:l}=t.useContext(J),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ye(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=Z();if(r){let e="string"===typeof r?d(r):r;s("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==f){let e=f.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=p(e,{pathname:b});o(m||null!=x,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),o(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ue(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:I([f,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:I([f,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,a);return r&&w?t.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function se(){let e=me(),r=B(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:i},n):null,o)}var oe=t.createElement(se,null),le=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(J.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ce(e){let{routeContext:r,match:n,children:a}=e,i=t.useContext(q);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(J.Provider,{value:r},a)}function ue(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=n?.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(n)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,s,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&s.route.id?i[s.route.id]:void 0,h=s.route.errorElement||oe,o&&(l<0&&0===c?(ye("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=s.route.hydrateFallbackElement||null)));let p=r.concat(a.slice(0,c+1)),m=()=>{let r;return r=u?h:d?f:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(ce,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:r})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===c)?t.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function de(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function he(e){let r=t.useContext(q);return s(r,de(e)),r}function fe(e){let r=t.useContext($);return s(r,de(e)),r}function pe(e){let r=function(e){let r=t.useContext(J);return s(r,de(e)),r}(e),n=r.matches[r.matches.length-1];return s(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function me(){let e=t.useContext(X),r=fe("useRouteError"),n=pe("useRouteError");return void 0!==e?e:r.errors?.[n]}var ge={};function ye(e,t,r){t||ge[e]||(ge[e]=!0,o(!1,r))}var ve={};function be(e,t){e||ve[t]||(ve[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:r,state:n}=e;return ie(t,void 0,n,r)});function xe(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function we(e){let{basename:r="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:c=!1}=e;s(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);"string"===typeof a&&(a=d(a));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=a,v=t.useMemo(()=>{let e=P(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:i}},[u,f,p,m,g,y,i]);return o(null!=v,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:t.createElement(G.Provider,{value:h},t.createElement(Y.Provider,{children:n,value:v}))}function Ne(e){let{children:t,location:r}=e;return ie(_e(t),r)}t.Component;function _e(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let i=[...r,a];if(e.type===t.Fragment)return void n.push.apply(n,_e(e.props.children,i));s(e.type===xe,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=_e(e.props.children,i)),n.push(o)}),n}var Se="get",je="application/x-www-form-urlencoded";function ke(e){return null!=e&&"string"===typeof e.tagName}var Ae=null;var Ce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oe(e){return null==e||Ce.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${je}"`),null)}function Pe(e,t){let r,n,a,i,s;if(function(e){return ke(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");n=s?P(s,t):null,r=e.getAttribute("method")||Se,a=Oe(e.getAttribute("enctype"))||je,i=new FormData(e)}else if(function(e){return ke(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ke(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(n=o?P(o,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||Se,a=Oe(e.getAttribute("formenctype"))||Oe(s.getAttribute("enctype"))||je,i=new FormData(s,e),!function(){if(null===Ae)try{new FormData(document.createElement("form"),0),Ae=!1}catch(e){Ae=!0}return Ae}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,n)}}else{if(ke(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Se,n=null,a=je,s=e}return i&&"text/plain"===a&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ee(e){return{__html:e}}function Le(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Te(e,t,r){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${r}`:t&&"/"===P(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function De(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ie(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Me(e,t,r,n,a,i){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Fe(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function Be(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!Ie(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let i=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(i)||(r.add(i),e.push({key:i,link:a})),e},[])}function ze(e,t){return"lazy"===e.mode&&!0===t}function Ue(){let e=t.useContext(q);return Le(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function qe(){let e=t.useContext($);return Le(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $e=t.createContext(void 0);function We(){let e=t.useContext($e);return Le(e,"You must render this element inside a <HydratedRouter> element"),e}function He(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ke(e,t,r){if(r&&!Je)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}$e.displayName="FrameworkContext";function Ve(e){let{page:r,...n}=e,{router:a}=Ue(),i=t.useMemo(()=>p(a.routes,r,a.basename),[a.routes,r,a.basename]);return i?t.createElement(Ye,{page:r,matches:i,...n}):null}function Ge(e){let{manifest:r,routeModules:n}=We(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,r){return Be((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await De(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Re).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,r,n).then(e=>{t||i(e)}),()=>{t=!0}},[e,r,n]),a}function Ye(e){let{page:r,matches:n,...a}=e,i=Z(),{manifest:s,routeModules:o}=We(),{basename:l}=Ue(),{loaderData:c,matches:u}=qe(),d=t.useMemo(()=>Me(r,n,u,s,i,"data"),[r,n,u,s,i]),h=t.useMemo(()=>Me(r,n,u,s,i,"assets"),[r,n,u,s,i]),f=t.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach(r=>{let n=s.routes[r.route.id];n&&n.hasLoader&&(!d.some(e=>e.route.id===r.route.id)&&r.route.id in c&&o[r.route.id]?.shouldRevalidate||n.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let a=Te(r,l,"data");return t&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[l,c,i,s,d,n,r,o]),p=t.useMemo(()=>Fe(h,s),[h,s]),m=Ge(h);return t.createElement(t.Fragment,null,f.map(e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),p.map(e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),m.map(e=>{let{key:r,link:n}=e;return t.createElement("link",{key:r,...n})}))}var Je=!1;function Xe(e){let{manifest:r,serverHandoffString:n,isSpaMode:a,renderMeta:i,routeDiscovery:s,ssr:o}=We(),{router:l,static:c,staticContext:u}=Ue(),{matches:d}=qe(),h=t.useContext(W),f=ze(s,o);i&&(i.didRenderScripts=!0);let m=Ke(d,null,a);t.useEffect(()=>{0},[]);let g=t.useMemo(()=>{if(h)return null;let a=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${r.hmr?.runtime?`import ${JSON.stringify(r.hmr.runtime)};`:""}${f?"":`import ${JSON.stringify(r.url)}`};\n${m.map((e,t)=>{let n=`route${t}`,a=r.routes[e.route.id];Le(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:`${n}_clientAction`}]:[],...s?[{module:s,varName:`${n}_clientLoader`}]:[],...o?[{module:o,varName:`${n}_clientMiddleware`}]:[],...l?[{module:l,varName:`${n}_HydrateFallback`}]:[],{module:c,varName:`${n}_main`}];return 1===u.length?`import * as ${n} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${n} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${f?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...n}=e,a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach(e=>{let r=p(t.routes,e,t.basename);r&&r.forEach(e=>a.add(e.route.id))});let o=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return{...n,routes:o,sri:!!r||void 0}}(r,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${m.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(r.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ee(a),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ee(i),type:"module",async:!0}))},[]),y=Je||h?[]:function(e){return[...new Set(e)]}(r.entry.imports.concat(Fe(m,r,{includeHydrateFallback:!0}))),v="object"===typeof r.sri?r.sri:{};return be(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Je||h?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,f?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:v[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:v[r.entry.module],suppressHydrationWarning:!0}),y.map(r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:v[r],suppressHydrationWarning:!0})),g)}function Qe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function Ze(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(B(r))return t.createElement(et,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),i);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(et,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function et(e){let{title:r,renderScripts:n,isOutsideRemixApp:a,children:i}=e,{routeModules:s}=We();return s.root?.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?t.createElement(Xe,null):null)))}var tt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{tt&&(window.__reactRouterVersion="7.7.1")}catch(eR){}function rt(e){let{basename:r,children:n,window:a}=e,s=t.useRef();null==s.current&&(s.current=i({window:a,v5Compat:!0}));let o=s.current,[l,c]=t.useState({action:o.action,location:o.location}),u=t.useCallback(e=>{t.startTransition(()=>c(e))},[c]);return t.useLayoutEffect(()=>o.listen(u),[o,u]),t.createElement(we,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:o})}var nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=t.forwardRef(function(e,r){let n,{onClick:a,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=e,{basename:b}=t.useContext(G),x="string"===typeof m&&nt.test(m),w=!1;if("string"===typeof m&&x&&(n=m,tt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=P(t.pathname,b);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:w=!0}catch(eR){o(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=t.useContext(G),{hash:i,pathname:o,search:l}=ae(e,{relative:r}),c=o;return"/"!==n&&(c="/"===o?n:I([n,o])),a.createHref({pathname:c,search:l,hash:i})}(m,{relative:c}),[_,S,j]=function(e,r){let n=t.useContext($e),[a,i]=t.useState(!1),[s,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=r,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:He(l,p),onBlur:He(c,m),onMouseEnter:He(u,p),onMouseLeave:He(d,m),onTouchStart:He(h,p)}]:[!1,f,{}]}(l,v),k=function(e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=re(),c=Z(),d=ae(e,{relative:s});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:u(c)===u(d);l(e,{replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,a,r,e,i,s,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:y});let A=t.createElement("a",{...v,...j,href:n||N,onClick:w||d?a:function(e){a&&a(e),e.defaultPrevented||k(e)},ref:Qe(r,S),target:p,"data-discover":x||"render"!==i?void 0:"true"});return _&&!x?t.createElement(t.Fragment,null,A,t.createElement(Ve,{page:N})):A});at.displayName="Link";var it=t.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=ae(c,{relative:h.relative}),p=Z(),m=t.useContext($),{navigator:g,basename:y}=t.useContext(G),v=null!=m&&function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(H);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=lt("useViewTransitionState"),i=ae(e,{relative:r});if(!n.isTransitioning)return!1;let o=P(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=P(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=A(i.pathname,l)||null!=A(i.pathname,o)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=P(w,y)||w);const N="/"!==b&&b.endsWith("/")?b.length-1:b.length;let _,S=x===b||!o&&x.startsWith(b)&&"/"===x.charAt(N),j=null!=w&&(w===b||!o&&w.startsWith(b)&&"/"===w.charAt(b.length)),k={isActive:S,isPending:j,isTransitioning:v},C=S?n:void 0;_="function"===typeof i?i(k):[i,S?"active":null,j?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof l?l(k):l;return t.createElement(at,{...h,"aria-current":C,className:_,ref:r,style:O,to:c,viewTransition:u},"function"===typeof d?d(k):d)});it.displayName="NavLink";var st=t.forwardRef((e,r)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:o,replace:l,state:c,method:d=Se,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=e,v=dt(),b=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(G),a=t.useContext(J);s(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...ae(e||".",{relative:r})},l=Z();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),r=t.some(e=>""===e);if(r){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();o.search=r?`?${r}`:""}}e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:I([n,o.pathname]));return u(o)}(h,{relative:p}),x="get"===d.toLowerCase()?"get":"post",w="string"===typeof h&&nt.test(h);return t.createElement("form",{ref:r,method:x,action:b,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:a,method:r,navigate:i,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":w||"render"!==n?void 0:"true"})});function ot(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lt(e){let r=t.useContext(q);return s(r,ot(e)),r}st.displayName="Form";var ct=0,ut=()=>`__${String(++ct)}__`;function dt(){let{router:e}=lt("useSubmit"),{basename:r}=t.useContext(G),n=pe("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=Pe(t,r);if(!1===a.navigate){let t=a.fetcherKey||ut();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,r,n])}function ht(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ht(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ft(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ht(e))&&(n&&(n+=" "),n+=t);return n}const pt=ft;!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var mt=e=>"number"==typeof e&&!isNaN(e),gt=e=>"string"==typeof e,yt=e=>"function"==typeof e,vt=e=>gt(e)||yt(e)?e:null,bt=(e,t)=>!1===e||mt(e)&&e>0?e:t,xt=e=>(0,t.isValidElement)(e)||gt(e)||yt(e)||mt(e);function wt(e){let{enter:r,exit:n,appendPosition:a=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e,p=a?`${r}--${l}`:r,m=a?`${n}--${l}`:n,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)(()=>{let e=d.current,t=p.split(" "),r=n=>{n.target===d.current&&(f(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===g.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)},[]),(0,t.useEffect)(()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:n,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}(e,u,s):u()};h||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))},[h]),t.createElement(t.Fragment,null,o)}}function Nt(e,t){return{content:_t(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function _t(e,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!gt(e.type)?(0,t.cloneElement)(e,{closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:n}):yt(e)?e({closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:n}):e}function St(e){let{delay:r,isRunning:n,closeToast:a,type:i="default",hide:s,className:o,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e,f=s||l&&0===c,p={animationDuration:`${r}ms`,animationPlayState:n?"running":"paused"};l&&(p.transform=`scaleX(${c})`);let m=pt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),g=yt(o)?o({rtl:u,type:i,defaultClassName:m}):pt(m,o),y={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&a()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),t.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:p,...y}))}var jt=1,kt=()=>""+jt++;function At(e,t,r){let n=1,a=0,i=[],s=[],o=t,l=new Map,c=new Set,u=()=>{s=Array.from(l.values()),c.forEach(e=>e())},d=e=>{var t,r;null==(r=null==(t=e.props)?void 0:t.onClose)||r.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}u()},f=e=>{var t,n;let{toastId:a,updateId:i}=e.props,s=null==i;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(a,e),u(),r(Nt(e,s?"added":"updated")),s&&(null==(n=(t=e.props).onOpen)||n.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(r=>{var n;(null==t||t===r.props.toastId)&&(null==(n=r.toggle)||n.call(r,e))})},removeToast:h,toasts:l,clearQueue:()=>{a-=i.length,i=[]},buildToast:(t,s)=>{if((t=>{let{containerId:r,toastId:n,updateId:a}=t,i=r?r!==e:1!==e,s=l.has(n)&&null==a;return i||s})(s))return;let{toastId:c,updateId:d,data:p,staleId:m,delay:g}=s,y=null==d;y&&a++;let v={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(s).filter(e=>{let[t,r]=e;return null!=r})),toastId:c,updateId:d,data:p,isIn:!1,className:vt(s.className||o.toastClassName),progressClassName:vt(s.progressClassName||o.progressClassName),autoClose:!s.isLoading&&bt(s.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(r(Nt(e,"removed")),l.delete(c),a--,a<0&&(a=0),i.length>0)return void f(i.shift());u()}}};v.closeButton=o.closeButton,!1===s.closeButton||xt(s.closeButton)?v.closeButton=s.closeButton:!0===s.closeButton&&(v.closeButton=!xt(o.closeButton)||o.closeButton);let b={content:t,props:v,staleId:m};o.limit&&o.limit>0&&a>o.limit&&y?i.push(b):mt(g)?setTimeout(()=>{f(b)},g):f(b)},setProps(e){o=e},setToggle:(e,t)=>{let r=l.get(e);r&&(r.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>s}}var Ct=new Map,Ot=[],Pt=new Set,Et=e=>Pt.forEach(t=>t(e)),Lt=()=>Ct.size>0;function Tt(e,t){var r;if(t)return!(null==(r=Ct.get(t))||!r.isToastActive(e));let n=!1;return Ct.forEach(t=>{t.isToastActive(e)&&(n=!0)}),n}function Dt(e){if(Lt()){if(null==e||(e=>gt(e)||mt(e))(e))Ct.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ct.get(e.containerId);t?t.removeToast(e.id):Ct.forEach(t=>{t.removeToast(e.id)})}}else Ot=Ot.filter(t=>null!=e&&t.options.toastId!==e)}function It(e,t){xt(e)&&(Lt()||Ot.push({content:e,options:t}),Ct.forEach(r=>{r.buildToast(e,t)}))}function Rt(e,t){Ct.forEach(r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)})}function Mt(e){let t=e.containerId||1;return{subscribe(r){let n=At(t,e,Et);Ct.set(t,n);let a=n.observe(r);return Ot.forEach(e=>It(e.content,e.options)),Ot=[],()=>{a(),Ct.delete(t)}},setProps(e){var r;null==(r=Ct.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=Ct.get(t))?void 0:e.getSnapshot()}}}function Ft(e){return e&&(gt(e.toastId)||mt(e.toastId))?e.toastId:kt()}function Bt(e,t){return It(e,t),t.toastId}function zt(e,t){return{...t,type:t&&t.type||e,toastId:Ft(t)}}function Ut(e){return(t,r)=>Bt(t,zt(e,r))}function qt(e,t){return Bt(e,zt("default",t))}function $t(e){let[r,n]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),s=(0,t.useRef)(null),o=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function f(){n(!0)}function p(){n(!1)}function m(t){let n=s.current;if(o.canDrag&&n){o.didMove=!0,r&&p(),"x"===e.draggableDirection?o.delta=t.clientX-o.start:o.delta=t.clientY-o.start,o.start!==t.clientX&&(o.canCloseOnClick=!1);let a="x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;n.style.transform=`translate3d(${a},0)`,n.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance))}}function g(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",g);let t=s.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Ct.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,t.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",g);let r=s.current;o.canCloseOnClick=!0,o.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:r,bottom:n,left:a,right:i}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=i&&t.clientY>=r&&t.clientY<=n?p():f()}};return l&&c&&(y.onMouseEnter=p,e.stacked||(y.onMouseLeave=f)),h&&(y.onClick=e=>{d&&d(e),o.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:p,isRunning:r,preventExitTransition:a,toastRef:s,eventHandlers:y}}qt.loading=(e,t)=>Bt(e,zt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),qt.promise=function(e,t,r){let n,{pending:a,error:i,success:s}=t;a&&(n=gt(a)?qt.loading(a,r):qt.loading(a.render,{...r,...a}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,a)=>{if(null==t)return void qt.dismiss(n);let i={type:e,...o,...r,data:a},s=gt(t)?{render:t}:t;return n?qt.update(n,{...i,...s}):qt(s.render,{...i,...s}),a},c=yt(e)?e():e;return c.then(e=>l("success",s,e)).catch(e=>l("error",i,e)),c},qt.success=Ut("success"),qt.info=Ut("info"),qt.error=Ut("error"),qt.warning=Ut("warning"),qt.warn=qt.warning,qt.dark=(e,t)=>Bt(e,zt("default",{theme:"dark",...t})),qt.dismiss=function(e){Dt(e)},qt.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ct.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},qt.isActive=Tt,qt.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=((e,t)=>{let{containerId:r}=t;var n;return null==(n=Ct.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(r){let{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:kt()};i.toastId!==e&&(i.staleId=e);let s=i.render||a;delete i.render,Bt(s,i)}},qt.done=e=>{qt.update(e,{progress:1})},qt.onChange=function(e){return Pt.add(e),()=>{Pt.delete(e)}},qt.play=e=>Rt(!0,e),qt.pause=e=>Rt(!1,e);var Wt="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Ht=e=>{let{theme:r,type:n,isLoading:a,...i}=e;return t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===r?"currentColor":`var(--toastify-icon-color-${n})`,...i})};var Kt={info:function(e){return t.createElement(Ht,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Ht,{...e},t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Ht,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Ht,{...e},t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Vt(e){let{theme:r,type:n,isLoading:a,icon:i}=e,s=null,o={theme:r,type:n};return!1===i||(yt(i)?s=i({...o,isLoading:a}):(0,t.isValidElement)(i)?s=(0,t.cloneElement)(i,o):a?s=Kt.spinner():(e=>e in Kt)(n)&&(s=Kt[n](o))),s}var Gt=e=>{let{isRunning:r,preventExitTransition:n,toastRef:a,eventHandlers:i,playToast:s}=$t(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:p,position:m,className:g,style:y,progressClassName:v,updateId:b,role:x,progress:w,rtl:N,toastId:_,deleteToast:S,isIn:j,isLoading:k,closeOnClick:A,theme:C,ariaLabel:O}=e,P=pt("Toastify__toast",`Toastify__toast-theme--${C}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":A}),E=yt(g)?g({rtl:N,position:m,type:d,defaultClassName:P}):pt(P,g),L=Vt(e),T=!!w||!c,D={closeToast:f,type:d,theme:C},I=null;return!1===o||(I=yt(o)?o(D):(0,t.isValidElement)(o)?(0,t.cloneElement)(o,D):function(e){let{closeToast:r,theme:n,ariaLabel:a="close"}=e;return t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),r(!0)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(D)),t.createElement(p,{isIn:j,done:S,position:m,preventExitTransition:n,nodeRef:a,playToast:s},t.createElement("div",{id:_,tabIndex:0,onClick:u,"data-in":j,className:E,...i,style:y,ref:a,...j&&{role:x,"aria-label":O}},null!=L&&t.createElement("div",{className:pt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},L),_t(l,e,!r),I,!e.customProgressBar&&t.createElement(St,{...b&&!T?{key:`p-${b}`}:{},rtl:N,theme:C,delay:c,isRunning:r,isIn:j,closeToast:f,hide:h,type:d,className:v,controlledProgress:T,progress:w||0})))},Yt=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Jt=wt(Yt("bounce",!0)),Xt=(wt(Yt("slide",!0)),wt(Yt("zoom")),wt(Yt("flip")),{position:"top-right",transition:Jt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Qt(e){let r={...Xt,...e},n=e.stacked,[a,i]=(0,t.useState)(!0),s=(0,t.useRef)(null),{getToastToRender:o,isToastActive:l,count:c}=function(e){var r;let{subscribe:n,getSnapshot:a,setProps:i}=(0,t.useRef)(Mt(e)).current;i(e);let s=null==(r=(0,t.useSyncExternalStore)(n,a,a))?void 0:r.slice();return{getToastToRender:function(t){if(!s)return[];let r=new Map;return e.newestOnTop&&s.reverse(),s.forEach(e=>{let{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)}),Array.from(r,e=>t(e[0],e[1]))},isToastActive:Tt,count:null==s?void 0:s.length}}(r),{className:u,style:d,rtl:h,containerId:f,hotKeys:p}=r;function m(e){let t=pt("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return yt(u)?u({position:e,rtl:h,defaultClassName:t}):pt(t,vt(u))}function g(){n&&(i(!0),qt.play())}return Wt(()=>{var e;if(n){let t=s.current.querySelectorAll('[data-in="true"]'),n=12,i=null==(e=r.position)?void 0:e.includes("top"),o=0,l=0;Array.from(t).reverse().forEach((e,t)=>{let r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed=`${a}`),r.dataset.pos||(r.dataset.pos=i?"top":"bot");let s=o*(a?.2:1)+(a?0:n*t);r.style.setProperty("--y",`${i?s:-1*s}px`),r.style.setProperty("--g",`${n}`),r.style.setProperty("--s",""+(1-(a?l:0))),o+=r.offsetHeight,l+=.025})}},[a,c,n]),(0,t.useEffect)(()=>{function e(e){var t;let r=s.current;p(e)&&(null==(t=r.querySelector('[tabIndex="0"]'))||t.focus(),i(!1),qt.pause()),"Escape"===e.key&&(document.activeElement===r||null!=r&&r.contains(document.activeElement))&&(i(!0),qt.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p]),t.createElement("section",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),qt.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":r["aria-label"]},o((e,r)=>{let a=r.length?{...d}:{...d,pointerEvents:"none"};return t.createElement("div",{tabIndex:-1,className:m(e),"data-stacked":n,style:a,key:`c-${e}`},r.map(e=>{let{content:r,props:a}=e;return t.createElement(Gt,{...a,stacked:n,collapseAll:g,isIn:l(a.toastId,a.containerId),key:`t-${a.key}`},r)}))}))}var Zt=r(579);const er=[{title:"Dashboard",path:"/dashboard"},{title:"Customer",subMenu:[{title:"Customer List",path:"/customer/list"},{title:"Onboarding Form",path:"/customer/onboarding"}]},{title:"Screening",subMenu:[{title:"Instant Screening",path:"/screening/instant"},{title:"Ongoing Screening",path:"/screening/ongoing"}]},{title:"Monitoring",subMenu:[{title:"Add Transactions",path:"/monitoring/addtransactions"},{title:"Transaction Monitoring",path:"/monitoring/transactions"},{title:"Alerts",path:"/monitoring/alerts"},{title:"Transaction Rules",path:"/monitoring/transactionrules"}]},{title:"Risk",subMenu:[{title:"Risk Assessment",path:"/risk/assessment"},{title:"Risk Rules",path:"/risk/rules"}]},{title:"Case Management",subMenu:[{title:"Case List",path:"/cases/list"},{title:"Case Details",path:"/cases/details"},{title:"Case Actions",path:"/cases/actions"}]},{title:"Reports",subMenu:[{title:"Report Generation",path:"/reports/reportgeneration"},{title:"Report List",path:"/reports/reportlist"}]},{title:"logs",subMenu:[{title:"Activity Logs",path:"/logs/activitylogs"},{title:"System Logs",path:"/logs/systemlogs"}]}],tr=()=>{const[e,r]=(0,t.useState)(null),n=Z(),a=e=>n.pathname===e;return(0,Zt.jsxs)("aside",{className:"w-64 h-screen bg-white text-black p-4 overflow-y-auto",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"AML Platform"}),er.map((t,n)=>(0,Zt.jsx)("div",{className:"mb-3",children:t.subMenu?(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("button",{className:"w-full text-left font-semibold hover:text-blue-400",onClick:()=>r(e===n?null:n),children:t.title}),e===n&&(0,Zt.jsx)("div",{className:"ml-4 mt-2 space-y-2",children:t.subMenu.map((e,t)=>(0,Zt.jsx)(at,{to:e.path,className:"block hover:text-blue-300 "+(a(e.path)?"text-blue-400":""),children:e.title},t))})]}):(0,Zt.jsx)(at,{to:t.path,className:"block font-semibold hover:text-blue-400 "+(a(t.path)?"text-blue-400":""),children:t.title})},n))]})},rr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ar=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},ir=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var sr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const or=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...u}=e;return(0,t.createElement)("svg",{ref:r,...sr,width:a,height:a,stroke:n,strokeWidth:s?24*Number(i)/Number(a):i,className:ar("lucide",o),...!l&&!ir(u)&&{"aria-hidden":"true"},...u},[...c.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(l)?l:[l]])}),lr=(e,r)=>{const n=(0,t.forwardRef)((n,a)=>{let{className:i,...s}=n;return(0,t.createElement)(or,{ref:a,iconNode:r,className:ar(`lucide-${rr(nr(e))}`,`lucide-${e}`,i),...s})});return n.displayName=nr(e),n},cr=lr("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ur=()=>{const[e,r]=(0,t.useState)(!1),n=(0,t.useRef)();return(0,t.useEffect)(()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,Zt.jsxs)("div",{className:"relative",ref:n,children:[(0,Zt.jsx)("button",{onClick:()=>r(!e),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-full transition",children:(0,Zt.jsx)(cr,{size:20})}),e&&(0,Zt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg z-50",children:[(0,Zt.jsx)("button",{className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100",children:"View Profile"}),(0,Zt.jsx)("button",{className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>{console.log("Sign out clicked")},children:"Sign Out"})]})]})},dr=e=>{let{children:t}=e;return(0,Zt.jsxs)("div",{className:"flex h-screen",children:[(0,Zt.jsx)(tr,{}),(0,Zt.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[(0,Zt.jsx)("header",{className:"flex justify-end items-center p-4 border-b shadow-sm bg-white",children:(0,Zt.jsx)(ur,{})}),(0,Zt.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:t})]})]})},hr=()=>{const e=re(),[r,n]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)("");return(0,Zt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,Zt.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-md w-full max-w-md",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Login"}),l&&(0,Zt.jsx)("div",{className:"mb-4 text-red-600 text-sm text-center",children:l}),(0,Zt.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=await(async(e,t)=>(await new Promise(e=>setTimeout(e,1e3)),"admin@example.com"===e&&"password123"===t))(r,a);n?(s&&localStorage.setItem("authUser",r),e("/dashboard")):c("Invalid email or password")},className:"space-y-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium",children:"Email"}),(0,Zt.jsx)("input",{type:"email",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:r,onChange:e=>n(e.target.value),required:!0})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium",children:"Password"}),(0,Zt.jsx)("input",{type:"password",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:a,onChange:e=>i(e.target.value),required:!0})]}),(0,Zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Zt.jsxs)("label",{className:"flex items-center text-sm",children:[(0,Zt.jsx)("input",{type:"checkbox",className:"mr-2",checked:s,onChange:()=>o(!s)}),"Remember me"]}),(0,Zt.jsx)("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot Password?"})]}),(0,Zt.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition",children:"Login"})]})]})})},fr=e=>{let{children:t,className:r=""}=e;return(0,Zt.jsx)("div",{className:`bg-white shadow rounded-2xl p-4 ${r}`,children:t})},pr=e=>{let{children:t}=e;return(0,Zt.jsx)("div",{className:"mt-2",children:t})},mr=e=>{let{children:t,onClick:r,className:n="",type:a="button"}=e;return(0,Zt.jsx)("button",{onClick:r,type:a,className:`bg-blue-600 text-white px-4 py-2 rounded-xl shadow hover:bg-blue-700 transition ${n}`,children:t})};var gr=r(7820),yr=r.n(gr),vr=r(7770),br=r.n(vr),xr=e=>0===e?0:e>0?1:-1,wr=e=>"number"==typeof e&&e!=+e,Nr=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,_r=e=>("number"===typeof e||e instanceof Number)&&!wr(e),Sr=e=>_r(e)||"string"===typeof e,jr=0,kr=e=>{var t=++jr;return"".concat(e||"").concat(t)},Ar=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!_r(e)&&"string"!==typeof e)return n;if(Nr(e)){if(null==t)return n;var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return wr(r)&&(r=n),a&&null!=t&&r>t&&(r=t),r},Cr=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1},Or=(e,t)=>_r(e)&&_r(t)?r=>e+r*(t-e):()=>t;var Pr=e=>null===e||"undefined"===typeof e,Er=e=>Pr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Lr=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(r),!0).forEach(function(t){Ir(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ir(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rr=(0,t.forwardRef)((e,r)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),y=(0,t.useRef)();y.current=p,(0,t.useImperativeHandle)(r,()=>g.current);var[v,b]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),x=(0,t.useCallback)((e,t)=>{b(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:r,height:n}=e[0].contentRect;x(r,n),null===(t=y.current)||void 0===t||t.call(y,r,n)};d>0&&(e=yr()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return x(r,n),t.observe(g.current),()=>{t.disconnect()}},[x,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:r}=v;if(e<0||r<0)return null;Lr(Nr(i)||Nr(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,s),Lr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=Nr(i)?e:i,d=Nr(s)?r:s;return n&&n>0&&(a?d=a/n:d&&(a=d*n),c&&d>c&&(d=c)),Lr(a>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,d,i,s,o,l,n),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:a,height:d,style:Dr({width:a,height:d},e.props.style)}))},[n,u,s,c,l,o,v,i]);return t.createElement("div",{id:h?"".concat(h):void 0,className:ft("recharts-responsive-container",f),style:Dr(Dr({},m),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function Mr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fr=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Br=()=>Math.random().toString(36).substring(7).split("").join("."),zr={INIT:`@@redux/INIT${Br()}`,REPLACE:`@@redux/REPLACE${Br()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Br()}`};function Ur(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function qr(e,t,r){if("function"!==typeof e)throw new Error(Mr(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Mr(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Mr(1));return r(qr)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(Mr(3));return a}function d(e){if("function"!==typeof e)throw new Error(Mr(4));if(l)throw new Error(Mr(5));let t=!0;c();const r=o++;return s.set(r,e),function(){if(t){if(l)throw new Error(Mr(6));t=!1,c(),s.delete(r),i=null}}}function h(e){if(!Ur(e))throw new Error(Mr(7));if("undefined"===typeof e.type)throw new Error(Mr(8));if("string"!==typeof e.type)throw new Error(Mr(17));if(l)throw new Error(Mr(9));try{l=!0,a=n(a,e)}finally{l=!1}return(i=s).forEach(e=>{e()}),e}h({type:zr.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Mr(10));n=e,h({type:zr.REPLACE})},[Fr]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Mr(11));function r(){const e=t;e.next&&e.next(u())}r();return{unsubscribe:e(r)}},[Fr](){return this}}}}}function $r(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const n=t[i];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let a;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:zr.INIT}))throw new Error(Mr(12));if("undefined"===typeof r(void 0,{type:zr.PROBE_UNKNOWN_ACTION()}))throw new Error(Mr(13))})}(r)}catch(eR){a=eR}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const s={};for(let a=0;a<n.length;a++){const o=n[a],l=r[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Mr(14))}s[o]=u,i=i||u!==c}return i=i||n.length!==Object.keys(e).length,i?s:e}}function Wr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Hr(e){return Ur(e)&&"type"in e&&"string"===typeof e.type}function Kr(e){return t=>{let{dispatch:r,getState:n}=t;return t=>a=>"function"===typeof a?a(r,n,e):t(a)}}var Vr=Kr(),Gr=Kr,Yr=Symbol.for("immer-nothing"),Jr=Symbol.for("immer-draftable"),Xr=Symbol.for("immer-state");function Qr(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zr=Object.getPrototypeOf;function en(e){return!!e&&!!e[Xr]}function tn(e){return!!e&&(nn(e)||Array.isArray(e)||!!e[Jr]||!!e.constructor?.[Jr]||cn(e)||un(e))}var rn=Object.prototype.constructor.toString();function nn(e){if(!e||"object"!==typeof e)return!1;const t=Zr(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===rn}function an(e,t){0===sn(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function sn(e){const t=e[Xr];return t?t.type_:Array.isArray(e)?1:cn(e)?2:un(e)?3:0}function on(e,t){return 2===sn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ln(e,t,r){const n=sn(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function cn(e){return e instanceof Map}function un(e){return e instanceof Set}function dn(e){return e.copy_||e.base_}function hn(e,t){if(cn(e))return new Map(e);if(un(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nn(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Xr];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Zr(e),t)}{const t=Zr(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function fn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return mn(e)||en(e)||!tn(e)||(sn(e)>1&&(e.set=e.add=e.clear=e.delete=pn),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,r]=e;return fn(r,!0)})),e}function pn(){Qr(2)}function mn(e){return Object.isFrozen(e)}var gn,yn={};function vn(e){const t=yn[e];return t||Qr(0),t}function bn(){return gn}function xn(e,t){t&&(vn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wn(e){Nn(e),e.drafts_.forEach(Sn),e.drafts_=null}function Nn(e){e===gn&&(gn=e.parent_)}function _n(e){return gn={drafts_:[],parent_:gn,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sn(e){const t=e[Xr];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function jn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Xr].modified_&&(wn(t),Qr(4)),tn(e)&&(e=kn(t,e),t.parent_||Cn(t,e)),t.patches_&&vn("Patches").generateReplacementPatches_(r[Xr].base_,e,t.patches_,t.inversePatches_)):e=kn(t,r,[]),wn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Yr?e:void 0}function kn(e,t,r){if(mn(t))return t;const n=t[Xr];if(!n)return an(t,(a,i)=>An(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Cn(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let a=t,i=!1;3===n.type_&&(a=new Set(t),t.clear(),i=!0),an(a,(a,s)=>An(e,n,t,a,s,r,i)),Cn(e,t,!1),r&&e.patches_&&vn("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function An(e,t,r,n,a,i,s){if(en(a)){const s=kn(e,a,i&&t&&3!==t.type_&&!on(t.assigned_,n)?i.concat(n):void 0);if(ln(r,n,s),!en(s))return;e.canAutoFreeze_=!1}else s&&r.add(a);if(tn(a)&&!mn(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;kn(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||Cn(e,a)}}function Cn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fn(t,r)}var On={get(e,t){if(t===Xr)return e;const r=dn(e);if(!on(r,t))return function(e,t,r){const n=Ln(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!tn(n)?n:n===En(e.base_,t)?(Dn(e),e.copy_[t]=In(n,e)):n},has:(e,t)=>t in dn(e),ownKeys:e=>Reflect.ownKeys(dn(e)),set(e,t,r){const n=Ln(dn(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=En(dn(e),t),a=n?.[Xr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||on(e.base_,t)))return!0;Dn(e),Tn(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==En(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Dn(e),Tn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=dn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Qr(11)},getPrototypeOf:e=>Zr(e.base_),setPrototypeOf(){Qr(12)}},Pn={};function En(e,t){const r=e[Xr];return(r?dn(r):e)[t]}function Ln(e,t){if(!(t in e))return;let r=Zr(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Zr(r)}}function Tn(e){e.modified_||(e.modified_=!0,e.parent_&&Tn(e.parent_))}function Dn(e){e.copy_||(e.copy_=hn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}an(On,(e,t)=>{Pn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Pn.deleteProperty=function(e,t){return Pn.set.call(this,e,t,void 0)},Pn.set=function(e,t,r){return On.set.call(this,e[0],t,r,e[0])};function In(e,t){const r=cn(e)?vn("MapSet").proxyMap_(e,t):un(e)?vn("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:bn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=On;r&&(a=[n],i=Pn);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}(e,t);return(t?t.scope_:bn()).drafts_.push(r),r}function Rn(e){return en(e)||Qr(10),Mn(e)}function Mn(e){if(!tn(e)||mn(e))return e;const t=e[Xr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=hn(e,t.scope_.immer_.useStrictShallowCopy_)}else r=hn(e,!0);return an(r,(e,t)=>{ln(r,e,Mn(t))}),t&&(t.finalized_=!1),r}var Fn=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!==typeof t&&Qr(6),void 0!==r&&"function"!==typeof r&&Qr(7),tn(e)){const a=_n(this),i=In(e,void 0);let s=!0;try{n=t(i),s=!1}finally{s?wn(a):Nn(a)}return xn(a,r),jn(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Yr&&(n=void 0),this.autoFreeze_&&fn(n,!0),r){const t=[],a=[];vn("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}Qr(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;const i=this.produce(e,r,(e,t)=>{n=e,a=t});return[i,n,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){tn(e)||Qr(8),en(e)&&(e=Rn(e));const t=_n(this),r=In(e,void 0);return r[Xr].isManual_=!0,Nn(t),r}finishDraft(e,t){const r=e&&e[Xr];r&&r.isManual_||Qr(9);const{scope_:n}=r;return xn(n,t),jn(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=vn("Patches").applyPatches_;return en(e)?n(e,t):this.produce(e,e=>n(e,t))}},Bn=Fn.produce;Fn.produceWithPatches.bind(Fn),Fn.setAutoFreeze.bind(Fn),Fn.setUseStrictShallowCopy.bind(Fn),Fn.applyPatches.bind(Fn),Fn.createDraft.bind(Fn),Fn.finishDraft.bind(Fn);var zn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Wr:Wr.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Un(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(Ia(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>Hr(t)&&t.type===e,r}var qn=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function $n(e){return tn(e)?Bn(e,()=>{}):e}function Wn(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Hn="RTK_autoBatch",Kn=e=>t=>{setTimeout(t,e)},Vn=e=>function(t){const{autoBatch:r=!0}=t??{};let n=new qn(e);return r&&n.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,a=!1,i=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Kn(10):"callback"===e.type?e.queueNotification:Kn(e.timeout),l=()=>{i=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return n=!e?.meta?.[Hn],a=!n,a&&(i||(i=!0,o(l))),r.dispatch(e)}finally{n=!0}}})}}("object"===typeof r?r:void 0)),n};function Gn(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:a=!0}=e??{};let i=new qn;return t&&(function(e){return"boolean"===typeof e}(t)?i.push(Vr):i.push(Gr(t.extraArgument))),i},{reducer:r,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof r)l=r;else{if(!Ur(r))throw new Error(Ia(1));l=$r(r)}c="function"===typeof n?n(t):t();let u=Wr;a&&(u=zn({trace:!1,..."object"===typeof a&&a}));const d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const a=e(r,n);let i=()=>{throw new Error(Mr(15))};const s={getState:a.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,...r)}},o=t.map(e=>e(s));return i=Wr(...o)(a.dispatch),{...a,dispatch:i}}}(...c),h=Vn(d);return qr(l,s,u(..."function"===typeof o?o(h):h()))}function Yn(e){const t={},r=[];let n;const a={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Ia(28));if(n in t)throw new Error(Ia(29));return t[n]=r,a},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(n=e,a)};return e(a),[t,r,n]}var Jn=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Xn=Symbol.for("rtk-slice-createasyncthunk");function Qn(e,t){return`${e}/${t}`}function Zn(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Xn];return function(e){const{name:r,reducerPath:n=r}=e;if(!r)throw new Error(Ia(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(a),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Ia(12));if(r in s.sliceCaseReducersByType)throw new Error(Ia(13));return s.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},r=[],n]="function"===typeof e.extraReducers?Yn(e.extraReducers):[e.extraReducers],a={...t,...s.sliceCaseReducersByType};return function(e,t){let r,[n,a,i]=Yn(t);if(function(e){return"function"===typeof e}(e))r=()=>$n(e());else{const t=$n(e);r=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,s=[n[t.type],...a.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[i]),s.reduce((e,r)=>{if(r){if(en(e)){const n=r(e,t);return void 0===n?e:n}if(tn(e))return Bn(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return s.getInitialState=r,s}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}i.forEach(n=>{const i=a[n],s={reducerName:n,type:Qn(r,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,r){let n,a,{type:i,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Ia(17));n=t.reducer,a=t.prepare}else n=t;r.addCase(i,n).exposeCaseReducer(s,n).exposeAction(s,a?Un(i,a):Un(i))}(s,i,o):function(e,t,r,n){let{type:a,reducerName:i}=e;if(!n)throw new Error(Ia(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=n(a,s,d);r.exposeAction(i,h),o&&r.addCase(h.fulfilled,o);l&&r.addCase(h.pending,l);c&&r.addCase(h.rejected,c);u&&r.addMatcher(h.settled,u);r.exposeCaseReducer(i,{fulfilled:o||ra,pending:l||ra,rejected:c||ra,settled:u||ra})}(s,i,o,t)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let a=e[t];return"undefined"===typeof a&&r&&(a=Wn(d,n,p)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=Wn(u,r,()=>new WeakMap);return Wn(n,t,()=>{const n={};for(const[a,i]of Object.entries(e.selectors??{}))n[a]=ea(i,t,()=>Wn(d,t,p),r);return n})}return{reducerPath:t,getSelectors:a,get selectors(){return a(n)},selectSlice:n}}const g={name:r,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...m(n),injectInto(e){let{reducerPath:t,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t??n;return e.inject({reducerPath:a,reducer:f},r),{...g,...m(a,!0)}}};return g}}function ea(e,t,r,n){function a(a){let i=t(a);"undefined"===typeof i&&n&&(i=r());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(i,...o)}return a.unwrapped=e,a}var ta=Zn();function ra(){}var na="listener",aa="completed",ia="cancelled",sa=`task-${ia}`,oa=`task-${aa}`,la=`${na}-${ia}`,ca=`${na}-${aa}`,ua=class{constructor(e){this.code=e,this.message=`task ${ia} (reason: ${e})`}name="TaskAbortError";message},da=(e,t)=>{if("function"!==typeof e)throw new TypeError(Ia(32))},ha=()=>{},fa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ha;return e.catch(t),e},pa=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ma=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ga=e=>{if(e.aborted){const{reason:t}=e;throw new ua(t)}};function ya(e,t){let r=ha;return new Promise((n,a)=>{const i=()=>a(new ua(e.reason));e.aborted?i():(r=pa(e,i),t.finally(()=>r()).then(n,a))}).finally(()=>{r=ha})}var va=e=>t=>fa(ya(e,t).then(t=>(ga(e),t))),ba=e=>{const t=va(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:xa}=Object,wa={},Na="listenerMiddleware",_a=(e,t)=>(r,n)=>{da(r);const a=new AbortController;var i;i=a,pa(e,()=>ma(i,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ua?"cancelled":"rejected",error:r}}finally{t?.()}})(async()=>{ga(e),ga(a.signal);const t=await r({pause:va(a.signal),delay:ba(a.signal),signal:a.signal});return ga(a.signal),t},()=>ma(a,oa));return n?.autoJoin&&t.push(s.catch(ha)),{result:va(e)(s),cancel(){ma(a,sa)}}},Sa=(e,t)=>(r,n)=>fa((async(r,n)=>{ga(t);let a=()=>{};const i=[new Promise((t,n)=>{let i=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});a=()=>{i(),n()}})];null!=n&&i.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await ya(t,Promise.race(i));return ga(t),e}finally{a()}})(r,n)),ja=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Un(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ia(21));return da(i),{predicate:a,type:t,effect:i}},ka=xa(e=>{const{type:t,predicate:r,effect:n}=ja(e);return{id:Jn(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ia(22))}}},{withTypes:()=>ka}),Aa=(e,t)=>{const{type:r,effect:n,predicate:a}=ja(t);return Array.from(e.values()).find(e=>("string"===typeof r?e.type===r:e.predicate===a)&&e.effect===n)},Ca=e=>{e.pending.forEach(e=>{ma(e,la)})},Oa=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Pa=xa(Un(`${Na}/add`),{withTypes:()=>Pa}),Ea=Un(`${Na}/removeAll`),La=xa(Un(`${Na}/remove`),{withTypes:()=>La}),Ta=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error(`${Na}/error`,...t)},Da=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:r,onError:n=Ta}=e;da(n);const a=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&Ca(e)}))(Aa(t,e)??ka(e));xa(a,{withTypes:()=>a});const i=e=>{const r=Aa(t,e);return r&&(r.unsubscribe(),e.cancelActive&&Ca(r)),!!r};xa(i,{withTypes:()=>i});const s=async(e,i,s,o)=>{const l=new AbortController,c=Sa(a,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,xa({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:ba(l.signal),pause:va(l.signal),extra:r,signal:l.signal,fork:_a(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==l&&(ma(e,la),r.delete(e))})},cancel:()=>{ma(l,la),e.pending.delete(l)},throwIfCancelled:()=>{ga(l.signal)}})))}catch(d){d instanceof ua||Oa(n,d,{raisedBy:"effect"})}finally{await Promise.all(u),ma(l,ca),e.pending.delete(l)}},o=(e=>()=>{e.forEach(Ca),e.clear()})(t);return{middleware:e=>r=>l=>{if(!Hr(l))return r(l);if(Pa.match(l))return a(l.payload);if(Ea.match(l))return void o();if(La.match(l))return i(l.payload);let c=e.getState();const u=()=>{if(c===wa)throw new Error(Ia(23));return c};let d;try{if(d=r(l),t.size>0){const r=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(l,r,c)}catch(h){a=!1,Oa(n,h,{raisedBy:"predicate"})}a&&s(t,l,e,u)}}}finally{c=wa}return d},startListening:a,stopListening:i,clearListeners:o}};Symbol.for("rtk-state-proxy-original");function Ia(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Ra(e,t){if(t){var r=Number.parseInt(t,10);if(!wr(r))return null===e||void 0===e?void 0:e[r]}}var Ma=ta({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Fa=Ma.reducer,{createEventEmitter:Ba}=Ma.actions;r(7237);function za(e){e()}var Ua={notify(){},get:()=>[]};function qa(e,t){let r,n=Ua,a=0,i=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){a++,r||(r=t?t.addNestedSub(s):e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){za(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=Ua)}const c={addNestedSub:function(e){o();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>n};return c}var $a=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Wa=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Ha=(()=>$a||Wa?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Ka=Symbol.for("react-redux-context"),Va="undefined"!==typeof globalThis?globalThis:{};function Ga(){if(!t.createContext)return{};const e=Va[Ka]??=new Map;let r=e.get(t.createContext);return r||(r=t.createContext(null),e.set(t.createContext,r)),r}var Ya=Ga();var Ja=function(e){const{children:r,context:n,serverState:a,store:i}=e,s=t.useMemo(()=>{const e=qa(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),o=t.useMemo(()=>i.getState(),[i]);Ha(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=n||Ya;return t.createElement(l.Provider,{value:s},r)};var Xa=Symbol.for("immer-nothing"),Qa=Symbol.for("immer-draftable"),Za=Symbol.for("immer-state");function ei(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ti=Object.getPrototypeOf;function ri(e){return!!e&&!!e[Za]}function ni(e){return!!e&&(ii(e)||Array.isArray(e)||!!e[Qa]||!!e.constructor?.[Qa]||ui(e)||di(e))}var ai=Object.prototype.constructor.toString();function ii(e){if(!e||"object"!==typeof e)return!1;const t=ti(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===ai}function si(e,t){0===oi(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function oi(e){const t=e[Za];return t?t.type_:Array.isArray(e)?1:ui(e)?2:di(e)?3:0}function li(e,t){return 2===oi(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ci(e,t,r){const n=oi(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function ui(e){return e instanceof Map}function di(e){return e instanceof Set}function hi(e){return e.copy_||e.base_}function fi(e,t){if(ui(e))return new Map(e);if(di(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ii(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Za];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(ti(e),t)}{const t=ti(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function pi(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return gi(e)||ri(e)||!ni(e)||(oi(e)>1&&(e.set=e.add=e.clear=e.delete=mi),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,r]=e;return pi(r,!0)})),e}function mi(){ei(2)}function gi(e){return Object.isFrozen(e)}var yi,vi={};function bi(e){const t=vi[e];return t||ei(0),t}function xi(){return yi}function wi(e,t){t&&(bi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ni(e){_i(e),e.drafts_.forEach(ji),e.drafts_=null}function _i(e){e===yi&&(yi=e.parent_)}function Si(e){return yi={drafts_:[],parent_:yi,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ji(e){const t=e[Za];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ki(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Za].modified_&&(Ni(t),ei(4)),ni(e)&&(e=Ai(t,e),t.parent_||Oi(t,e)),t.patches_&&bi("Patches").generateReplacementPatches_(r[Za].base_,e,t.patches_,t.inversePatches_)):e=Ai(t,r,[]),Ni(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Xa?e:void 0}function Ai(e,t,r){if(gi(t))return t;const n=t[Za];if(!n)return si(t,(a,i)=>Ci(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Oi(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let a=t,i=!1;3===n.type_&&(a=new Set(t),t.clear(),i=!0),si(a,(a,s)=>Ci(e,n,t,a,s,r,i)),Oi(e,t,!1),r&&e.patches_&&bi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Ci(e,t,r,n,a,i,s){if(ri(a)){const s=Ai(e,a,i&&t&&3!==t.type_&&!li(t.assigned_,n)?i.concat(n):void 0);if(ci(r,n,s),!ri(s))return;e.canAutoFreeze_=!1}else s&&r.add(a);if(ni(a)&&!gi(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ai(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||Oi(e,a)}}function Oi(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pi(t,r)}var Pi={get(e,t){if(t===Za)return e;const r=hi(e);if(!li(r,t))return function(e,t,r){const n=Ti(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!ni(n)?n:n===Li(e.base_,t)?(Ii(e),e.copy_[t]=Ri(n,e)):n},has:(e,t)=>t in hi(e),ownKeys:e=>Reflect.ownKeys(hi(e)),set(e,t,r){const n=Ti(hi(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Li(hi(e),t),a=n?.[Za];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||li(e.base_,t)))return!0;Ii(e),Di(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Li(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ii(e),Di(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=hi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){ei(11)},getPrototypeOf:e=>ti(e.base_),setPrototypeOf(){ei(12)}},Ei={};function Li(e,t){const r=e[Za];return(r?hi(r):e)[t]}function Ti(e,t){if(!(t in e))return;let r=ti(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=ti(r)}}function Di(e){e.modified_||(e.modified_=!0,e.parent_&&Di(e.parent_))}function Ii(e){e.copy_||(e.copy_=fi(e.base_,e.scope_.immer_.useStrictShallowCopy_))}si(Pi,(e,t)=>{Ei[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ei.deleteProperty=function(e,t){return Ei.set.call(this,e,t,void 0)},Ei.set=function(e,t,r){return Pi.set.call(this,e[0],t,r,e[0])};function Ri(e,t){const r=ui(e)?bi("MapSet").proxyMap_(e,t):di(e)?bi("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:xi(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Pi;r&&(a=[n],i=Ei);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}(e,t);return(t?t.scope_:xi()).drafts_.push(r),r}function Mi(e){if(!ni(e)||gi(e))return e;const t=e[Za];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fi(e,t.scope_.immer_.useStrictShallowCopy_)}else r=fi(e,!0);return si(r,(e,t)=>{ci(r,e,Mi(t))}),t&&(t.finalized_=!1),r}var Fi=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!==typeof t&&ei(6),void 0!==r&&"function"!==typeof r&&ei(7),ni(e)){const a=Si(this),i=Ri(e,void 0);let s=!0;try{n=t(i),s=!1}finally{s?Ni(a):_i(a)}return wi(a,r),ki(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Xa&&(n=void 0),this.autoFreeze_&&pi(n,!0),r){const t=[],a=[];bi("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}ei(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;const i=this.produce(e,r,(e,t)=>{n=e,a=t});return[i,n,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ni(e)||ei(8),ri(e)&&(e=function(e){ri(e)||ei(10);return Mi(e)}(e));const t=Si(this),r=Ri(e,void 0);return r[Za].isManual_=!0,_i(t),r}finishDraft(e,t){const r=e&&e[Za];r&&r.isManual_||ei(9);const{scope_:n}=r;return wi(n,t),ki(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=bi("Patches").applyPatches_;return ri(e)?n(e,t):this.produce(e,e=>n(e,t))}};Fi.produce,Fi.produceWithPatches.bind(Fi),Fi.setAutoFreeze.bind(Fi),Fi.setUseStrictShallowCopy.bind(Fi),Fi.applyPatches.bind(Fi),Fi.createDraft.bind(Fi),Fi.finishDraft.bind(Fi);var Bi={active:!1,index:null,dataKey:void 0,coordinate:void 0},zi=ta({name:"tooltip",initialState:{itemInteraction:{click:Bi,hover:Bi},axisInteraction:{click:Bi,hover:Bi},keyboardInteraction:Bi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Rn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ui,removeTooltipEntrySettings:qi,setTooltipSettingsState:$i,setActiveMouseOverItemIndex:Wi,mouseLeaveItem:Hi,mouseLeaveChart:Ki,setActiveClickItemIndex:Vi,setMouseOverAxisIndex:Gi,setMouseClickAxisIndex:Yi,setSyncInteraction:Ji,setKeyboardInteraction:Xi}=zi.actions,Qi=zi.reducer,Zi=ta({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:es,setDataStartEndIndexes:ts,setComputedData:rs}=Zi.actions,ns=Zi.reducer,as=ta({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:is,setLayout:ss,setChartSize:os,setScale:ls}=as.actions,cs=as.reducer;function us(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var ds=e=>Array.isArray(e)?e:[e];function hs(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var fs="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function ps(){return{s:0,v:void 0,o:null,p:null}}function ms(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let a,i=0;function s(){let t=r;const{length:s}=arguments;for(let e=0,r=s;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=ps(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=ps(),e.set(r,t)):t=n}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,n){const e=a?.deref?.()??a;null!=e&&n(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new fs(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function gs(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a="function"===typeof e?{memoize:e,memoizeOptions:r}:e,i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n,i=0,s=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),us(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...a,...o},{memoize:u,memoizeOptions:d=[],argsMemoize:h=ms,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=ds(d),g=ds(f),y=hs(t),v=u(function(){return i++,l.apply(null,arguments)},...m);const b=h(function(){s++;const e=function(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}(y,arguments);return n=v.apply(null,e),n},...g);return Object.assign(b,{resultFunc:l,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:h})};return Object.assign(i,{withTypes:()=>i}),i}var ys=gs(ms),vs=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ys;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e),n=t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})});return n},{withTypes:()=>vs}),bs=r(8443),xs=(0,t.createContext)(null),ws=e=>e,Ns=()=>{var e=(0,t.useContext)(xs);return e?e.store.dispatch:ws},_s=()=>{},Ss=()=>_s,js=(e,t)=>e===t;function ks(e){var r=(0,t.useContext)(xs);return(0,bs.useSyncExternalStoreWithSelector)(r?r.subscription.addNestedSub:Ss,r?r.store.getState:_s,r?r.store.getState:_s,r?e:_s,js)}var As=r(3821),Cs=r.n(As),Os=e=>e.legend.settings;ys([e=>e.legend.payload,Os],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Cs()(n,r):n});function Ps(e,t){if((a=e.length)>1)for(var r,n,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(n=s,s=e[t[i]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}Array.prototype.slice;function Es(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ls(e){return function(){return e}}function Ts(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ds(e,t){return e[t]}function Is(e){const t=[];return t.key=e,t}function Rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(r),!0).forEach(function(t){Fs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bs=Math.PI/180,zs=e=>180*e/Math.PI,Us=(e,t,r,n)=>({x:e+Math.cos(-Bs*n)*r,y:t+Math.sin(-Bs*n)*r}),qs=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},$s=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=((e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)})({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:zs(l),angleInRadian:l}},Ws=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},Hs=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=$s({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Ms(Ms({},t),{},{radius:a,angle:Ws(d,t)}):null};function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(r),!0).forEach(function(t){Gs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ys(e,t,r){return Pr(e)||Pr(t)?r:Sr(t)?br()(e,t,r):"function"===typeof t?t(e):r}var Js=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Xs=1e-4,Qs={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=wr(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,s=e[0].length;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Ps(e,t)}},none:Ps,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var s=0,o=0;s<r;++s)o+=e[s][n][1]||0;a[n][1]+=a[n][0]=-o/2}Ps(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,s=1;s<n;++s){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=d,c+=h*d}r[s-1][1]+=r[s-1][0]=i,l&&(i-=c/l)}r[s-1][1]+=r[s-1][0]=i,Ps(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=wr(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},Zs=(e,t,r)=>{var n=Qs[r],a=function(){var e=Ls([]),t=Ts,r=Ps,n=Ds;function a(a){var i,s,o=Array.from(e.apply(this,arguments),Is),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+n(e,o[i].key,c,a)]).data=e;for(i=0,s=Es(t(o));i<l;++i)o[s[i]].index=i;return r(o,s),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Ls(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:Ls(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?Ts:"function"===typeof e?e:Ls(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?Ps:e,a):r},a}().keys(t).value((e,t)=>+Ys(e,t,0)).order(Ts).offset(n);return a(e)};function eo(e){return null==e?void 0:String(e)}var to=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if("category"===t.type)return r[s]?r[s].coordinate+n:null;var o=Ys(i,t.dataKey,t.scale.domain()[s]);return Pr(o)?null:t.scale(o)-a/2+n},ro=(e,t,r)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((e,n)=>{var a=(e=>{var t=e.flat(2).filter(_r);return[Math.min(...t),Math.max(...t)]})(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},no=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ao=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,io=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Cs()(t,e=>e.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function so(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Vs(Vs({},t),{},{dataKey:r,payload:n,value:a,name:i})}function oo(e,t){return e?String(e):"string"===typeof t?t:void 0}var lo=e=>e.layout.width,co=e=>e.layout.height,uo=e=>e.layout.scale,ho=e=>e.layout.margin,fo=ys(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),po=ys(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),mo="data-recharts-item-index",go="data-recharts-item-data-key";function yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(r),!0).forEach(function(t){bo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xo=ys([lo,co,ho,e=>e.brush.height,fo,po,Os,e=>e.legend.size],(e,t,r,n,a,i,s,o)=>{var l=i.reduce((e,t)=>{var{orientation:r}=t;if(!t.mirror&&!t.hide){var n="number"===typeof t.width?t.width:60;return vo(vo({},e),{},{[r]:e[r]+n})}return e},{left:r.left||0,right:r.right||0}),c=a.reduce((e,t)=>{var{orientation:r}=t;return t.mirror||t.hide?e:vo(vo({},e),{},{[r]:br()(e,"".concat(r))+t.height})},{top:r.top||0,bottom:r.bottom||0}),u=vo(vo({},c),l),d=u.bottom;u.bottom+=n,u=((e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==i&&_r(e[i]))return Vs(Vs({},e),{},{[i]:e[i]+(n||0)});if(("horizontal"===o||"vertical"===o&&"center"===i)&&"middle"!==s&&_r(e[s]))return Vs(Vs({},e),{},{[s]:e[s]+(a||0)})}return e})(u,s,o);var h=e-u.left-u.right,f=t-u.top-u.bottom;return vo(vo({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),wo=ys(xo,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),No=ys(lo,co,(e,t)=>({x:0,y:0,width:e,height:t})),_o=(0,t.createContext)(null),So=()=>null!=(0,t.useContext)(_o),jo=e=>e.brush,ko=ys([jo,xo,ho],(e,t,r)=>({height:e.height,x:_r(e.x)?e.x:t.left,y:_r(e.y)?e.y:t.top+t.height+t.brushBottom-((null===r||void 0===r?void 0:r.bottom)||0),width:_r(e.width)?e.width:t.width})),Ao=()=>{var e,t=So(),r=ks(wo),n=ks(ko),a=null===(e=ks(jo))||void 0===e?void 0:e.padding;return t&&n&&a?{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}:r},Co={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Oo=e=>e.layout.layoutType,Po=()=>ks(Oo),Eo=r(9859),Lo=r.n(Eo);function To(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Do(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Io extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bo;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Ro(this,e))}has(e){return super.has(Ro(this,e))}set(e,t){return super.set(Mo(this,e),t)}delete(e){return super.delete(Fo(this,e))}}Set;function Ro(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function Mo(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function Fo(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function Bo(e){return null!==e&&"object"===typeof e?e.valueOf():e}const zo=Symbol("implicit");function Uo(){var e=new Io,t=[],r=[],n=zo;function a(a){let i=e.get(a);if(void 0===i){if(n!==zo)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Io;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Uo(t,r).unknown(n)},To.apply(a,arguments),a}function qo(){var e,t,r=Uo().unknown(void 0),n=r.domain,a=r.range,i=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=s<i,h=d?s:i,f=d?i:s;e=(f-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,d()):[i,s]},r.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,d()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return qo(n(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},To.apply(d(),arguments)}function $o(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $o(t())},e}function Wo(){return $o(qo.apply(null,arguments).paddingInner(1))}const Ho=Math.sqrt(50),Ko=Math.sqrt(10),Vo=Math.sqrt(2);function Go(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Ho?10:i>=Ko?5:i>=Vo?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Go(e,t,2*r):[o,l,c]}function Yo(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,s]=n?Go(t,e,r):Go(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function Jo(e,t,r){return Go(e=+e,t=+t,r=+r)[2]}function Xo(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Jo(t,e,r):Jo(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Qo(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zo(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function el(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=Qo,r=(t,r)=>Qo(e(t),r),n=(t,r)=>e(t)-r):(t=e===Qo||e===Zo?e:tl,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function tl(){return 0}function rl(e){return null===e?NaN:+e}const nl=el(Qo),al=nl.right,il=(nl.left,el(rl).center,al);function sl(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ol(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ll(){}var cl=.7,ul=1/cl,dl="\\s*([+-]?\\d+)\\s*",hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pl=/^#([0-9a-f]{3,8})$/,ml=new RegExp(`^rgb\\(${dl},${dl},${dl}\\)$`),gl=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),yl=new RegExp(`^rgba\\(${dl},${dl},${dl},${hl}\\)$`),vl=new RegExp(`^rgba\\(${fl},${fl},${fl},${hl}\\)$`),bl=new RegExp(`^hsl\\(${hl},${fl},${fl}\\)$`),xl=new RegExp(`^hsla\\(${hl},${fl},${fl},${hl}\\)$`),wl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Nl(){return this.rgb().formatHex()}function _l(){return this.rgb().formatRgb()}function Sl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=pl.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?jl(t):3===r?new Cl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?kl(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?kl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ml.exec(e))?new Cl(t[1],t[2],t[3],1):(t=gl.exec(e))?new Cl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=yl.exec(e))?kl(t[1],t[2],t[3],t[4]):(t=vl.exec(e))?kl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=bl.exec(e))?Dl(t[1],t[2]/100,t[3]/100,1):(t=xl.exec(e))?Dl(t[1],t[2]/100,t[3]/100,t[4]):wl.hasOwnProperty(e)?jl(wl[e]):"transparent"===e?new Cl(NaN,NaN,NaN,0):null}function jl(e){return new Cl(e>>16&255,e>>8&255,255&e,1)}function kl(e,t,r,n){return n<=0&&(e=t=r=NaN),new Cl(e,t,r,n)}function Al(e,t,r,n){return 1===arguments.length?function(e){return e instanceof ll||(e=Sl(e)),e?new Cl((e=e.rgb()).r,e.g,e.b,e.opacity):new Cl}(e):new Cl(e,t,r,null==n?1:n)}function Cl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Ol(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function Pl(){const e=El(this.opacity);return`${1===e?"rgb(":"rgba("}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${1===e?")":`, ${e})`}`}function El(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ll(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tl(e){return((e=Ll(e))<16?"0":"")+e.toString(16)}function Dl(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rl(e,t,r,n)}function Il(e){if(e instanceof Rl)return new Rl(e.h,e.s,e.l,e.opacity);if(e instanceof ll||(e=Sl(e)),!e)return new Rl;if(e instanceof Rl)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(r-n)/o+6*(r<n):r===i?(n-t)/o+2:(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Rl(s,o,l,e.opacity)}function Rl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Ml(e){return(e=(e||0)%360)<0?e+360:e}function Fl(e){return Math.max(0,Math.min(1,e||0))}function Bl(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function zl(e,t,r,n,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*r+(1+3*e+3*i-3*s)*n+s*a)/6}sl(ll,Sl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Nl,formatHex:Nl,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Il(this).formatHsl()},formatRgb:_l,toString:_l}),sl(Cl,Al,ol(ll,{brighter(e){return e=null==e?ul:Math.pow(ul,e),new Cl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?cl:Math.pow(cl,e),new Cl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cl(Ll(this.r),Ll(this.g),Ll(this.b),El(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ol,formatHex:Ol,formatHex8:function(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Pl,toString:Pl})),sl(Rl,function(e,t,r,n){return 1===arguments.length?Il(e):new Rl(e,t,r,null==n?1:n)},ol(ll,{brighter(e){return e=null==e?ul:Math.pow(ul,e),new Rl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?cl:Math.pow(cl,e),new Rl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Cl(Bl(e>=240?e-240:e+120,a,n),Bl(e,a,n),Bl(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Rl(Ml(this.h),Fl(this.s),Fl(this.l),El(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=El(this.opacity);return`${1===e?"hsl(":"hsla("}${Ml(this.h)}, ${100*Fl(this.s)}%, ${100*Fl(this.l)}%${1===e?")":`, ${e})`}`}}));const Ul=e=>()=>e;function ql(e,t){return function(r){return e+r*t}}function $l(e){return 1===(e=+e)?Wl:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Ul(isNaN(t)?r:t)}}function Wl(e,t){var r=t-e;return r?ql(e,r):Ul(isNaN(e)?t:e)}const Hl=function e(t){var r=$l(t);function n(e,t){var n=r((e=Al(e)).r,(t=Al(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),s=Wl(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function Kl(e){return function(t){var r,n,a=t.length,i=new Array(a),s=new Array(a),o=new Array(a);for(r=0;r<a;++r)n=Al(t[r]),i[r]=n.r||0,s[r]=n.g||0,o[r]=n.b||0;return i=e(i),s=e(s),o=e(o),n.opacity=1,function(e){return n.r=i(e),n.g=s(e),n.b=o(e),n+""}}}Kl(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],s=n>0?e[n-1]:2*a-i,o=n<t-1?e[n+2]:2*i-a;return zl((r-n/t)*t,s,a,i,o)}}),Kl(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],s=e[(n+1)%t],o=e[(n+2)%t];return zl((r-n/t)*t,a,i,s,o)}});function Vl(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),s=new Array(n);for(r=0;r<a;++r)i[r]=tc(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(e){for(r=0;r<a;++r)s[r]=i[r](e);return s}}function Gl(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Yl(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Jl(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=tc(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var Xl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ql=new RegExp(Xl.source,"g");function Zl(e,t){var r,n,a,i=Xl.lastIndex=Ql.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(r=Xl.exec(e))&&(n=Ql.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:Yl(r,n)})),i=Ql.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function ec(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function tc(e,t){var r,n=typeof t;return null==t||"boolean"===n?Ul(t):("number"===n?Yl:"string"===n?(r=Sl(t))?(t=r,Hl):Zl:t instanceof Sl?Hl:t instanceof Date?Gl:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?ec:Array.isArray(t)?Vl:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Jl:Yl)(e,t)}function rc(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nc(e){return+e}var ac=[0,1];function ic(e){return e}function sc(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function oc(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=sc(a,n),i=r(s,i)):(n=sc(n,a),i=r(i,s)),function(e){return i(n(e))}}function lc(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=sc(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(t){var r=il(e,t,1,n)-1;return i[r](a[r](t))}}function cc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uc(){var e,t,r,n,a,i,s=ac,o=ac,l=tc,c=ic;function u(){var e=Math.min(s.length,o.length);return c!==ic&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(s[0],s[e-1])),n=e>2?lc:oc,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(s.map(e),o,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(o,s.map(e),Yl)))(r)))},d.domain=function(e){return arguments.length?(s=Array.from(e,nc),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=rc,u()},d.clamp=function(e){return arguments.length?(c=!!e||ic,u()):c!==ic},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function dc(){return uc()(ic,ic)}var hc,fc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=fc.exec(e)))throw new Error("invalid format: "+e);var t;return new mc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function mc(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function gc(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yc(e){return(e=gc(Math.abs(e)))?e[1]:NaN}function vc(e,t){var r=gc(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}pc.prototype=mc.prototype,mc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const bc={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vc(100*e,t),r:vc,s:function(e,t){var r=gc(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(hc=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+gc(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xc(e){return e}var wc,Nc,_c,Sc=Array.prototype.map,jc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function kc(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?xc:(t=Sc.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?xc:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Sc.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=pc(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):bc[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var b="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?i:/[%p]/.test(v)?l:"",w=bc[v],N=/[defgprs%]/.test(v);function _(e){var a,i,l,h=b,_=x;if("c"===v)_=w(e)+_,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,_=("s"===v?jc[8+hc/3]:"")+_+(S&&"("===d?")":""),N)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){_=(46===l?s+e.slice(a+1):e.slice(a))+_,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var j=h.length+e.length+_.length,k=j<p?new Array(p-j+1).join(t):"";switch(m&&f&&(e=n(k+e,k.length?p-_.length:1/0),k=""),r){case"<":e=h+e+_+k;break;case"=":e=h+k+e+_;break;case"^":e=k.slice(0,j=k.length>>1)+h+e+_+k.slice(j);break;default:e=k+h+e+_}return o(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var r=d(((e=pc(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(yc(t)/3))),a=Math.pow(10,-n),i=jc[8+n/3];return function(e){return r(a*e)+i}}}}function Ac(e,t,r,n){var a,i=Xo(e,t,r);switch((n=pc(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yc(t)/3)))-yc(Math.abs(e)))}(i,s))||(n.precision=a),_c(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yc(t)-yc(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-yc(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return Nc(n)}function Cc(e){var t=e.domain;return e.ticks=function(e){var r=t();return Yo(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Ac(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],u=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);u-- >0;){if((a=Jo(l,c,r))===n)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function Oc(){var e=dc();return e.copy=function(){return cc(e,Oc())},To.apply(e,arguments),Cc(e)}function Pc(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,nc),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return Pc(e).unknown(t)},e=arguments.length?Array.from(e,nc):[0,1],Cc(r)}function Ec(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],s=e[a];return s<i&&(r=n,n=a,a=r,r=i,i=s,s=r),e[n]=t.floor(i),e[a]=t.ceil(s),e}function Lc(e){return Math.log(e)}function Tc(e){return Math.exp(e)}function Dc(e){return-Math.log(-e)}function Ic(e){return-Math.exp(-e)}function Rc(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mc(e){return(t,r)=>-e(-t,r)}function Fc(e){const t=e(Lc,Tc),r=t.domain;let n,a,i=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?Rc:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=Mc(n),a=Mc(a),e(Dc,Ic)):e(Lc,Tc),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(r(e),s()):r()},t.ticks=e=>{const t=r();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=n(s),h=n(o);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=Yo(s,o,f))}else p=Yo(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=pc(r)).precision||(r.trim=!0),r=Nc(r)),e===1/0)return r;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=s?r(e):""}},t.nice=()=>r(Ec(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function Bc(){const e=Fc(uc()).domain([1,10]);return e.copy=()=>cc(e,Bc()).base(e.base()),To.apply(e,arguments),e}function zc(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Uc(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qc(e){var t=1,r=e(zc(t),Uc(t));return r.constant=function(r){return arguments.length?e(zc(t=+r),Uc(t)):t},Cc(r)}function $c(){var e=qc(uc());return e.copy=function(){return cc(e,$c()).constant(e.constant())},To.apply(e,arguments)}function Wc(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kc(e){return e<0?-e*e:e*e}function Vc(e){var t=e(ic,ic),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(ic,ic):.5===r?e(Hc,Kc):e(Wc(r),Wc(1/r)):r},Cc(t)}function Gc(){var e=Vc(uc());return e.copy=function(){return cc(e,Gc()).exponent(e.exponent())},To.apply(e,arguments),e}function Yc(){return Gc.apply(null,arguments).exponent(.5)}function Jc(e){return Math.sign(e)*e*e}function Xc(){var e,t=dc(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(Jc(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,nc)).map(Jc)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Xc(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},To.apply(a,arguments),Cc(a)}function Qc(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function Zc(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function eu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo;if(e===Qo)return tu;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function tu(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function ru(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?tu:eu(a);n>r;){if(n-r>600){const i=n-r+1,s=t-r+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);ru(e,t,Math.max(r,Math.floor(t-s*l/i+c)),Math.min(n,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=r,o=n;for(nu(e,r,t),a(e[n],i)>0&&nu(e,r,n);s<o;){for(nu(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[r],i)?nu(e,r,o):(++o,nu(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function nu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function au(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return Zc(e);if(t>=1)return Qc(e);var n,a=(n-1)*t,i=Math.floor(a),s=Qc(ru(e,i).subarray(0,i+1));return s+(Zc(e.subarray(i+1))-s)*(a-i)}}function iu(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rl;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e);return s+(+r(e[i+1],i+1,e)-s)*(a-i)}}function su(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=iu(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[il(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Qo),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return su().domain(t).range(r).unknown(e)},To.apply(i,arguments)}function ou(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[il(a,t,0,n)]:e}function o(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return s}return s.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},s.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,o()):i.slice()},s.invertExtent=function(e){var s=i.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,a[0]]:s>=n?[a[n-1],r]:[a[s-1],a[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return ou().domain([t,r]).range(i).unknown(e)},To.apply(Cc(s),arguments)}function lu(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[il(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return lu().domain(t).range(r).unknown(e)},To.apply(a,arguments)}wc=kc({thousands:",",grouping:[3],currency:["$",""]}),Nc=wc.format,_c=wc.formatPrefix;const cu=1e3,uu=6e4,du=36e5,hu=864e5,fu=6048e5,pu=2592e6,mu=31536e6,gu=new Date,yu=new Date;function vu(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const s=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return s;let o;do{s.push(o=new Date(+r)),t(r,i),e(r)}while(o<r&&r<n);return s},a.filter=r=>vu(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(gu.setTime(+t),yu.setTime(+n),e(gu),e(yu),Math.floor(r(gu,yu))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const bu=vu(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bu.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?vu(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):bu:null);bu.range;const xu=vu(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cu)},(e,t)=>(t-e)/cu,e=>e.getUTCSeconds()),wu=(xu.range,vu(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cu)},(e,t)=>{e.setTime(+e+t*uu)},(e,t)=>(t-e)/uu,e=>e.getMinutes())),Nu=(wu.range,vu(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*uu)},(e,t)=>(t-e)/uu,e=>e.getUTCMinutes())),_u=(Nu.range,vu(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cu-e.getMinutes()*uu)},(e,t)=>{e.setTime(+e+t*du)},(e,t)=>(t-e)/du,e=>e.getHours())),Su=(_u.range,vu(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*du)},(e,t)=>(t-e)/du,e=>e.getUTCHours())),ju=(Su.range,vu(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uu)/hu,e=>e.getDate()-1)),ku=(ju.range,vu(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hu,e=>e.getUTCDate()-1)),Au=(ku.range,vu(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hu,e=>Math.floor(e/hu)));Au.range;function Cu(e){return vu(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uu)/fu)}const Ou=Cu(0),Pu=Cu(1),Eu=Cu(2),Lu=Cu(3),Tu=Cu(4),Du=Cu(5),Iu=Cu(6);Ou.range,Pu.range,Eu.range,Lu.range,Tu.range,Du.range,Iu.range;function Ru(e){return vu(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/fu)}const Mu=Ru(0),Fu=Ru(1),Bu=Ru(2),zu=Ru(3),Uu=Ru(4),qu=Ru(5),$u=Ru(6),Wu=(Mu.range,Fu.range,Bu.range,zu.range,Uu.range,qu.range,$u.range,vu(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),Hu=(Wu.range,vu(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Ku=(Hu.range,vu(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Ku.every=e=>isFinite(e=Math.floor(e))&&e>0?vu(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;Ku.range;const Vu=vu(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vu.every=e=>isFinite(e=Math.floor(e))&&e>0?vu(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;Vu.range;function Gu(e,t,r,n,a,i){const s=[[xu,1,cu],[xu,5,5e3],[xu,15,15e3],[xu,30,3e4],[i,1,uu],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,du],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,hu],[n,2,1728e5],[r,1,fu],[t,1,pu],[t,3,7776e6],[e,1,mu]];function o(t,r,n){const a=Math.abs(r-t)/n,i=el(e=>{let[,,t]=e;return t}).right(s,a);if(i===s.length)return e.every(Xo(t/mu,r/mu,n));if(0===i)return bu.every(Math.max(Xo(t,r,n),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:o(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},o]}const[Yu,Ju]=Gu(Vu,Hu,Mu,Au,Su,Nu),[Xu,Qu]=Gu(Ku,Wu,Ou,ju,_u,wu);function Zu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ed(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function td(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var rd,nd,ad,id={"-":"",_:" ",0:"0"},sd=/^\s*\d+/,od=/^%/,ld=/[\\^$*+?|[\]().{}]/g;function cd(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function ud(e){return e.replace(ld,"\\$&")}function dd(e){return new RegExp("^(?:"+e.map(ud).join("|")+")","i")}function hd(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function fd(e,t,r){var n=sd.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pd(e,t,r){var n=sd.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function md(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function gd(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function yd(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function vd(e,t,r){var n=sd.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function bd(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xd(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wd(e,t,r){var n=sd.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Nd(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _d(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Sd(e,t,r){var n=sd.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function jd(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kd(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ad(e,t,r){var n=sd.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Cd(e,t,r){var n=sd.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Od(e,t,r){var n=sd.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Pd(e,t,r){var n=od.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Ed(e,t,r){var n=sd.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ld(e,t,r){var n=sd.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Td(e,t){return cd(e.getDate(),t,2)}function Dd(e,t){return cd(e.getHours(),t,2)}function Id(e,t){return cd(e.getHours()%12||12,t,2)}function Rd(e,t){return cd(1+ju.count(Ku(e),e),t,3)}function Md(e,t){return cd(e.getMilliseconds(),t,3)}function Fd(e,t){return Md(e,t)+"000"}function Bd(e,t){return cd(e.getMonth()+1,t,2)}function zd(e,t){return cd(e.getMinutes(),t,2)}function Ud(e,t){return cd(e.getSeconds(),t,2)}function qd(e){var t=e.getDay();return 0===t?7:t}function $d(e,t){return cd(Ou.count(Ku(e)-1,e),t,2)}function Wd(e){var t=e.getDay();return t>=4||0===t?Tu(e):Tu.ceil(e)}function Hd(e,t){return e=Wd(e),cd(Tu.count(Ku(e),e)+(4===Ku(e).getDay()),t,2)}function Kd(e){return e.getDay()}function Vd(e,t){return cd(Pu.count(Ku(e)-1,e),t,2)}function Gd(e,t){return cd(e.getFullYear()%100,t,2)}function Yd(e,t){return cd((e=Wd(e)).getFullYear()%100,t,2)}function Jd(e,t){return cd(e.getFullYear()%1e4,t,4)}function Xd(e,t){var r=e.getDay();return cd((e=r>=4||0===r?Tu(e):Tu.ceil(e)).getFullYear()%1e4,t,4)}function Qd(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+cd(t/60|0,"0",2)+cd(t%60,"0",2)}function Zd(e,t){return cd(e.getUTCDate(),t,2)}function eh(e,t){return cd(e.getUTCHours(),t,2)}function th(e,t){return cd(e.getUTCHours()%12||12,t,2)}function rh(e,t){return cd(1+ku.count(Vu(e),e),t,3)}function nh(e,t){return cd(e.getUTCMilliseconds(),t,3)}function ah(e,t){return nh(e,t)+"000"}function ih(e,t){return cd(e.getUTCMonth()+1,t,2)}function sh(e,t){return cd(e.getUTCMinutes(),t,2)}function oh(e,t){return cd(e.getUTCSeconds(),t,2)}function lh(e){var t=e.getUTCDay();return 0===t?7:t}function ch(e,t){return cd(Mu.count(Vu(e)-1,e),t,2)}function uh(e){var t=e.getUTCDay();return t>=4||0===t?Uu(e):Uu.ceil(e)}function dh(e,t){return e=uh(e),cd(Uu.count(Vu(e),e)+(4===Vu(e).getUTCDay()),t,2)}function hh(e){return e.getUTCDay()}function fh(e,t){return cd(Fu.count(Vu(e)-1,e),t,2)}function ph(e,t){return cd(e.getUTCFullYear()%100,t,2)}function mh(e,t){return cd((e=uh(e)).getUTCFullYear()%100,t,2)}function gh(e,t){return cd(e.getUTCFullYear()%1e4,t,4)}function yh(e,t){var r=e.getUTCDay();return cd((e=r>=4||0===r?Uu(e):Uu.ceil(e)).getUTCFullYear()%1e4,t,4)}function vh(){return"+0000"}function bh(){return"%"}function xh(e){return+e}function wh(e){return Math.floor(+e/1e3)}function Nh(e){return new Date(e)}function _h(e){return e instanceof Date?+e:+new Date(+e)}function Sh(e,t,r,n,a,i,s,o,l,c){var u=dc(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?y:v:r(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,_h)):h().map(Nh)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(Ec(r,e)):u},u.copy=function(){return cc(u,Sh(e,t,r,n,a,i,s,o,l,c))},u}function jh(){return To.apply(Sh(Xu,Qu,Ku,Wu,Ou,ju,_u,wu,xu,nd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kh(){return To.apply(Sh(Yu,Ju,Vu,Hu,Mu,ku,Su,Nu,xu,ad).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ah(){var e,t,r,n,a,i=0,s=1,o=ic,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=n(i=+i),t=n(s=+s),r=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(tc),c.rangeRound=u(rc),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(s),r=e===t?0:1/(t-e),c}}function Ch(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Oh(){var e=Cc(Ah()(ic));return e.copy=function(){return Ch(e,Oh())},Do.apply(e,arguments)}function Ph(){var e=Fc(Ah()).domain([1,10]);return e.copy=function(){return Ch(e,Ph()).base(e.base())},Do.apply(e,arguments)}function Eh(){var e=qc(Ah());return e.copy=function(){return Ch(e,Eh()).constant(e.constant())},Do.apply(e,arguments)}function Lh(){var e=Vc(Ah());return e.copy=function(){return Ch(e,Lh()).exponent(e.exponent())},Do.apply(e,arguments)}function Th(){return Lh.apply(null,arguments).exponent(.5)}function Dh(){var e=[],t=ic;function r(r){if(null!=r&&!isNaN(r=+r))return t((il(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(Qo),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>au(e,n/t))},r.copy=function(){return Dh(t).domain(e)},Do.apply(r,arguments)}function Ih(){var e,t,r,n,a,i,s,o=0,l=.5,c=1,u=1,d=ic,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=tc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(tc),f.rangeRound=p(rc),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return i=s,e=s(o),t=s(l),r=s(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function Rh(){var e=Cc(Ih()(ic));return e.copy=function(){return Ch(e,Rh())},Do.apply(e,arguments)}function Mh(){var e=Fc(Ih()).domain([.1,1,10]);return e.copy=function(){return Ch(e,Mh()).base(e.base())},Do.apply(e,arguments)}function Fh(){var e=qc(Ih());return e.copy=function(){return Ch(e,Fh()).constant(e.constant())},Do.apply(e,arguments)}function Bh(){var e=Vc(Ih());return e.copy=function(){return Ch(e,Bh()).exponent(e.exponent())},Do.apply(e,arguments)}function zh(){return Bh.apply(null,arguments).exponent(.5)}!function(e){rd=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=dd(a),u=hd(a),d=dd(i),h=hd(i),f=dd(s),p=hd(s),m=dd(o),g=hd(o),y=dd(l),v=hd(l),b={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:Td,e:Td,f:Fd,g:Yd,G:Xd,H:Dd,I:Id,j:Rd,L:Md,m:Bd,M:zd,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:xh,s:wh,S:Ud,u:qd,U:$d,V:Hd,w:Kd,W:Vd,x:null,X:null,y:Gd,Y:Jd,Z:Qd,"%":bh},x={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:Zd,e:Zd,f:ah,g:mh,G:yh,H:eh,I:th,j:rh,L:nh,m:ih,M:sh,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:xh,s:wh,S:oh,u:lh,U:ch,V:dh,w:hh,W:fh,x:null,X:null,y:ph,Y:gh,Z:vh,"%":bh},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return S(e,t,r,n)},d:_d,e:_d,f:Od,g:bd,G:vd,H:jd,I:jd,j:Sd,L:Cd,m:Nd,M:kd,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:wd,Q:Ed,s:Ld,S:Ad,u:pd,U:md,V:gd,w:fd,W:yd,x:function(e,t,n){return S(e,r,t,n)},X:function(e,t,r){return S(e,n,t,r)},y:bd,Y:vd,Z:xd,"%":Pd};function N(e,t){return function(r){var n,a,i,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=id[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function _(e,t){return function(r){var n,a,i=td(1900,void 0,1);if(S(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=ed(td(i.y,0,1))).getUTCDay(),n=a>4||0===a?Fu.ceil(n):Fu(n),n=ku.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=Zu(td(i.y,0,1))).getDay(),n=a>4||0===a?Pu.ceil(n):Pu(n),n=ju.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?ed(td(i.y,0,1)).getUTCDay():Zu(td(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,ed(i)):Zu(i)}}function S(e,t,r,n){for(var a,i,s=0,o=t.length,l=r.length;s<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in id?t.charAt(s++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),x.x=N(r,x),x.X=N(n,x),x.c=N(t,x),{format:function(e){var t=N(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=N(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),nd=rd.format,rd.parse,ad=rd.utcFormat,rd.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Uh=e=>e.chartData,qh=ys([Uh],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$h=(e,t,r,n)=>n?qh(e):Uh(e);function Wh(e){return Number.isFinite(e)}function Hh(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Kh(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(Wh(t)&&Wh(r))return!0}return!1}function Vh(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var Gh=r(8210),Yh=r.n(Gh),Jh=e=>e,Xh={"@@functional/placeholder":!0},Qh=e=>e===Xh,Zh=e=>function t(){return 0===arguments.length||1===arguments.length&&Qh(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ef=(e,t)=>1===e?t:Zh(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(e=>e!==Xh).length;return i>=e?t(...n):ef(e-i,Zh(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var i=n.map(e=>Qh(e)?r.shift():e);return t(...i,...r)}))}),tf=e=>ef(e.length,e),rf=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},nf=tf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),af=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),sf=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((e,r)=>{var n;return e===(null===(n=t)||void 0===n?void 0:n[r])})?r:(t=a,r=e(...a))}};function of(e){return 0===e?1:Math.floor(new(Yh())(e).abs().log(10).toNumber())+1}function lf(e,t,r){for(var n=new(Yh())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}tf((e,t,r)=>{var n=+e;return n+r*(+t-n)}),tf((e,t,r)=>{var n=t-+e;return(r-e)/(n=n||1/0)}),tf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var cf=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},uf=(e,t,r)=>{if(e.lte(0))return new(Yh())(0);var n=of(e.toNumber()),a=new(Yh())(10).pow(n),i=e.div(a),s=1!==n?.05:.1,o=new(Yh())(Math.ceil(i.div(s).toNumber())).add(r).mul(s).mul(a);return t?new(Yh())(o.toNumber()):new(Yh())(Math.ceil(o.toNumber()))},df=(e,t,r)=>{var n=new(Yh())(1),a=new(Yh())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(Yh())(10).pow(of(e)-1),a=new(Yh())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(Yh())(Math.floor(e)))}else 0===e?a=new(Yh())(Math.floor((t-1)/2)):r||(a=new(Yh())(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Jh;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(nf(e=>a.add(new(Yh())(e-s).mul(n)).toNumber()),rf);return o(0,t)},hf=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(Yh())(0),tickMin:new(Yh())(0),tickMax:new(Yh())(0)};var i,s=uf(new(Yh())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(Yh())(0):(i=new(Yh())(e).add(t).div(2)).sub(new(Yh())(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new(Yh())(t).sub(i).div(s).toNumber()),c=o+l+1;return c>r?hf(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:s,tickMin:i.sub(new(Yh())(o).mul(s)),tickMax:i.add(new(Yh())(l).mul(s))})};var ff=sf(function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(n,2),[s,o]=cf([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...rf(0,n-1).map(()=>1/0)]:[...rf(0,n-1).map(()=>-1/0),o];return t>r?af(l):l}if(s===o)return df(s,n,a);var{step:c,tickMin:u,tickMax:d}=hf(s,o,i,a,0),h=lf(u,d.add(new(Yh())(.1).mul(c)),c);return t>r?af(h):h}),pf=sf(function(e,t){var[r,n]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,s]=cf([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),l=uf(new(Yh())(s).sub(i).div(o-1),a,0),c=[...lf(new(Yh())(i),new(Yh())(s),l),s];return!1===a&&(c=c.map(e=>Math.round(e))),r>n?af(c):c}),mf=e=>e.rootProps.maxBarSize,gf=e=>e.rootProps.barCategoryGap,yf=e=>e.rootProps.stackOffset,vf=e=>e.options.chartName,bf=e=>e.rootProps.syncId,xf=e=>e.rootProps.syncMethod,wf=e=>e.options.eventEmitter,Nf=0,_f="auto",Sf=!0,jf=!1,kf=!0,Af=0,Cf="auto",Of=!0,Pf=5,Ef=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},Lf={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Nf,includeHidden:!1,name:void 0,reversed:!1,scale:_f,tick:Sf,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},Tf={allowDataOverflow:jf,allowDecimals:!1,allowDuplicatedCategory:kf,dataKey:void 0,domain:void 0,id:Af,includeHidden:!1,name:void 0,reversed:!1,scale:Cf,tick:Of,tickCount:Pf,ticks:void 0,type:"number",unit:void 0},Df={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:Nf,includeHidden:!1,name:void 0,reversed:!1,scale:_f,tick:Sf,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},If={allowDataOverflow:jf,allowDecimals:!1,allowDuplicatedCategory:kf,dataKey:void 0,domain:void 0,id:Af,includeHidden:!1,name:void 0,reversed:!1,scale:Cf,tick:Of,tickCount:Pf,ticks:void 0,type:"category",unit:void 0},Rf=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?Df:Lf,Mf=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?If:Tf,Ff=e=>e.polarOptions,Bf=ys([lo,co,xo],qs),zf=ys([Ff,Bf],(e,t)=>{if(null!=e)return Ar(e.innerRadius,t,0)}),Uf=ys([Ff,Bf],(e,t)=>{if(null!=e)return Ar(e.outerRadius,t,.8*t)}),qf=ys([Ff],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),$f=(ys([Rf,qf],Ef),ys([Bf,zf,Uf],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]})),Wf=(ys([Mf,$f],Ef),ys([Oo,Ff,zf,Uf,lo,co],(e,t,r,n,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Ar(s,a,a/2),cy:Ar(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}})),Hf=(e,t)=>t,Kf=(e,t,r)=>r;function Vf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vf(Object(r),!0).forEach(function(t){Yf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Yf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jf=[0,"auto"],Xf={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Qf=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return null==r?Xf:r},Zf={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jf,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},ep=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return null==r?Zf:r},tp={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rp=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?tp:r},np=(e,t,r)=>{switch(t){case"xAxis":return Qf(e,r);case"yAxis":return ep(e,r);case"zAxis":return rp(e,r);case"angleAxis":return Rf(e,r);case"radiusAxis":return Mf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ap=(e,t,r)=>{switch(t){case"xAxis":return Qf(e,r);case"yAxis":return ep(e,r);case"angleAxis":return Rf(e,r);case"radiusAxis":return Mf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ip=e=>e.graphicalItems.countOfBars>0;function sp(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var op=e=>e.graphicalItems.cartesianItems,lp=ys([Hf,Kf],sp),cp=(e,t,r)=>e.filter(r).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),up=ys([op,np,lp],cp),dp=e=>e.filter(e=>void 0===e.stackId),hp=ys([up],dp),fp=e=>e.map(e=>e.data).filter(Boolean).flat(1),pp=ys([up],fp),mp=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},gp=ys([pp,$h],mp),yp=(e,t,r)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Ys(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Ys(e,t)}))):e.map(e=>({value:e})),vp=ys([gp,np,up],yp);function bp(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function xp(e){return e.filter(e=>Sr(e)||e instanceof Date).map(Number).filter(e=>!1===wr(e))}function wp(e,t,r){return!r||"number"!==typeof t||wr(t)?[]:r.length?xp(r.flatMap(r=>{var n,a,i=Ys(e,r.dataKey);if(Array.isArray(i)?[n,a]=i:n=a=i,Wh(n)&&Wh(a))return[t-n,t+a]})):[]}var Np=(e,t,r)=>{var n=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(n).map(t=>{var[n,a]=t,i=a.map(e=>e.dataKey);return[n,{stackedData:Zs(e,i,r),graphicalItems:a}]}))},_p=ys([gp,up,yf],Np),Sp=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if("zAxis"!==r){var i=ro(e,n,a);if(null==i||0!==i[0]||0!==i[1])return i}},jp=ys([_p,Uh,Hf],Sp),kp=(e,t,r,n)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a,i,s=null===(a=r.errorBars)||void 0===a?void 0:a.filter(e=>bp(n,e)),o=Ys(e,null!==(i=t.dataKey)&&void 0!==i?i:r.dataKey);return{value:o,errorDomain:wp(e,o,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Ys(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),Ap=ys(gp,np,hp,Hf,kp);function Cp(e){var{value:t}=e;if(Sr(t)||t instanceof Date)return t}var Op=e=>{var t;if(null==e||!("domain"in e))return Jf;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=xp(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:Jf},Pp=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var a=n.flat();return[Math.min(...a),Math.max(...a)]}},Ep=e=>e.referenceElements.dots,Lp=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),Tp=ys([Ep,Hf,Kf],Lp),Dp=e=>e.referenceElements.areas,Ip=ys([Dp,Hf,Kf],Lp),Rp=e=>e.referenceElements.lines,Mp=ys([Rp,Hf,Kf],Lp),Fp=(e,t)=>{var r=xp(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},Bp=ys(Tp,Hf,Fp),zp=(e,t)=>{var r=xp(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},Up=ys([Ip,Hf],zp),qp=(e,t)=>{var r=xp(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},$p=ys(Mp,Hf,qp),Wp=ys(Bp,$p,Up,(e,t,r)=>Pp(e,r,t)),Hp=ys([np],Op),Kp=(e,t,r,n,a)=>{var i=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var r,n,[a,i]=e;if(Wh(a))r=a;else if("function"===typeof a)return;if(Wh(i))n=i;else if("function"===typeof i)return;var s=[r,n];if(Kh(s))return s}}(t,e.allowDataOverflow);return null!=i?i:function(e,t,r){if(r||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,r);if(Kh(n))return Vh(n,t,r)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,i,[s,o]=e;if("auto"===s)null!=t&&(a=Math.min(...t));else if(_r(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof s&&no.test(s)){var l=no.exec(s);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(i=Math.max(...t));else if(_r(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof o&&ao.test(o)){var u=ao.exec(o);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(Kh(h))return null==t?h:Vh(h,t,r)}}}(t,Pp(r,a,(e=>{var t=e.flatMap(e=>[e.value,e.errorDomain]).flat(1),r=xp(t);if(0!==r.length)return[Math.min(...r),Math.max(...r)]})(n)),e.allowDataOverflow)},Vp=ys([np,Hp,jp,Ap,Wp],Kp),Gp=[0,1],Yp=(e,t,r,n,a,i,s)=>{if(null!=e&&null!=r&&0!==r.length){var{dataKey:o,type:l}=e,c=Js(t,i);return c&&null==o?Lo()(0,r.length):"category"===l?((e,t,r)=>{var n=e.map(Cp).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&Cr(n))?Lo()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,c):"expand"===a?Gp:s}},Jp=ys([np,Oo,gp,vp,yf,Hf,Vp],Yp),Xp=(t,r,n,a,i)=>{if(null!=t){var{scale:s,type:o}=t;if("auto"===s)return"radial"===r&&"radiusAxis"===i?"band":"radial"===r&&"angleAxis"===i?"linear":"category"===o&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":"category"===o?"band":"linear";if("string"===typeof s){var l="scale".concat(Er(s));return l in e?l:"point"}}},Qp=ys([np,Oo,ip,vf,Hf],Xp);function Zp(t,r,n,a){if(null!=n&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(n).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var r="scale".concat(Er(t));return r in e?e[r]():void 0}}(r);if(null!=i){var s=i.domain(n).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Xs,i=Math.max(n[0],n[1])+Xs,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}})(s),s}}}var em=(e,t,r)=>{var n=Op(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&Kh(e)?ff(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&Kh(e)?pf(e,t.tickCount,t.allowDecimals):void 0},tm=ys([Jp,ap,Qp],em),rm=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&Kh(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},nm=ys([np,Jp,tm,Hf],rm),am=ys(vp,np,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(xp(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(0===a)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),im=ys(am,Oo,gf,xo,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Wh(e))return 0;var i="vertical"===t?n.height:n.width;if("gap"===a)return e*i/2;if("no-gap"===a){var s=Ar(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),sm=ys(Qf,(e,t)=>{var r=Qf(e,t);return null==r||"string"!==typeof r.padding?0:im(e,"xAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(r=a.left)&&void 0!==r?r:0)+t,right:(null!==(n=a.right)&&void 0!==n?n:0)+t}}),om=ys(ep,(e,t)=>{var r=ep(e,t);return null==r||"string"!==typeof r.padding?0:im(e,"yAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(r=a.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=a.bottom)&&void 0!==n?n:0)+t}}),lm=ys([xo,sm,ko,jo,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),cm=ys([xo,Oo,om,ko,jo,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),um=(e,t,r,n)=>{var a;switch(t){case"xAxis":return lm(e,r,n);case"yAxis":return cm(e,r,n);case"zAxis":return null===(a=rp(e,r))||void 0===a?void 0:a.range;case"angleAxis":return qf(e);case"radiusAxis":return $f(e,r);default:return}},dm=ys([np,um],Ef),hm=ys([np,Qp,nm,dm],Zp);ys(up,Hf,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>bp(t,e)));function fm(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pm=(e,t)=>t,mm=(e,t,r)=>r,gm=ys(fo,pm,mm,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(fm)),ym=ys(po,pm,mm,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(fm)),vm=(e,t)=>({width:e.width,height:t.height}),bm=ys(xo,Qf,vm),xm=ys(co,xo,gm,pm,mm,(e,t,r,n,a)=>{var i,s={};return r.forEach(r=>{var o=vm(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!a||"bottom"===n&&a;s[r.id]=i-Number(l)*o.height,i+=(l?-1:1)*o.height}),s}),wm=ys(lo,xo,ym,pm,mm,(e,t,r,n,a)=>{var i,s={};return r.forEach(r=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!a||"right"===n&&a;s[r.id]=i-Number(l)*o.width,i+=(l?-1:1)*o.width}),s}),Nm=ys(xo,ep,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),_m=(e,t,r)=>{switch(t){case"xAxis":return bm(e,r).width;case"yAxis":return Nm(e,r).height;default:return}},Sm=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=Js(e,n),l=t.map(e=>e.value);return s&&o&&"category"===i&&a&&Cr(l)?l:void 0}},jm=ys([Oo,vp,np,Hf],Sm),km=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:a,scale:i}=r;return!Js(e,n)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},Am=ys([Oo,vp,ap,Hf],km),Cm=(ys([Oo,(e,t,r)=>{switch(t){case"xAxis":return Qf(e,r);case"yAxis":return ep(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Qp,hm,jm,Am,um,tm,Hf],(e,t,r,n,a,i,s,o,l)=>{if(null==t)return null;var c=Js(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}),ys([Oo,ap,Qp,hm,tm,um,jm,Am,Hf],(e,t,r,n,a,i,s,o,l)=>{if(null!=t&&null!=n){var c=Js(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===r&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,p="category"===u&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*xr(i[0]-i[1])*p:p;var m=d||a;return m?m.map((e,t)=>{var r=s?s.indexOf(e):e;return{index:t,coordinate:n(r)+p,value:e,offset:p}}).filter(e=>!wr(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:s?s[e]:e,index:t,offset:p}))}})),Om=ys([Oo,ap,hm,um,jm,Am,Hf],(e,t,r,n,a,i,s)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var o=Js(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===n||void 0===n?void 0:n.length)>=2?2*xr(n[0]-n[1])*c:c,o&&i?i.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),Pm=ys(np,hm,(e,t)=>{if(null!=e&&null!=t)return Gf(Gf({},e),{},{scale:t})}),Em=ys([np,Qp,Jp,dm],Zp),Lm=(ys((e,t,r)=>rp(e,r),Em,(e,t)=>{if(null!=e&&null!=t)return Gf(Gf({},e),{},{scale:t})}),ys([Oo,fo,po],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),Tm=e=>e.options.defaultTooltipEventType,Dm=e=>e.options.validateTooltipEventTypes;function Im(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function Rm(e,t){return Im(t,Tm(e),Dm(e))}var Mm=(e,t)=>{var r,n=Number(t);if(!wr(n)&&null!=t)return n>=0?null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.value:void 0};function Fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fm(Object(r),!0).forEach(function(t){zm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Um=(e,t,r,n)=>{if(null==t)return Bi;var a=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==a)return Bi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return Bm(Bm({},a),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Bm(Bm({},Bi),{},{coordinate:a.coordinate})},qm=(e,t)=>{var r=null===e||void 0===e?void 0:e.index;if(null==r)return null;var n=Number(r);if(!Wh(n))return r;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(n,a)))},$m=(e,t,r,n,a,i,s,o)=>{if(null!=i&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===r?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},Wm=(e,t,r,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},Hm=e=>e.options.tooltipPayloadSearcher,Km=e=>e.tooltip;function Vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vm(Object(r),!0).forEach(function(t){Ym(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ym(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jm=(e,t,r,n,a,i,s)=>{if(null!=t&&null!=i){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var d,h,f,p,m,g,{dataDefinedOnItem:y,settings:v}=r,b=function(e,t){return null!=e?e:t}(y,o),x=(h=b,f=c,p=u,Array.isArray(h)&&h&&f+p!==0?h.slice(f,p+1):h),w=null!==(d=null===v||void 0===v?void 0:v.dataKey)&&void 0!==d?d:null===n||void 0===n?void 0:n.dataKey,N=null===v||void 0===v?void 0:v.nameKey;(m=null!==n&&void 0!==n&&n.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===s?function(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):br()(e,t))===r)}(x,n.dataKey,a):i(x,t,l,N),Array.isArray(m))?m.forEach(t=>{var r=Gm(Gm({},v),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(so({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:Ys(t.payload,t.dataKey),name:t.name}))}):e.push(so({tooltipEntrySettings:v,dataKey:w,payload:m,value:Ys(m,w),name:null!==(g=Ys(m,N))&&void 0!==g?g:null===v||void 0===v?void 0:v.name}));return e},[])}},Xm=e=>{var t=Oo(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},Qm=e=>e.tooltip.settings.axisId,Zm=e=>{var t=Xm(e),r=Qm(e);return ap(e,t,r)},eg=ys([Zm,Oo,ip,vf,Xm],Xp),tg=ys([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),rg=ys([Xm,Qm],sp),ng=ys([tg,Zm,rg],cp),ag=ys([ng],fp),ig=ys([ag,Uh],mp),sg=ys([ig,Zm,ng],yp),og=ys([Zm],Op),lg=ys([ig,ng,yf],Np),cg=ys([lg,Uh,Xm],Sp),ug=ys([ng],dp),dg=ys([ig,Zm,ug,Xm],kp),hg=ys([Ep,Xm,Qm],Lp),fg=ys([hg,Xm],Fp),pg=ys([Dp,Xm,Qm],Lp),mg=ys([pg,Xm],zp),gg=ys([Rp,Xm,Qm],Lp),yg=ys([gg,Xm],qp),vg=ys([fg,yg,mg],Pp),bg=ys([Zm,og,cg,dg,vg],Kp),xg=ys([Zm,Oo,ig,sg,yf,Xm,bg],Yp),wg=ys([xg,Zm,eg],em),Ng=ys([Zm,xg,wg,Xm],rm),_g=e=>{var t=Xm(e),r=Qm(e);return um(e,t,r,!1)},Sg=ys([Zm,_g],Ef),jg=ys([Zm,eg,Ng,Sg],Zp),kg=ys([Oo,sg,Zm,Xm],Sm),Ag=ys([Oo,sg,Zm,Xm],km),Cg=ys([Oo,Zm,eg,jg,_g,kg,Ag,Xm],(e,t,r,n,a,i,s,o)=>{if(t){var{type:l}=t,c=Js(e,o);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,d="category"===l&&n.bandwidth?n.bandwidth()/u:0;return d="angleAxis"===o&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*xr(a[0]-a[1])*d:d,c&&s?s.map((e,t)=>({coordinate:n(e)+d,value:e,index:t,offset:d})):n.domain().map((e,t)=>({coordinate:n(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),Og=ys([Tm,Dm,e=>e.tooltip.settings],(e,t,r)=>Im(r.shared,e,t)),Pg=e=>e.tooltip.settings.trigger,Eg=e=>e.tooltip.settings.defaultIndex,Lg=ys([Km,Og,Pg,Eg],Um),Tg=ys([Lg,ig],qm),Dg=ys([Cg,Tg],Mm),Ig=ys([Lg],e=>{if(e)return e.dataKey}),Rg=ys([Km,Og,Pg,Eg],Wm),Mg=ys([lo,co,Oo,xo,Cg,Eg,Rg,Hm],$m),Fg=ys([Lg,Mg],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),Bg=ys([Lg],e=>e.active),zg=ys([Rg,Tg,Uh,Zm,Dg,Hm,Og],Jm),Ug=(ys([zg],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),(e,t)=>t),qg=(e,t,r)=>r,$g=(e,t,r,n)=>n,Wg=ys(Cg,e=>Cs()(e,e=>e.coordinate)),Hg=ys([Km,Ug,qg,$g],Um),Kg=ys([Hg,ig],qm),Vg=ys([Km,Ug,qg,$g],Wm),Gg=ys([lo,co,Oo,xo,Cg,$g,Vg,Hm],$m),Yg=ys([Hg,Gg],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),Jg=ys(Cg,Kg,Mm),Xg=ys([Vg,Kg,Uh,Zm,Jg,Hm,Ug],Jm),Qg=ys([Hg],e=>({isActive:e.active,activeIndex:e.index})),Zg=ys([(e,t)=>t,Oo,Wf,Xm,Sg,Cg,Wg,xo],(e,t,r,n,a,i,s,o)=>{if(e&&t&&n&&a&&i){var l=function(e,t,r,n,a){return"horizontal"===r||"vertical"===r?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:n?Hs({x:e,y:t},n):null}(e.chartX,e.chartY,t,r,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,r,n,a)=>{var i,s=-1,o=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(o<=1||null==e)return 0;if("angleAxis"===n&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(xr(u-c)!==xr(d-u)){var f=[];if(xr(d-u)===xr(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=r[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:s}=r[l]);break}}}else if(t)for(var b=0;b<o;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}return s})(c,s,i,n,a),d=((e,t,r,n)=>{var a=t.find(e=>e&&e.index===r);if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,{radius:s}=n;return Vs(Vs(Vs({},n),Us(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=n;return Vs(Vs(Vs({},n),Us(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),ey=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ty=Un("mouseClick"),ry=Da();ry.startListening({actionCreator:ty,effect:(e,t)=>{var r=e.payload,n=Zg(t.getState(),ey(r));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(Yi({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var ny=Un("mouseMove"),ay=Da();function iy(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sy(Object(r),!0).forEach(function(t){ly(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ly(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ay.startListening({actionCreator:ny,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Rm(n,n.tooltip.settings.shared),i=Zg(n,ey(r));"axis"===a&&(null!=(null===i||void 0===i?void 0:i.activeIndex)?t.dispatch(Gi({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Ki()))}});var cy=ta({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=oy(oy({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:uy,removeXAxis:dy,addYAxis:hy,removeYAxis:fy,addZAxis:py,removeZAxis:my,updateYAxisWidth:gy}=cy.actions,yy=cy.reducer,vy=ta({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Rn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Rn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Rn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:by,removeBar:xy,addCartesianGraphicalItem:wy,replaceCartesianGraphicalItem:Ny,removeCartesianGraphicalItem:_y,addPolarGraphicalItem:Sy,removePolarGraphicalItem:jy}=vy.actions,ky=vy.reducer,Ay=ta({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Rn(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Rn(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Rn(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:Cy,removeDot:Oy,addArea:Py,removeArea:Ey,addLine:Ly,removeLine:Ty}=Ay.actions,Dy=Ay.reducer,Iy={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Ry=ta({name:"brush",initialState:Iy,reducers:{setBrushSettings:(e,t)=>null==t.payload?Iy:t.payload}}),{setBrushSettings:My}=Ry.actions,Fy=Ry.reducer,By=ta({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Rn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:zy,setLegendSettings:Uy,addLegendPayload:qy,removeLegendPayload:$y}=By.actions,Wy=By.reducer,Hy={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Ky=ta({name:"rootProps",initialState:Hy,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:Hy.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Vy=Ky.reducer,{updateOptions:Gy}=Ky.actions,Yy=ta({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Jy,removeRadiusAxis:Xy,addAngleAxis:Qy,removeAngleAxis:Zy}=Yy.actions,ev=Yy.reducer,tv=ta({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:rv}=tv.actions,nv=tv.reducer,av=Un("keyDown"),iv=Un("focus"),sv=Da();sv.startListening({actionCreator:av,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=Number(qm(n,ig(r))),s=Cg(r);if("Enter"!==a){var o=i+("ArrowRight"===a?1:-1)*("left-to-right"===Lm(r)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=Gg(r,"axis","hover",String(o));t.dispatch(Xi({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=Gg(r,"axis","hover",String(n.index));t.dispatch(Xi({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}))}}}}}),sv.startListening({actionCreator:iv,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var a=Gg(r,"axis","hover",String("0"));t.dispatch(Xi({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var ov=Un("externalEvent"),lv=Da();lv.startListening({actionCreator:ov,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),n={activeCoordinate:Fg(r),activeDataKey:Ig(r),activeIndex:Tg(r),activeLabel:Dg(r),activeTooltipIndex:Tg(r),isTooltipActive:Bg(r)};e.payload.handler(n,e.payload.reactEvent)}}});var cv=ys([Km],e=>e.tooltipItemPayloads),uv=ys([cv,Hm,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(e=>e.settings.dataKey===n);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,r)}}),dv=Un("touchMove"),hv=Da();hv.startListening({actionCreator:dv,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Rm(n,n.tooltip.settings.shared);if("axis"===a){var i=Zg(n,ey({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(Gi({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(mo),u=null!==(s=l.getAttribute(go))&&void 0!==s?s:void 0,d=uv(t.getState(),c,u);t.dispatch(Wi({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var fv=$r({brush:Fy,cartesianAxis:yy,chartData:ns,graphicalItems:ky,layout:cs,legend:Wy,options:Fa,polarAxis:ev,polarOptions:nv,referenceElements:Dy,rootProps:Vy,tooltip:Qi});function pv(e){var{preloadedState:r,children:n,reduxStoreName:a}=e,i=So(),s=(0,t.useRef)(null);if(i)return n;null==s.current&&(s.current=function(e){return Gn({reducer:fv,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([ry.middleware,ay.middleware,sv.middleware,lv.middleware,hv.middleware]),devTools:{serialize:{replacer:iy},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(r,a));var o=xs;return t.createElement(Ja,{context:o,store:s.current},n)}var mv=e=>{var{chartData:r}=e,n=Ns(),a=So();return(0,t.useEffect)(()=>a?()=>{}:(n(es(r)),()=>{n(es(void 0))}),[r,n,a]),null};function gv(e){var{layout:r,width:n,height:a,margin:i}=e,s=Ns(),o=So();return(0,t.useEffect)(()=>{o||(s(ss(r)),s(os({width:n,height:a})),s(is(i)))},[s,o,r,n,a,i]),null}function yv(e){var r=Ns();return(0,t.useEffect)(()=>{r(Gy(e))},[r,e]),null}var vv=r(2086),bv=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xv=["points","pathLength"],wv={svg:["viewBox","children"],polygon:xv,polyline:xv},Nv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_v=(e,t,r)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Nv.includes(a)&&"function"===typeof i&&(n||(n={}),n[a]=((e,t,r)=>n=>(e(t,r,n),null))(i,t,r))}),n},Sv=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",jv=null,kv=null,Av=e=>{if(e===jv&&Array.isArray(kv))return kv;var r=[];return t.Children.forEach(e,e=>{Pr(e)||((0,vv.isFragment)(e)?r=r.concat(Av(e.props.children)):r.push(e))}),kv=r,jv=e,r};function Cv(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>Sv(e)):[Sv(t)],Av(e).forEach(e=>{var t=br()(e,"type.displayName")||br()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}var Ov=(e,r,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),"object"!==typeof a&&"function"!==typeof a)return null;var i={};return Object.keys(a).forEach(e=>{var t;((e,t,r,n)=>{var a,i=null!==(a=n&&(null===wv||void 0===wv?void 0:wv[n]))&&void 0!==a?a:[];return t.startsWith("data-")||"function"!==typeof e&&(n&&i.includes(t)||bv.includes(t))||r&&Nv.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,r,n)&&(i[e]=a[e])}),i},Pv=()=>ks(e=>e.rootProps.accessibilityLayer),Ev=["children","width","height","viewBox","className","style","title","desc"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}var Tv=(0,t.forwardRef)((e,r)=>{var{children:n,width:a,height:i,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ev),h=s||{width:a,height:i,x:0,y:0},f=ft("recharts-surface",o);return t.createElement("svg",Lv({},Ov(d,!0,"svg"),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:r}),t.createElement("title",null,c),t.createElement("desc",null,u),n)}),Dv=["children"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(null,arguments)}var Rv={width:"100%",height:"100%"},Mv=(0,t.forwardRef)((e,r)=>{var n=ks(lo),a=ks(co),i=Pv();if(!Hh(n)||!Hh(a))return null;var s,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return s="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,o="string"===typeof c.role?c.role:i?"application":void 0,t.createElement(Tv,Iv({},c,{title:u,desc:d,role:o,tabIndex:s,width:n,height:a,style:Rv,ref:r}),l)}),Fv=e=>{var{children:r}=e,n=ks(ko);if(!n)return null;var{width:a,height:i,y:s,x:o}=n;return t.createElement(Tv,{width:a,height:i,x:o,y:s},r)},Bv=(0,t.forwardRef)((e,r)=>{var{children:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Dv);return So()?t.createElement(Fv,null,n):t.createElement(Mv,Iv({ref:r},a),n)});var zv=new(r(8499)),Uv="recharts.syncEvent.tooltip",qv="recharts.syncEvent.brush";function $v(e){return e.tooltip.syncInteraction}var Wv=()=>{};function Hv(){var e=Ns();(0,t.useEffect)(()=>{e(Ba())},[e]),function(){var e=ks(bf),r=ks(wf),n=Ns(),a=ks(xf),i=ks(Cg),s=Po(),o=Ao(),l=ks(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return Wv;var t=(t,l,c)=>{if(r!==c&&e===t)if("index"!==a){if(null!=i){var u;if("function"===typeof a){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=a(i,d);u=i[h]}else"value"===a&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=o){var{x:p,y:m}=f,g=Math.min(p,o.x+o.width),y=Math.min(m,o.y+o.height),v={x:"horizontal"===s?u.coordinate:g,y:"horizontal"===s?y:u.coordinate},b=Ji({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(b)}else n(Ji({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return zv.on(Uv,t),()=>{zv.off(Uv,t)}},[l,n,r,e,a,i,s,o])}(),function(){var e=ks(bf),r=ks(wf),n=Ns();(0,t.useEffect)(()=>{if(null==e)return Wv;var t=(t,a,i)=>{r!==i&&e===t&&n(ts(a))};return zv.on(qv,t),()=>{zv.off(qv,t)}},[n,r,e])}()}function Kv(e,r,n,a,i,s){var o=ks(t=>((e,t,r)=>{if(null!=t){var n=Km(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(t,e,r)),l=ks(wf),c=ks(bf),u=ks(xf),d=ks($v),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Ji({active:s,coordinate:n,dataKey:o,index:i,label:"number"===typeof a?String(a):a});zv.emit(Uv,c,e,l)}},[h,n,o,i,a,l,c,u,s])}var Vv=(0,t.createContext)(null),Gv=(0,t.createContext)(null);function Yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yv(Object(r),!0).forEach(function(t){Xv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Xv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qv=(0,t.forwardRef)((e,r)=>{var{children:n,className:a,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=Ns(),[x,w]=(0,t.useState)(null),[N,_]=(0,t.useState)(null);Hv();var S=function(){var e=Ns(),[r,n]=(0,t.useState)(null),a=ks(uo);return(0,t.useEffect)(()=>{if(null!=r){var t=r.getBoundingClientRect().width/r.offsetWidth;Wh(t)&&t!==a&&e(ls(t))}},[r,e,a]),n}(),j=(0,t.useCallback)(e=>{S(e),"function"===typeof r&&r(e),w(e),_(e)},[S,r,w,_]),k=(0,t.useCallback)(e=>{b(ty(e)),b(ov({handler:s,reactEvent:e}))},[b,s]),A=(0,t.useCallback)(e=>{b(ny(e)),b(ov({handler:u,reactEvent:e}))},[b,u]),C=(0,t.useCallback)(e=>{b(Ki()),b(ov({handler:d,reactEvent:e}))},[b,d]),O=(0,t.useCallback)(e=>{b(ny(e)),b(ov({handler:h,reactEvent:e}))},[b,h]),P=(0,t.useCallback)(()=>{b(iv())},[b]),E=(0,t.useCallback)(e=>{b(av(e.key))},[b]),L=(0,t.useCallback)(e=>{b(ov({handler:o,reactEvent:e}))},[b,o]),T=(0,t.useCallback)(e=>{b(ov({handler:l,reactEvent:e}))},[b,l]),D=(0,t.useCallback)(e=>{b(ov({handler:c,reactEvent:e}))},[b,c]),I=(0,t.useCallback)(e=>{b(ov({handler:f,reactEvent:e}))},[b,f]),R=(0,t.useCallback)(e=>{b(ov({handler:g,reactEvent:e}))},[b,g]),M=(0,t.useCallback)(e=>{b(dv(e)),b(ov({handler:m,reactEvent:e}))},[b,m]),F=(0,t.useCallback)(e=>{b(ov({handler:p,reactEvent:e}))},[b,p]);return t.createElement(Vv.Provider,{value:x},t.createElement(Gv.Provider,{value:N},t.createElement("div",{className:ft("recharts-wrapper",a),style:Jv({position:"relative",cursor:"default",width:v,height:i},y),onClick:k,onContextMenu:L,onDoubleClick:T,onFocus:P,onKeyDown:E,onMouseDown:D,onMouseEnter:A,onMouseLeave:C,onMouseMove:O,onMouseUp:I,onTouchEnd:F,onTouchMove:M,onTouchStart:R,ref:j},n)))}),Zv=ys([xo],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),eb=ys([Zv,lo,co],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),tb=()=>ks(eb),rb=(0,t.createContext)(void 0),nb=e=>{var{children:r}=e,[n]=(0,t.useState)("".concat(kr("recharts"),"-clip")),a=tb();if(null==a)return null;var{x:i,y:s,width:o,height:l}=a;return t.createElement(rb.Provider,{value:n},t.createElement("defs",null,t.createElement("clipPath",{id:n},t.createElement("rect",{x:i,y:s,height:l,width:o}))),r)},ab=["children","className","width","height","style","compact","title","desc"];var ib=(0,t.forwardRef)((e,r)=>{var{children:n,className:a,width:i,height:s,style:o,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,ab),h=Ov(d,!1);return l?t.createElement(Bv,{otherAttributes:h,title:c,desc:u},n):t.createElement(Qv,{className:a,style:o,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(Bv,{otherAttributes:h,title:c,desc:u,ref:r},t.createElement(nb,null,n)))});function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ob(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lb(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(t){ob(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}var cb=["width","height"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ub.apply(null,arguments)}var db={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},hb=(0,t.forwardRef)(function(e,r){var n,a=lb(e.categoricalChartProps,db),{width:i,height:s}=a,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,cb);if(!Hh(i)||!Hh(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(pv,{preloadedState:{options:f},reduxStoreName:null!==(n=h.id)&&void 0!==n?n:l},t.createElement(mv,{chartData:h.data}),t.createElement(gv,{width:i,height:s,layout:a.layout,margin:a.margin}),t.createElement(yv,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(ib,ub({},o,{width:i,height:s,ref:r})))}),fb=["axis","item"],pb=(0,t.forwardRef)((e,r)=>t.createElement(hb,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fb,tooltipPayloadSearcher:Ra,categoricalChartProps:e,ref:r}));function mb(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}var gb=["children","className"];function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(null,arguments)}var vb=t.forwardRef((e,r)=>{var{children:n,className:a}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,gb),s=ft("recharts-layer",a);return t.createElement("g",yb({className:s},Ov(i,!0),{ref:r}),n)}),bb=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(t){Nb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _b={widthCache:{},cacheCount:0},Sb={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jb="recharts_measurement_span";var kb=function(e){if(void 0===e||null===e||bb)return{width:0,height:0};var t=function(e){var t=wb({},e);return Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=JSON.stringify({text:e,copyStyle:t});if(_b.widthCache[r])return _b.widthCache[r];try{var n=document.getElementById(jb);n||((n=document.createElement("span")).setAttribute("id",jb),n.setAttribute("aria-hidden","true"),document.body.appendChild(n));var a=wb(wb({},Sb),t);Object.assign(n.style,a),n.textContent="".concat(e);var i=n.getBoundingClientRect(),s={width:i.width,height:i.height};return _b.widthCache[r]=s,++_b.cacheCount>2e3&&(_b.cacheCount=0,_b.widthCache={}),s}catch(o){return{width:0,height:0}}},Ab=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ob=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pb=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Eb={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Lb=Object.keys(Eb),Tb="NaN";class Db{static parse(e){var t,[,r,n]=null!==(t=Pb.exec(e))&&void 0!==t?t:[];return new Db(parseFloat(r),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,wr(e)&&(this.unit=""),""===t||Ob.test(t)||(this.num=NaN,this.unit=""),Lb.includes(t)&&(this.num=function(e,t){return e*Eb[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Db(NaN,""):new Db(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Db(NaN,""):new Db(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Db(NaN,""):new Db(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Db(NaN,""):new Db(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wr(this.num)}}function Ib(e){if(e.includes(Tb))return Tb;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=null!==(r=Ab.exec(t))&&void 0!==r?r:[],s=Db.parse(null!==n&&void 0!==n?n:""),o=Db.parse(null!==i&&void 0!==i?i:""),l="*"===a?s.multiply(o):s.divide(o);if(l.isNaN())return Tb;t=t.replace(Ab,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=Cb.exec(t))&&void 0!==c?c:[],f=Db.parse(null!==u&&void 0!==u?u:""),p=Db.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return Tb;t=t.replace(Cb,m.toString())}return t}var Rb=/\(([^()]*)\)/;function Mb(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=Rb.exec(r));){var[,n]=t;r=r.replace(Rb,Ib(n))}return r}(t),t=Ib(t)}function Fb(e){var t=function(e){try{return Mb(e)}catch(t){return Tb}}(e.slice(5,-1));return t===Tb?"":t}var Bb=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zb=["dx","dy","angle","className","breakAll"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(null,arguments)}function qb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var $b=/[ \f\n\r\t\v\u2028\u2029]+/,Wb=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];return Pr(t)||(a=r?t.toString().split(""):t.toString().split($b)),{wordsWithComputedWidth:a.map(e=>({word:e,width:kb(e,n).width})),spaceWidth:r?0:kb("\xa0",n).width}}catch(i){return null}},Hb=e=>[{words:Pr(e)?[]:e.toString().split($b)}],Kb=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!bb){var o=Wb({breakAll:i,children:n,style:a});if(!o)return Hb(n);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,c=_r(i),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:i,width:s}=t,o=e[e.length-1];if(o&&(null==n||a||o.width+s+r<Number(n)))o.words.push(i),o.width+=s+r;else{var l={words:[i],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>i||f(h).width>Number(n)))return h;for(var p,m=e=>{var t=u.slice(0,e),r=Wb({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=d(r);return[a.length>i||f(a).width>Number(n),a]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var b=Math.floor((g+y)/2),x=b-1,[w,N]=m(x),[_]=m(b);if(w||_||(g=b+1),w&&_&&(y=b-1),!w&&_){p=N;break}v++}return p||h})({breakAll:i,children:n,maxLines:s,style:a},l,c,t,r)}return Hb(n)},Vb="#808080",Gb=(0,t.forwardRef)((e,r)=>{var{x:n=0,y:a=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=Vb}=e,d=qb(e,Bb),h=(0,t.useMemo)(()=>Kb({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:y}=d,v=qb(d,zb);if(!Sr(n)||!Sr(a))return null;var b,x=n+(_r(f)?f:0),w=a+(_r(p)?p:0);switch(c){case"start":b=Fb("calc(".concat(s,")"));break;case"middle":b=Fb("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:b=Fb("calc(".concat(h.length-1," * -").concat(i,")"))}var N=[];if(o){var _=h[0].width,{width:S}=d;N.push("scale(".concat(_r(S)?S/_:1,")"))}return m&&N.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),N.length&&(v.transform=N.join(" ")),t.createElement("text",Ub({},Ov(v,!0),{ref:r,x:x,y:w,className:ft("recharts-text",g),textAnchor:l,fill:u.includes("url")?Vb:u}),h.map((e,r)=>{var n=e.words.join(y?"":" ");return t.createElement("tspan",{x:x,dy:0===r?b:i,key:"".concat(n,"-").concat(r)},n)}))});Gb.displayName="Text";var Yb=["offset"],Jb=["labelRef"];function Xb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(t){ex(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ex(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(null,arguments)}var rx=e=>null!=e&&"function"===typeof e,nx=(e,r,n)=>{var a,i,{position:s,viewBox:o,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=o,y=(h+f)/2,v=((e,t)=>xr(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=v>=0?1:-1;"insideStart"===s?(a=p+b*l,i=g):"insideEnd"===s?(a=m-b*l,i=!g):"end"===s&&(a=m+b*l,i=g),i=v<=0?i:!i;var x=Us(u,d,y,a),w=Us(u,d,y,a+359*(i?1:-1)),N="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(i?0:1,",\n    ").concat(w.x,",").concat(w.y),_=Pr(e.id)?kr("recharts-radial-line-"):e.id;return t.createElement("text",tx({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:_,d:N})),t.createElement("textPath",{xlinkHref:"#".concat(_)},r))};function ax(e){var r,{offset:n=5}=e,a=Zb({offset:n},Xb(e,Yb)),{viewBox:i,position:s,value:o,children:l,content:c,className:u="",textBreakAll:d,labelRef:h}=a,f=Ao(),p=i||f;if(!p||Pr(o)&&Pr(l)&&!(0,t.isValidElement)(c)&&"function"!==typeof c)return null;if((0,t.isValidElement)(c)){var{labelRef:m}=a,g=Xb(a,Jb);return(0,t.cloneElement)(c,g)}if("function"===typeof c){if(r=(0,t.createElement)(c,a),(0,t.isValidElement)(r))return r}else r=(e=>{var{value:t,formatter:r}=e,n=Pr(e.children)?t:e.children;return"function"===typeof r?r(n):n})(a);var y=(e=>"cx"in e&&_r(e.cx))(p),v=Ov(a,!0);if(y&&("insideStart"===s||"insideEnd"===s||"end"===s))return nx(a,r,v);var b=y?(e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===n){var{x:d,y:h}=Us(a,i,o+r,u);return{x:d,y:h,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+o)/2,{x:p,y:m}=Us(a,i,f,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}})(a):((e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:s,width:o,height:l}=t,c=l>=0?1:-1,u=c*n,d=c>0?"end":"start",h=c>0?"start":"end",f=o>=0?1:-1,p=f*n,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===a)return Zb(Zb({},{x:i+o/2,y:s-c*n,textAnchor:"middle",verticalAnchor:d}),r?{height:Math.max(s-r.y,0),width:o}:{});if("bottom"===a)return Zb(Zb({},{x:i+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(s+l),0),width:o}:{});if("left"===a){var y={x:i-p,y:s+l/2,textAnchor:m,verticalAnchor:"middle"};return Zb(Zb({},y),r?{width:Math.max(y.x-r.x,0),height:l}:{})}if("right"===a){var v={x:i+o+p,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return Zb(Zb({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:l}:{})}var b=r?{width:o,height:l}:{};return"insideLeft"===a?Zb({x:i+p,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?Zb({x:i+o-p,y:s+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===a?Zb({x:i+o/2,y:s+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===a?Zb({x:i+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===a?Zb({x:i+p,y:s+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===a?Zb({x:i+o-p,y:s+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===a?Zb({x:i+p,y:s+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===a?Zb({x:i+o-p,y:s+l-u,textAnchor:m,verticalAnchor:d},b):a&&"object"===typeof a&&(_r(a.x)||Nr(a.x))&&(_r(a.y)||Nr(a.y))?Zb({x:i+Ar(a.x,o),y:s+Ar(a.y,l),textAnchor:"end",verticalAnchor:"end"},b):Zb({x:i+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(a,p);return t.createElement(Gb,tx({ref:h,className:ft("recharts-label",u)},v,b,{breakAll:d}),r)}ax.displayName="Label";var ix=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:y}=e;if(y)return y;if(_r(p)&&_r(m)){if(_r(u)&&_r(d))return{x:u,y:d,width:p,height:m};if(_r(h)&&_r(f))return{x:h,y:f,width:p,height:m}}return _r(u)&&_r(d)?{x:u,y:d,width:0,height:0}:_r(t)&&_r(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:void 0};function sx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ax.parseViewBox=ix,ax.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:a,labelRef:i}=e,s=ix(e),o=Cv(a,ax).map((e,n)=>(0,t.cloneElement)(e,{viewBox:r||s,key:"label-".concat(n)}));if(!n)return o;var l=((e,r,n)=>{if(!e)return null;var a={viewBox:r,labelRef:n};return!0===e?t.createElement(ax,tx({key:"label-implicit"},a)):Sr(e)?t.createElement(ax,tx({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===ax?(0,t.cloneElement)(e,Zb({key:"label-implicit"},a)):t.createElement(ax,tx({key:"label-implicit",content:e},a)):rx(e)?t.createElement(ax,tx({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(ax,tx({},e,{key:"label-implicit"},a)):null})(e.label,r||s,i);return[l,...o]};class ox{static create(e){return new ox(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}sx(ox,"EPS",1e-4);function lx(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function cx(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),s=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},r)}function ux(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dx(Object(r),!0).forEach(function(t){fx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function px(e,t,r){var n,{tick:a,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(_r(c)||bb)return null!==(n=function(e,t){return lx(e,t+1)}(i,_r(c)?c:0))&&void 0!==n?n:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?kb(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,n)=>{var a="function"===typeof u?u(e.value,n):e.value;return"width"===p?cx(kb(a,{fontSize:t,letterSpacing:r}),m,h):kb(a,{fontSize:t,letterSpacing:r})[p]},y=i.length>=2?xr(i[1].coordinate-i[0].coordinate):1,v=function(e,t,r){var n="width"===r,{x:a,y:i,width:s,height:o}=e;return 1===t?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}(s,y,p);return"equidistantPreserveStart"===c?function(e,t,r,n,a){for(var i,s=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:lx(n,u)};var i,s=c,h=()=>(void 0===i&&(i=r(t,s)),i),f=t.coordinate,p=0===c||ux(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=s.length;)if(i=h())return i.v;return[]}(y,v,g,i,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var u=n[o-1],d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=hx(hx({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),ux(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),s[o-1]=hx(hx({},u),{},{isShow:!0}))}for(var f=i?o-1:o,p=function(t){var n,i=s[t],o=()=>(void 0===n&&(n=r(i,t)),n);if(0===t){var u=e*(i.coordinate-e*o()/2-l);s[t]=i=hx(hx({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else s[t]=i=hx(hx({},i),{},{tickCoord:i.coordinate});ux(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=hx(hx({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(y,v,g,i,o,"preserveStartEnd"===c):function(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(t){var n,c=i[t],u=()=>(void 0===n&&(n=r(c,t)),n);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=hx(hx({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=hx(hx({},c),{},{tickCoord:c.coordinate});ux(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=hx(hx({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}(y,v,g,i,o),f.filter(e=>e.isShow))}var mx=["viewBox"],gx=["viewBox"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}function vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vx(Object(r),!0).forEach(function(t){wx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xx(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Nx extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:r}=e,n=xx(e,mx),a=this.props,{viewBox:i}=a,s=xx(a,gx);return!mb(r,i)||!mb(n,s)||!mb(t,this.state)}getTickLineCoord(e){var t,r,n,a,i,s,{x:o,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,y=_r(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=r=e.coordinate,s=(n=(a=l+ +!f*u)-m*g)-m*p,i=y;break;case"left":n=a=e.coordinate,i=(t=(r=o+ +!f*c)-m*g)-m*p,s=y;break;case"right":n=a=e.coordinate,i=(t=(r=o+ +f*c)+m*g)+m*p,s=y;break;default:t=r=e.coordinate,s=(n=(a=l+ +f*u)+m*g)+m*p,i=y}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:s}}}getTickTextAnchor(){var e,{orientation:t,mirror:r}=this.props;switch(t){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o}=this.props,l=bx(bx(bx({},Ov(this.props,!1)),Ov(o,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!s||"bottom"===i&&s);l=bx(bx({},l),{},{x1:e,y1:r+c*a,x2:e+n,y2:r+c*a})}else{var u=+("left"===i&&!s||"right"===i&&s);l=bx(bx({},l),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+a})}return t.createElement("line",yx({},l,{className:ft("recharts-cartesian-axis-line",br()(o,"className"))}))}static renderTickItem(e,r,n){var a,i=ft(r.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))a=t.cloneElement(e,bx(bx({},r),{},{className:i}));else if("function"===typeof e)a=e(bx(bx({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(s=ft(s,e.className)),a=t.createElement(Gb,yx({},r,{className:s}),n)}return a}renderTicks(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:a,stroke:i,tick:s,tickFormatter:o,unit:l}=this.props,c=px(bx(bx({},this.props),{},{ticks:n}),e,r),u=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),h=Ov(this.props,!1),f=Ov(s,!1),p=bx(bx({},h),{},{fill:"none"},Ov(a,!1)),m=c.map((e,r)=>{var{line:n,tick:m}=this.getTickLineCoord(e),g=bx(bx(bx(bx({textAnchor:u,verticalAnchor:d},h),{},{stroke:"none",fill:i},f),m),{},{index:r,payload:e,visibleTicksCount:c.length,tickFormatter:o});return t.createElement(vb,yx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},_v(this.props,e,r)),a&&t.createElement("line",yx({},p,n,{className:ft("recharts-cartesian-axis-tick-line",br()(a,"className"))})),s&&Nx.renderTickItem(s,g,"".concat("function"===typeof o?o(e.value,r):e.value).concat(l||"")))});return m.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:e,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:s}=this.props;return null!=r&&r<=0||null!=n&&n<=0?null:t.createElement(vb,{className:ft("recharts-cartesian-axis",a),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var r=t[0];if(r){var n=window.getComputedStyle(r).fontSize,a=window.getComputedStyle(r).letterSpacing;n===this.state.fontSize&&a===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),ax.renderCallByParent(this.props))}}wx(Nx,"displayName","CartesianAxis"),wx(Nx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _x=["children"],Sx=["dangerouslySetInnerHTML","ticks"];function jx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(null,arguments)}function Ax(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cx(e){var r=Ns(),n=(0,t.useMemo)(()=>{var{children:t}=e;return Ax(e,_x)},[e]),a=ks(e=>Qf(e,n.id)),i=n===a;return(0,t.useEffect)(()=>(r(uy(n)),()=>{r(dy(n))}),[n,r]),i?e.children:null}var Ox=e=>{var{xAxisId:r,className:n}=e,a=ks(No),i=So(),s="xAxis",o=ks(e=>hm(e,s,r,i)),l=ks(e=>Cm(e,s,r,i)),c=ks(e=>bm(e,r)),u=ks(e=>((e,t)=>{var r=xo(e),n=Qf(e,t);if(null!=n){var a=xm(e,n.orientation,n.mirror)[t];return null==a?{x:r.left,y:0}:{x:r.left,y:a}}})(e,r));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=Ax(e,Sx);return t.createElement(Nx,kx({},f,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:ft("recharts-".concat(s," ").concat(s),n),viewBox:a,ticks:l}))},Px=e=>{var r,n,a,i,s;return t.createElement(Cx,{interval:null!==(r=e.interval)&&void 0!==r?r:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter},t.createElement(Ox,e))};class Ex extends t.Component{render(){return t.createElement(Px,this.props)}}jx(Ex,"displayName","XAxis"),jx(Ex,"defaultProps",{allowDataOverflow:Xf.allowDataOverflow,allowDecimals:Xf.allowDecimals,allowDuplicatedCategory:Xf.allowDuplicatedCategory,height:Xf.height,hide:!1,mirror:Xf.mirror,orientation:Xf.orientation,padding:Xf.padding,reversed:Xf.reversed,scale:Xf.scale,tickCount:Xf.tickCount,type:Xf.type,xAxisId:0});var Lx=["dangerouslySetInnerHTML","ticks"];function Tx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function Ix(e){var r=Ns();return(0,t.useEffect)(()=>(r(hy(e)),()=>{r(fy(e))}),[e,r]),null}var Rx=e=>{var r,{yAxisId:n,className:a,width:i,label:s}=e,o=(0,t.useRef)(null),l=(0,t.useRef)(null),c=ks(No),u=So(),d=Ns(),h="yAxis",f=ks(e=>hm(e,h,n,u)),p=ks(e=>Nm(e,n)),m=ks(e=>((e,t)=>{var r=xo(e),n=ep(e,t);if(null!=n){var a=wm(e,n.orientation,n.mirror)[t];return null==a?{x:0,y:r.top}:{x:a,y:r.top}}})(e,n)),g=ks(e=>Cm(e,h,n,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===i&&p&&!rx(s)&&!(0,t.isValidElement)(s)){var r=o.current,a=null===r||void 0===r||null===(e=r.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=r.props,h=(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=r?r.getBoundingClientRect().width:0,l=s+(a+i)+o+(r?n:0);return Math.round(l)}return 0})({ticks:a,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(gy({id:n,width:h}))}},[o,null===o||void 0===o||null===(r=o.current)||void 0===r||null===(r=r.tickRefs)||void 0===r?void 0:r.current,null===p||void 0===p?void 0:p.width,p,d,s,n,i]),null==p||null==m)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Lx);return t.createElement(Nx,Dx({},b,{ref:o,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:ft("recharts-".concat(h," ").concat(h),a),viewBox:c,ticks:g}))},Mx=e=>{var r,n,a,i,s;return t.createElement(t.Fragment,null,t.createElement(Ix,{interval:null!==(r=e.interval)&&void 0!==r?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter}),t.createElement(Rx,e))},Fx={allowDataOverflow:Zf.allowDataOverflow,allowDecimals:Zf.allowDecimals,allowDuplicatedCategory:Zf.allowDuplicatedCategory,hide:!1,mirror:Zf.mirror,orientation:Zf.orientation,padding:Zf.padding,reversed:Zf.reversed,scale:Zf.scale,tickCount:Zf.tickCount,type:Zf.type,width:Zf.width,yAxisId:0};class Bx extends t.Component{render(){return t.createElement(Mx,this.props)}}Tx(Bx,"displayName","YAxis"),Tx(Bx,"defaultProps",Fx);var zx=r(7950);function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qx(Object(r),!0).forEach(function(t){Wx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hx(e){return Array.isArray(e)&&Sr(e[0])&&Sr(e[1])?e.join(" ~ "):e}var Kx=e=>{var{separator:r=" : ",contentStyle:n={},itemStyle:a={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=$x({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=$x({margin:0},i),g=!Pr(d),y=g?d:"",v=ft("recharts-default-tooltip",c),b=ft("recharts-tooltip-label",u);g&&h&&void 0!==s&&null!==s&&(y=h(d,s));var x=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",Ux({className:v,style:p},x),t.createElement("p",{className:b,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(s&&s.length){var e=(l?Cs()(s,l):s).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||o||Hx,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,n,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=$x({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},Sr(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,Sr(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},Vx="recharts-tooltip-wrapper",Gx={visibility:"hidden"};function Yx(e){var{coordinate:t,translateX:r,translateY:n}=e;return ft(Vx,{["".concat(Vx,"-right")]:_r(r)&&t&&_r(t.x)&&r>=t.x,["".concat(Vx,"-left")]:_r(r)&&t&&_r(t.x)&&r<t.x,["".concat(Vx,"-bottom")]:_r(n)&&t&&_r(t.y)&&n>=t.y,["".concat(Vx,"-top")]:_r(n)&&t&&_r(t.y)&&n<t.y})}function Jx(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&_r(i[n]))return i[n];var u=r[n]-o-(a>0?a:0),d=r[n]+a;if(t[n])return s[n]?u:d;var h=l[n];return null==h?0:s[n]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function Xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xx(Object(r),!0).forEach(function(t){Zx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Zx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ew extends t.PureComponent{constructor(){super(...arguments),Zx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zx(this,"handleKeyDown",e=>{var t,r,n,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,r,n,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=Jx({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=Jx({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):Gx,{cssProperties:t,cssClasses:Yx({translateX:r,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),x=y?{}:Qx(Qx({transition:l&&e?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=Qx(Qx({},x),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:w,ref:g},i)}}var tw=r(4332),rw=r.n(tw);function nw(){}function aw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iw(e){this._context=e}function sw(e){this._context=e}function ow(e){this._context=e}iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},sw.prototype={areaStart:nw,areaEnd:nw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:aw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:aw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class lw{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function cw(e){this._context=e}function uw(e){this._context=e}function dw(e){return new uw(e)}function hw(e){return e<0?-1:1}function fw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(hw(i)+hw(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function pw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function mw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function gw(e){this._context=e}function yw(e){this._context=new vw(e)}function vw(e){this._context=e}function bw(e){this._context=e}function xw(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,s[t]-=r*s[t-1];for(a[n-1]=s[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function ww(e,t){this._context=e,this._t=t}cw.prototype={areaStart:nw,areaEnd:nw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mw(this,this._t0,pw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mw(this,pw(this,r=fw(this,e,t)),r);break;default:mw(this,this._t0,r=fw(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(yw.prototype=Object.create(gw.prototype)).point=function(e,t){gw.prototype.point.call(this,t,e)},vw.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},bw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=xw(e),a=xw(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ww.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const Nw=Math.PI,_w=2*Nw,Sw=1e-6,jw=_w-Sw;function kw(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Aw{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?kw:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kw;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,o=r-e,l=n-t,c=i-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Sw)if(Math.abs(u*o-l*c)>Sw&&a){let h=r-i,f=n-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((Nw-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>Sw&&this._append`L${e+b*c},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*h>c*f)},${this._x1=e+x*o},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(n),o=r*Math.sin(n),l=e+s,c=t+o,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Sw||Math.abs(this._y1-c)>Sw)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%_w+_w),d>jw?this._append`A${r},${r},0,1,${u},${e-s},${t-o}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>Sw&&this._append`A${r},${r},0,${+(d>=Nw)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Cw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Aw(t)}function Ow(e){return e[0]}function Pw(e){return e[1]}function Ew(e,t){var r=Ls(!0),n=null,a=dw,i=null,s=Cw(o);function o(o){var l,c,u,d=(o=Es(o)).length,h=!1;for(null==n&&(i=a(u=s())),l=0;l<=d;++l)!(l<d&&r(c=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,o),+t(c,l,o));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?Ow:Ls(e),t="function"===typeof t?t:void 0===t?Pw:Ls(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:Ls(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Ls(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:Ls(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),o):n},o}function Lw(e,t,r){var n=null,a=Ls(!0),i=null,s=dw,o=null,l=Cw(c);function c(c){var u,d,h,f,p,m=(c=Es(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(y[h],v[h]);o.lineEnd(),o.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),o.point(n?+n(f,u,c):y[u],r?+r(f,u,c):v[u]))}if(p)return o=null,p+""||null}function u(){return Ew().defined(a).curve(s).context(i)}return e="function"===typeof e?e:void 0===e?Ow:Ls(+e),t="function"===typeof t?t:Ls(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?Pw:Ls(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Ls(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Ls(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Ls(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Ls(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Ls(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Ls(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Ls(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(null,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(t){Rw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Rw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mw={curveBasisClosed:function(e){return new sw(e)},curveBasisOpen:function(e){return new ow(e)},curveBasis:function(e){return new iw(e)},curveBumpX:function(e){return new lw(e,!0)},curveBumpY:function(e){return new lw(e,!1)},curveLinearClosed:function(e){return new cw(e)},curveLinear:dw,curveMonotoneX:function(e){return new gw(e)},curveMonotoneY:function(e){return new yw(e)},curveNatural:function(e){return new bw(e)},curveStep:function(e){return new ww(e,.5)},curveStepAfter:function(e){return new ww(e,1)},curveStepBefore:function(e){return new ww(e,0)}},Fw=e=>Wh(e.x)&&Wh(e.y),Bw=e=>e.x,zw=e=>e.y,Uw=e=>{var t,{type:r="linear",points:n=[],baseLine:a,layout:i,connectNulls:s=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var r="curve".concat(Er(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?Mw[r]||dw:Mw["".concat(r).concat("vertical"===t?"Y":"X")]})(r,i),l=s?n.filter(Fw):n;if(Array.isArray(a)){var c=s?a.filter(e=>Fw(e)):a,u=l.map((e,t)=>Iw(Iw({},e),{},{base:c[t]}));return t="vertical"===i?Lw().y(zw).x1(Bw).x0(e=>e.base.x):Lw().x(Bw).y1(zw).y0(e=>e.base.y),t.defined(Fw).curve(o),t(u)}return(t="vertical"===i&&_r(a)?Lw().y(zw).x1(Bw).x0(a):_r(a)?Lw().x(Bw).y1(zw).y0(a):Ew().x(Bw).y(zw)).defined(Fw).curve(o),t(l)},qw=e=>{var{className:r,points:n,path:a,pathRef:i}=e;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Uw(e):a;return t.createElement("path",Tw({},Ov(e,!1),((e,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,t.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var a={};return Object.keys(n).forEach(e=>{Nv.includes(e)&&(a[e]=r||(t=>n[e](n,t)))}),a})(e),{className:ft("recharts-curve",r),d:null===s?void 0:s,ref:i}))},$w=["x","y","top","left","width","height","className"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(null,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Kw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vw=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Gw=e=>{var{x:r=0,y:n=0,top:a=0,left:i=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,$w),u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(t){Kw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:n,top:a,left:i,width:s,height:o},c);return _r(r)&&_r(n)&&_r(s)&&_r(o)&&_r(a)&&_r(i)?t.createElement("path",Ww({},Ov(u,!0),{className:ft("recharts-cross",l),d:Vw(r,n,s,o,a,i)})):null};var Yw=r(4250),Jw=r.n(Yw);var Xw=1e-4,Qw=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Zw=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),eN=(e,t)=>r=>{var n=Qw(e,t);return Zw(n,r)},tN=function(){for(var e,t,r,n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];if(1===i.length)switch(i[0]){case"linear":[e,r,t,n]=[0,0,1,1];break;case"ease":[e,r,t,n]=[.25,.1,.25,1];break;case"ease-in":[e,r,t,n]=[.42,0,1,1];break;case"ease-out":[e,r,t,n]=[.42,0,.58,1];break;case"ease-in-out":[e,r,t,n]=[0,0,.58,1];break;default:var o=i[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,r,t,n]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===i.length&&([e,r,t,n]=i);var l,c,u=eN(e,t),d=eN(r,n),h=(l=e,c=t,e=>{var t=[...Qw(l,c).map((e,t)=>e*t).slice(1),0];return Zw(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=u(r)-t,i=h(r);if(Math.abs(a-t)<Xw||i<Xw)return d(r);r=f(r-a/i)}return d(r)};return p.isStepper=!1,p},rN=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tN(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,a=(e,a,i)=>{var s=i+(-(e-a)*t-i*r)*n/1e3,o=i*n/1e3+e;return Math.abs(o-a)<Xw&&Math.abs(s)<Xw?[a,0]:[o,s]};return a.isStepper=!0,a.dt=n,a}();default:if("cubic-bezier"===e.split("(")[0])return tN(e)}return"function"===typeof e?e:null};function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(t){iN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sN=(e,t)=>Object.keys(t).reduce((r,n)=>aN(aN({},r),{},{[n]:e(n,t[n])}),{});function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(t){cN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uN=(e,t,r)=>e+(t-e)*r,dN=e=>{var{from:t,to:r}=e;return t!==r},hN=(e,t,r)=>{var n=sN((t,r)=>{if(dN(r)){var[n,a]=e(r.from,r.to,r.velocity);return lN(lN({},r),{},{from:n,velocity:a})}return r},t);return r<1?sN((e,t)=>dN(t)?lN(lN({},t),{},{velocity:uN(t.velocity,n[e].velocity,r),from:uN(t.from,n[e].from,r)}):t,t):hN(e,n,r-1)};function fN(e,t,r,n,a,i){var s,o=n.reduce((r,n)=>lN(lN({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{s||(s=n);var u=(n-s)/r.dt;o=hN(r,o,u),a(lN(lN(lN({},e),t),sN((e,t)=>t.from,o))),s=n,Object.values(o).filter(dN).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{l()})}const pN=(e,t,r,n,a,i)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===r.isStepper?fN(e,t,r,l,a,i):function(e,t,r,n,a,i,s){var o,l=null,c=a.reduce((r,n)=>lN(lN({},r),{},{[n]:[e[n],t[n]]}),{}),u=a=>{o||(o=a);var d=(a-o)/n,h=sN((e,t)=>uN(...t,r(d)),c);if(i(lN(lN(lN({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=sN((e,t)=>uN(...t,r(1)),c);i(lN(lN(lN({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,r,n,l,a,i)};class mN{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,a=i=>{i-r>=t?e(i):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(a))};return n=requestAnimationFrame(a),()=>{cancelAnimationFrame(n)}}}var gN=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(null,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(t){xN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wN(){return function(e){var t=()=>null,r=!1,n=null,a=i=>{if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,[o,...l]=s;return"number"===typeof o?void(n=e.setTimeout(a.bind(null,l),o)):(a(o),void(n=e.setTimeout(a.bind(null,l))))}"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new mN)}class NN extends t.PureComponent{constructor(e,t){super(e,t),xN(this,"mounted",!1),xN(this,"manager",null),xN(this,"stopJSAnimation",null),xN(this,"unSubscribe",null);var{isActive:r,attributeName:n,from:a,to:i,children:s,duration:o,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||o<=0)return this.state={style:{}},void("function"===typeof s&&(this.state={style:i}));if(a){if("function"===typeof s)return void(this.state={style:a});this.state={style:n?{[n]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:r,attributeName:n,shouldReAnimate:a,to:i,from:s}=this.props,{style:o}=this.state;if(r)if(t){if(!(Jw()(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||a?s:e.to;if(this.state&&o){var u={style:n?{[n]:c}:c};(n&&o[n]!==c||!n&&o!==c)&&this.setState(u)}this.runAnimation(bN(bN({},this.props),{},{from:c,begin:0}))}}else{var d={style:n?{[n]:i}:i};this.state&&o&&(n&&o[n]!==i||!n&&o!==i)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:r,duration:n,easing:a,begin:i,onAnimationEnd:s,onAnimationStart:o}=e,l=pN(t,r,rN(a),n,this.changeStyle,this.manager.getTimeoutController());this.manager.start([o,i,()=>{this.stopJSAnimation=l()},n,s])}runAnimation(e){var{begin:t,duration:r,attributeName:n,to:a,easing:i,onAnimationStart:s,onAnimationEnd:o,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof l&&"spring"!==i){var c=n?{[n]:a}:a,u=((e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","))(Object.keys(c),r,i);this.manager.start([s,t,bN(bN({},c),{},{transition:u}),r,o])}else this.runJSAnimation(e)}render(){var e=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:s,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,gN),g=t.Children.count(r),y=this.state.style;if("function"===typeof r)return r(y);if(!o||0===g||a<=0)return r;var v=e=>{var{style:r={},className:n}=e.props;return(0,t.cloneElement)(e,bN(bN({},m),{},{style:bN(bN({},r),y),className:n}))};return 1===g?v(t.Children.only(r)):t.createElement("div",null,t.Children.map(r,e=>v(e)))}}xN(NN,"displayName","Animate"),xN(NN,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var _N=(0,t.createContext)(null);function SN(e){var r,n,a=(0,t.useContext)(_N);return t.createElement(NN,yN({},e,{animationManager:null!==(r=null!==(n=e.animationManager)&&void 0!==n?n:a)&&void 0!==r?r:wN()}))}function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jN.apply(null,arguments)}var kN=(e,t,r,n,a)=>{var i,s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>s?s:a[d];i="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*u[1])),i+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*u[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);i="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},AN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CN=e=>{var r=lb(e,AN),n=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=r,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=r;if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var y=ft("recharts-rectangle",d);return g?t.createElement(SN,{canBegin:a>0,from:{width:l,height:c,x:s,y:o},to:{width:l,height:c,x:s,y:o},duration:f,animationEasing:h,isActive:g},e=>{var{width:i,height:s,x:o,y:l}=e;return t.createElement(SN,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",jN({},Ov(r,!0),{className:y,d:kN(o,l,i,s,u),ref:n})))}):t.createElement("path",jN({},Ov(r,!0),{className:y,d:kN(s,o,l,c,u)}))};function ON(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e;return{points:[Us(t,r,n,a),Us(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(null,arguments)}var EN=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,u=Math.asin(o/c)/Bs,d=l?a:a+i*u,h=l?a-i*u:a;return{center:Us(t,r,c,d),circleTangency:Us(t,r,n,d),lineTangency:Us(t,r,c*Math.cos(u*Bs),h),theta:u}},LN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=((e,t)=>xr(t-e)*Math.min(Math.abs(t-e),359.999))(i,s),l=i+o,c=Us(t,r,a,i),u=Us(t,r,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(n>0){var h=Us(t,r,n,i),f=Us(t,r,n,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},TN={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DN=e=>{var r=lb(e,TN),{cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=r;if(s<i||u===d)return null;var f,p=ft("recharts-sector",h),m=s-i,g=Ar(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=xr(c-l),{circleTangency:d,lineTangency:h,theta:f}=EN({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:g}=EN({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):LN({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(n>0){var{circleTangency:b,lineTangency:x,theta:w}=EN({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:N,lineTangency:_,theta:S}=EN({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(l-c):Math.abs(l-c)-w-S;if(j<0&&0===i)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(_.x,",").concat(_.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v})({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):LN({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),t.createElement("path",PN({},Ov(r,!0),{className:p,d:f}))};function IN(e,t,r){var n,a,i,s;if("horizontal"===e)i=n=t.x,a=r.top,s=r.top+r.height;else if("vertical"===e)s=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return ON(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Us(o,l,c,d),f=Us(o,l,u,d);n=h.x,a=h.y,i=f.x,s=f.y}return[{x:n,y:a},{x:i,y:s}]}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(t){FN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var BN=()=>{var e=ks(Zm),t=ks(Cg),r=ks(jg);return io(MN(MN({},e),{},{scale:r}),t)};function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zN.apply(null,arguments)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(t){$N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WN(e){var r,n,{coordinate:a,payload:i,index:s,offset:o,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=a,p=i,m=s;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)r=f,n=Gw;else if("BarChart"===h)r=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(c,f,o,l),n=CN;else if("radial"===c){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:x}=ON(f);r={cx:g,cy:y,startAngle:b,endAngle:x,innerRadius:v,outerRadius:v},n=DN}else r={points:IN(c,f,o)},n=qw;var w="object"===typeof u&&"className"in u?u.className:void 0,N=qN(qN(qN(qN({stroke:"#ccc",pointerEvents:"none"},o),r),Ov(u,!1)),{},{payload:p,payloadIndex:m,className:ft("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,N):(0,t.createElement)(n,N)}function HN(e){var r=BN(),n=(()=>{var e;return null!==(e=ks(xo))&&void 0!==e?e:Co})(),a=Po(),i=ks(vf);return t.createElement(WN,zN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:a,tooltipAxisBandSize:r,chartName:i}))}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(t){GN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YN(e){return e.dataKey}var JN=[],XN={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!bb,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function QN(e){var r=lb(e,XN),{active:n,allowEscapeViewBox:a,animationDuration:i,animationEasing:s,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:x,axisId:w}=r,N=Ns(),_="number"===typeof b?String(b):b;(0,t.useEffect)(()=>{N($i({shared:y,trigger:v,axisId:w,active:n,defaultIndex:_}))},[N,y,v,w,n,_]);var S=Ao(),j=Pv(),k=function(e){return ks(t=>Rm(t,e))}(y),{activeIndex:A,isActive:C}=ks(e=>Qg(e,k,v,_)),O=ks(e=>Xg(e,k,v,_)),P=ks(e=>Jg(e,k,v,_)),E=ks(e=>Yg(e,k,v,_)),L=O,T=(0,t.useContext)(Vv),D=null!==n&&void 0!==n?n:C,[I,R]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[r,n]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-r.height)>1||Math.abs(a.left-r.left)>1||Math.abs(a.top-r.top)>1||Math.abs(a.width-r.width)>1)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}([L,D]),M="axis"===k?P:void 0;Kv(k,v,E,M,A,D);var F=null!==x&&void 0!==x?x:T;if(null==F)return null;var B=null!==L&&void 0!==L?L:JN;D||(B=JN),l&&B.length&&(B=function(e,t,r){return!0===t?rw()(e,r):"function"===typeof t?rw()(e,t):e}(L.filter(e=>null!=e.value&&(!0!==e.hide||r.includeHidden)),d,YN));var z=B.length>0,U=t.createElement(ew,{allowEscapeViewBox:a,animationDuration:i,animationEasing:s,isAnimationActive:c,active:D,coordinate:E,hasPayload:z,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:S,wrapperStyle:m,lastBoundingBox:I,innerRef:R,hasPortalFromProps:Boolean(x)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"===typeof e?t.createElement(e,r):t.createElement(Kx,r)}(o,VN(VN({},r),{},{payload:B,label:M,active:D,coordinate:E,accessibilityLayer:j})));return t.createElement(t.Fragment,null,(0,zx.createPortal)(U,F),D&&t.createElement(HN,{cursor:g,tooltipEventType:k,coordinate:E,payload:L,index:A}))}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(t){t_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r_(e){var r=Ns(),n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{var t=e_(e_({},e),{},{stackId:eo(e.stackId)});null===n.current?r(wy(t)):n.current!==t&&r(Ny({prev:n.current,next:t})),n.current=t},[r,e]),(0,t.useEffect)(()=>()=>{n.current&&(r(_y(n.current)),n.current=null)},[r]),null}function n_(e){var r=Ns();return(0,t.useEffect)(()=>(r(Sy(e)),()=>{r(jy(e))}),[r,e]),null}var a_=["children"];var i_=()=>{},s_=(0,t.createContext)({addErrorBar:i_,removeErrorBar:i_}),o_={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},l_=(0,t.createContext)(o_);function c_(e){var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,a_);return t.createElement(l_.Provider,{value:n},r)}var u_=e=>{var{children:r,xAxisId:n,yAxisId:a,zAxisId:i,dataKey:s,data:o,stackId:l,hide:c,type:u,barSize:d}=e,[h,f]=t.useState([]),p=(0,t.useCallback)(e=>{f(t=>[...t,e])},[f]),m=(0,t.useCallback)(e=>{f(t=>t.filter(t=>t!==e))},[f]),g=So();return t.createElement(s_.Provider,{value:{addErrorBar:p,removeErrorBar:m}},t.createElement(r_,{type:u,data:o,xAxisId:n,yAxisId:a,zAxisId:i,dataKey:s,errorBars:h,stackId:l,hide:c,barSize:d,isPanorama:g}),r)};function d_(e){var{addErrorBar:r,removeErrorBar:n}=(0,t.useContext)(s_);return(0,t.useEffect)(()=>(r(e),()=>{n(e)}),[r,n,e]),null}var h_=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function f_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(null,arguments)}function m_(e){var{direction:r,width:n,dataKey:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,h_),u=Ov(c,!1),{data:d,dataPointFormatter:h,xAxisId:f,yAxisId:p,errorBarOffset:m}=(0,t.useContext)(l_),g=(e=>{var t=So();return ks(r=>Pm(r,"xAxis",e,t))})(f),y=(e=>{var t=So();return ks(r=>Pm(r,"yAxis",e,t))})(p);if(null==(null===g||void 0===g?void 0:g.scale)||null==(null===y||void 0===y?void 0:y.scale)||null==d)return null;if("x"===r&&"number"!==g.type)return null;var v=d.map(e=>{var{x:c,y:d,value:f,errorVal:p}=h(e,a,r);if(!p)return null;var v,b,x=[];if(Array.isArray(p)?[v,b]=p:v=b=p,"x"===r){var{scale:w}=g,N=d+m,_=N+n,S=N-n,j=w(f-v),k=w(f+b);x.push({x1:k,y1:_,x2:k,y2:S}),x.push({x1:j,y1:N,x2:k,y2:N}),x.push({x1:j,y1:_,x2:j,y2:S})}else if("y"===r){var{scale:A}=y,C=c+m,O=C-n,P=C+n,E=A(f-v),L=A(f+b);x.push({x1:O,y1:L,x2:P,y2:L}),x.push({x1:C,y1:E,x2:C,y2:L}),x.push({x1:O,y1:E,x2:P,y2:E})}var T="".concat(c+m,"px ").concat(d+m,"px");return t.createElement(vb,p_({className:"recharts-errorBar",key:"bar-".concat(x.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},u),x.map(e=>{var r=i?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return t.createElement(SN,{from:{transform:"scaleY(0)",transformOrigin:T},to:{transform:"scaleY(1)",transformOrigin:T},begin:s,easing:l,isActive:i,duration:o,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:T}},t.createElement("line",p_({},e,{style:r})))}))});return t.createElement(vb,{className:"recharts-errorBars"},v)}var g_=(0,t.createContext)(void 0);function y_(e){var{direction:r,children:n}=e;return t.createElement(g_.Provider,{value:r},n)}var v_={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function b_(e){var r=function(e){var r=(0,t.useContext)(g_);return null!=e?e:null!=r?r:"x"}(e.direction),{width:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o}=lb(e,v_);return t.createElement(t.Fragment,null,t.createElement(d_,{dataKey:e.dataKey,direction:r}),t.createElement(m_,p_({},e,{direction:r,width:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o})))}class x_ extends t.Component{render(){return t.createElement(b_,this.props)}}f_(x_,"defaultProps",v_),f_(x_,"displayName","ErrorBar");var w_=e=>null;w_.displayName="Cell";var N_=r(356),__=r.n(N_),S_=["valueAccessor"],j_=["data","dataKey","clockWise","id","textBreakAll"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(null,arguments)}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(t){O_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var E_=e=>Array.isArray(e.value)?__()(e.value):e.value;function L_(e){var{valueAccessor:r=E_}=e,n=P_(e,S_),{data:a,dataKey:i,clockWise:s,id:o,textBreakAll:l}=n,c=P_(n,j_);return a&&a.length?t.createElement(vb,{className:"recharts-label-list"},a.map((e,n)=>{var a=Pr(i)?r(e,n):Ys(e&&e.payload,i),u=Pr(o)?{}:{id:"".concat(o,"-").concat(n)};return t.createElement(ax,k_({},Ov(e,!0),c,u,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:ax.parseViewBox(Pr(s)?e:C_(C_({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))})):null}L_.displayName="LabelList",L_.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:a}=e,i=Cv(a,L_).map((e,n)=>(0,t.cloneElement)(e,{data:r,key:"labelList-".concat(n)}));if(!n)return i;var s=function(e,r){return e?!0===e?t.createElement(L_,{key:"labelList-implicit",data:r}):t.isValidElement(e)||rx(e)?t.createElement(L_,{key:"labelList-implicit",data:r,content:e}):"object"===typeof e?t.createElement(L_,k_({data:r},e,{key:"labelList-implicit"})):null:null}(e.label,r);return[s,...i]};var T_="Invariant failed";var D_=r(9397),I_=r.n(D_);function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(null,arguments)}var M_=(e,t,r,n,a)=>{var i,s=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},F_={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B_=e=>{var r=lb(e,F_),n=(0,t.useRef)(),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u,className:d}=r,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=r;if(s!==+s||o!==+o||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=ft("recharts-trapezoid",d);return m?t.createElement(SN,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:o},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:i,lowerWidth:s,height:o,x:l,y:c}=e;return t.createElement(SN,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},t.createElement("path",R_({},Ov(r,!0),{className:g,d:M_(l,c,i,s,o),ref:n})))}):t.createElement("g",null,t.createElement("path",R_({},Ov(r,!0),{className:g,d:M_(s,o,l,c,u)})))};Math.abs,Math.atan2;const z_=Math.cos,U_=(Math.max,Math.min,Math.sin),q_=Math.sqrt,$_=Math.PI,W_=2*$_;const H_={draw(e,t){const r=q_(t/$_);e.moveTo(r,0),e.arc(0,0,r,0,W_)}},K_={draw(e,t){const r=q_(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},V_=q_(1/3),G_=2*V_,Y_={draw(e,t){const r=q_(t/G_),n=r*V_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},J_={draw(e,t){const r=q_(t),n=-r/2;e.rect(n,n,r,r)}},X_=U_($_/10)/U_(7*$_/10),Q_=U_(W_/10)*X_,Z_=-z_(W_/10)*X_,eS={draw(e,t){const r=q_(.8908130915292852*t),n=Q_*r,a=Z_*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=W_*i/5,s=z_(t),o=U_(t);e.lineTo(o*r,-s*r),e.lineTo(s*n-o*a,o*n+s*a)}e.closePath()}},tS=q_(3),rS={draw(e,t){const r=-q_(t/(3*tS));e.moveTo(0,2*r),e.lineTo(-tS*r,-r),e.lineTo(tS*r,-r),e.closePath()}},nS=-.5,aS=q_(3)/2,iS=1/q_(12),sS=3*(iS/2+1),oS={draw(e,t){const r=q_(t/sS),n=r/2,a=r*iS,i=n,s=r*iS+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(nS*n-aS*a,aS*n+nS*a),e.lineTo(nS*i-aS*s,aS*i+nS*s),e.lineTo(nS*o-aS*l,aS*o+nS*l),e.lineTo(nS*n+aS*a,nS*a-aS*n),e.lineTo(nS*i+aS*s,nS*s-aS*i),e.lineTo(nS*o+aS*l,nS*l-aS*o),e.closePath()}};q_(3),q_(3);var lS=["type","size","sizeType"];function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(null,arguments)}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(t){hS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fS={symbolCircle:H_,symbolCross:K_,symbolDiamond:Y_,symbolSquare:J_,symbolStar:eS,symbolTriangle:rS,symbolWye:oS},pS=Math.PI/180,mS=e=>{var{type:r="circle",size:n=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,lS),s=dS(dS({},i),{},{type:r,size:n,sizeType:a}),{className:o,cx:l,cy:c}=s,u=Ov(s,!0);return l===+l&&c===+c&&n===+n?t.createElement("path",cS({},u,{className:ft("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Er(e));return fS[t]||H_})(r),t=function(e,t){let r=null,n=Cw(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:Ls(e||H_),t="function"===typeof t?t:Ls(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Ls(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Ls(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*pS;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,a,r));return t()})()})):null};mS.registerSymbol=(e,t)=>{fS["symbol".concat(Er(e))]=t};var gS=["option","shapeType","propTransformer","activeClassName","isActive"];function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(t){bS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xS(e,t){return vS(vS({},t),e)}function wS(e){var{shapeType:r,elementProps:n}=e;switch(r){case"rectangle":return t.createElement(CN,n);case"trapezoid":return t.createElement(B_,n);case"sector":return t.createElement(DN,n);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(mS,n);break;default:return null}}function NS(e){var r,{option:n,shapeType:a,propTransformer:i=xS,activeClassName:s="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,gS);if((0,t.isValidElement)(n))r=(0,t.cloneElement)(n,vS(vS({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)r=n(l);else if(I_()(n)&&"boolean"!==typeof n){var c=i(n,l);r=t.createElement(wS,{shapeType:a,elementProps:c})}else{var u=l;r=t.createElement(wS,{shapeType:a,elementProps:u})}return o?t.createElement(vb,{className:s},r):r}var _S=["x","y"];function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SS.apply(null,arguments)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(t){AS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CS(e,t){var{x:r,y:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,_S),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return kS(kS(kS(kS(kS({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function OS(e){return t.createElement(NS,SS({shapeType:"rectangle",propTransformer:CS,activeClassName:"recharts-active-bar"},e))}var PS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(_r(e))return e;var a=_r(r)||Pr(r);return a?e(r,n):(a||function(e){if(!e)throw new Error(T_)}(!1),t)}},ES=(e,t)=>{var r=Ns();return(n,a)=>i=>{null===e||void 0===e||e(n,a,i),r(Wi({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},LS=e=>{var t=Ns();return(r,n)=>a=>{null===e||void 0===e||e(r,n,a),t(Hi())}},TS=(e,t)=>{var r=Ns();return(n,a)=>i=>{null===e||void 0===e||e(n,a,i),r(Vi({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function DS(e){var{fn:r,args:n}=e,a=Ns(),i=So();return(0,t.useEffect)(()=>{if(!i){var e=r(n);return a(Ui(e)),()=>{a(qi(e))}}},[r,n,a,i]),null}var IS=()=>{var e=Ns();return(0,t.useEffect)(()=>(e(by()),()=>{e(xy())})),null};function RS(e,t){var r,n,a=ks(t=>Qf(t,e)),i=ks(e=>ep(e,t)),s=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:Xf.allowDataOverflow,o=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:Zf.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function MS(e){var{xAxisId:r,yAxisId:n,clipPathId:a}=e,i=tb(),{needClipX:s,needClipY:o,needClip:l}=RS(r,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:s?c:c-d/2,y:o?u:u-h/2,width:s?d:2*d,height:o?h:2*h}))}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(t){zS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var US=(e,t,r,n,a)=>a,qS=(e,t,r)=>{var n=null!==r&&void 0!==r?r:e;if(!Pr(n))return Ar(n,t,0)},$S=ys([Oo,op,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function WS(e){return null!=e.stackId&&null!=e.dataKey}var HS=ys([$S,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===Oo(e)?_m(e,"xAxis",t):_m(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(WS),a=e.filter(e=>null==e.stackId),i=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),s=Object.entries(i).map(e=>{var[n,a]=e,i=a.map(e=>e.dataKey);return{stackId:n,dataKeys:i,barSize:qS(t,r,a[0].barSize)}}),o=a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:qS(t,r,e.barSize)}));return[...s,...o]}),KS=(e,t,r,n)=>{var a,i;return"horizontal"===Oo(e)?(a=Pm(e,"xAxis",t,n),i=Om(e,"xAxis",t,n)):(a=Pm(e,"yAxis",r,n),i=Om(e,"yAxis",r,n)),io(a,i)};var VS=ys([HS,mf,e=>e.rootProps.barGap,gf,(e,t,r,n,a)=>{var i,s,o,l,c=Oo(e),u=mf(e),{maxBarSize:d}=a,h=Pr(d)?u:d;return"horizontal"===c?(o=Pm(e,"xAxis",t,n),l=Om(e,"xAxis",t,n)):(o=Pm(e,"yAxis",r,n),l=Om(e,"yAxis",r,n)),null!==(i=null!==(s=io(o,l,!0))&&void 0!==s?s:h)&&void 0!==i?i:0},KS,(e,t,r,n,a)=>a.maxBarSize],(e,t,r,n,a,i,s)=>{var o=Pr(s)?t:s,l=function(e,t,r,n,a){var i=n.length;if(!(i<1)){var s,o=Ar(e,r,0,!0),l=[];if(Wh(n[0].barSize)){var c=!1,u=r/i,d=n.reduce((e,t)=>e+(t.barSize||0),0);(d+=(i-1)*o)>=r&&(d-=(i-1)*o,o=0),d>=r&&u>0&&(c=!0,d=i*(u*=.9));var h={offset:((r-d)/2|0)-o,size:0};s=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(r=t.barSize)&&void 0!==r?r:0}}];return h=n[n.length-1].position,n},l)}else{var f=Ar(t,r,0,!0);r-2*f-(i-1)*o<=0&&(o=0);var p=(r-2*f-(i-1)*o)/i;p>1&&(p>>=0);var m=Wh(a)?Math.min(p,a):p;s=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+o)*r+(p-m)/2,size:m}}],l)}return s}}(r,n,a!==i?a:i,e,o);return a!==i&&null!=l&&(l=l.map(e=>BS(BS({},e),{},{position:BS(BS({},e.position),{},{offset:e.position.offset-a/2})}))),l}),GS=ys([VS,US],(e,t)=>{if(null!=e){var r=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),YS=ys([op,US],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),JS=ys([(e,t,r,n)=>"horizontal"===Oo(e)?_p(e,"yAxis",r,n):_p(e,"xAxis",t,n),US],(e,t)=>{if(e&&null!=(null===t||void 0===t?void 0:t.dataKey)){var{stackId:r}=t;if(null!=r){var n=e[r];if(n){var{stackedData:a}=n;if(a)return a.find(e=>e.key===t.dataKey)}}}}),XS=ys([xo,(e,t,r,n)=>Pm(e,"xAxis",t,n),(e,t,r,n)=>Pm(e,"yAxis",r,n),(e,t,r,n)=>Om(e,"xAxis",t,n),(e,t,r,n)=>Om(e,"yAxis",r,n),GS,Oo,$h,KS,JS,YS,(e,t,r,n,a,i)=>i],(e,t,r,n,a,i,s,o,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=o;if(null!=u&&null!=i&&("horizontal"===s||"vertical"===s)&&null!=t&&null!=r&&null!=n&&null!=a&&null!=l){var m,{data:g}=u;if(null!=(m=null!=g&&g.length>0?g:null===h||void 0===h?void 0:h.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,p="horizontal"===t?o:s,m=u?p.scale.domain():null,g=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]})({numericAxis:p});return d.map((e,d)=>{var p,y,v,b,x,w;u?p=((e,t)=>{if(!t||2!==t.length||!_r(t[0])||!_r(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!_r(e[0])||e[0]<r)&&(a[0]=r),(!_r(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a})(u[d],m):(p=Ys(e,r),Array.isArray(p)||(p=[g,p]));var N=PS(n,gj)(p[1],d);if("horizontal"===t){var _,[S,j]=[o.scale(p[0]),o.scale(p[1])];y=to({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:e,index:d}),v=null!==(_=null!==j&&void 0!==j?j:S)&&void 0!==_?_:void 0,b=a.size;var k=S-j;if(x=wr(k)?0:k,w={x:y,y:h.top,width:b,height:h.height},Math.abs(N)>0&&Math.abs(x)<Math.abs(N)){var A=xr(x||N)*(Math.abs(N)-Math.abs(x));v-=A,x+=A}}else{var[C,O]=[s.scale(p[0]),s.scale(p[1])];if(y=C,v=to({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:e,index:d}),b=O-C,x=a.size,w={x:h.left,y:v,width:h.width,height:x},Math.abs(N)>0&&Math.abs(b)<Math.abs(N))b+=xr(b||N)*(Math.abs(N)-Math.abs(b))}return oj(oj({},e),{},{x:y,y:v,width:b,height:x,value:u?p:p[1],payload:e,background:w,tooltipPosition:{x:y+b/2,y:v+x/2}},f&&f[d]&&f[d].props)})}({layout:s,barSettings:u,pos:i,bandSize:l,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:d})}}),QS=()=>{};function ZS(e){var{legendPayload:r}=e,n=Ns(),a=So();return(0,t.useEffect)(()=>a?QS:(n(qy(r)),()=>{n($y(r))}),[n,a,r]),null}function ej(e){var{legendPayload:r}=e,n=Ns(),a=ks(Oo);return(0,t.useEffect)(()=>"centric"!==a&&"radial"!==a?QS:(n(qy(r)),()=>{n($y(r))}),[n,a,r]),null}function tj(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,t.useRef)(kr(r)),a=(0,t.useRef)(e);return a.current!==e&&(n.current=kr(r),a.current=e),n.current}var rj=["onMouseEnter","onMouseLeave","onClick"],nj=["value","background","tooltipPosition"],aj=["onMouseEnter","onClick","onMouseLeave"];function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ij.apply(null,arguments)}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(t){lj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var uj=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:oo(r,t),payload:e}]};function dj(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:oo(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function hj(e){var r=ks(Tg),{data:n,dataKey:a,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=cj(s,rj),d=ES(o,a),h=LS(l),f=TS(c,a);if(!i||null==n)return null;var p=Ov(i,!1);return t.createElement(t.Fragment,null,n.map((e,n)=>{var{value:s,background:o,tooltipPosition:l}=e,c=cj(e,nj);if(!o)return null;var m=d(e,n),g=h(e,n),y=f(e,n),v=oj(oj(oj(oj(oj({option:i,isActive:String(n)===r},c),{},{fill:"#eee"},o),p),_v(u,e,n)),{},{onMouseEnter:m,onMouseLeave:g,onClick:y,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return t.createElement(OS,ij({key:"background-bar-".concat(n)},v))}))}function fj(e){var{data:r,props:n,showLabels:a}=e,i=Ov(n,!1),{shape:s,dataKey:o,activeBar:l}=n,c=ks(Tg),u=ks(Ig),{onMouseEnter:d,onClick:h,onMouseLeave:f}=n,p=cj(n,aj),m=ES(d,o),g=LS(f),y=TS(h,o);return r?t.createElement(t.Fragment,null,r.map((e,r)=>{var n=l&&String(r)===c&&(null==u||o===u),a=n?l:s,d=oj(oj(oj({},i),e),{},{isActive:n,option:a,index:r,dataKey:o});return t.createElement(vb,ij({className:"recharts-bar-rectangle"},_v(p,e,r),{onMouseEnter:m(e,r),onMouseLeave:g(e,r),onClick:y(e,r),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(OS,d))}),a&&L_.renderCallByParent(n,r)):null}function pj(e){var{props:r,previousRectanglesRef:n}=e,{data:a,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=r,h=n.current,f=tj(r,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(SN,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:y,key:f},e=>{var{t:s}=e,o=1===s?a:a.map((e,t)=>{var r=h&&h[t];if(r){var n=Or(r.x,e.x),a=Or(r.y,e.y),o=Or(r.width,e.width),l=Or(r.height,e.height);return oj(oj({},e),{},{x:n(s),y:a(s),width:o(s),height:l(s)})}if("horizontal"===i){var c=Or(0,e.height)(s);return oj(oj({},e),{},{y:e.y+e.height-c,height:c})}var u=Or(0,e.width)(s);return oj(oj({},e),{},{width:u})});return s>0&&(n.current=o),t.createElement(vb,null,t.createElement(fj,{props:r,data:o,showLabels:!p}))})}function mj(e){var{data:r,isAnimationActive:n}=e,a=(0,t.useRef)(null);return n&&r&&r.length&&(null==a.current||a.current!==r)?t.createElement(pj,{previousRectanglesRef:a,props:e}):t.createElement(fj,{props:e,data:r,showLabels:!0})}var gj=0,yj=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ys(e,t)}};class vj extends t.PureComponent{constructor(){super(...arguments),lj(this,"id",kr("recharts-bar-"))}render(){var{hide:e,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:l,id:c,layout:u}=this.props;if(e)return null;var d=ft("recharts-bar",a),h=Pr(c)?this.id:c;return t.createElement(vb,{className:d},o&&t.createElement("defs",null,t.createElement(MS,{clipPathId:h,xAxisId:i,yAxisId:s})),t.createElement(vb,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):null},t.createElement(hj,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),t.createElement(mj,this.props)),t.createElement(y_,{direction:"horizontal"===u?"y":"x"},this.props.children))}}var bj={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!bb,legendType:"rect",minPointSize:gj,xAxisId:0,yAxisId:0};function xj(e){var r,{xAxisId:n,yAxisId:a,hide:i,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=lb(e,bj),{needClip:f}=RS(n,a),p=Po(),m=So(),g=(0,t.useMemo)(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:o,stackId:eo(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,o,e.stackId]),y=Cv(e.children,w_),v=ks(e=>XS(e,n,a,m,g,y));if("vertical"!==p&&"horizontal"!==p)return null;var b=null===v||void 0===v?void 0:v[0];return r=null==b||null==b.height||null==b.width?0:"vertical"===p?b.height/2:b.width/2,t.createElement(c_,{xAxisId:n,yAxisId:a,data:v,dataPointFormatter:yj,errorBarOffset:r},t.createElement(vj,ij({},e,{layout:p,needClip:f,data:v,xAxisId:n,yAxisId:a,hide:i,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}class wj extends t.PureComponent{render(){return t.createElement(u_,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},t.createElement(IS,null),t.createElement(ZS,{legendPayload:uj(this.props)}),t.createElement(DS,{fn:dj,args:this.props}),t.createElement(xj,this.props))}}function Nj(e){var r=Ns();return(0,t.useEffect)(()=>{r(rv(e))},[r,e]),null}lj(wj,"displayName","Bar"),lj(wj,"defaultProps",bj);var _j=["width","height","layout"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sj.apply(null,arguments)}var jj={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},kj=(0,t.forwardRef)(function(e,r){var n,a=lb(e.categoricalChartProps,jj),{width:i,height:s,layout:o}=a,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,_j);if(!Hh(i)||!Hh(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(pv,{preloadedState:{options:f},reduxStoreName:null!==(n=a.id)&&void 0!==n?n:c},t.createElement(mv,{chartData:a.data}),t.createElement(gv,{width:i,height:s,layout:o,margin:a.margin}),t.createElement(yv,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(Nj,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(ib,Sj({width:i,height:s},l,{ref:r})))}),Aj=["item"],Cj={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Oj=(0,t.forwardRef)((e,r)=>{var n=lb(e,Cj);return t.createElement(kj,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Aj,tooltipPayloadSearcher:Ra,categoricalChartProps:n,ref:r})}),Pj=e=>e.graphicalItems.polarItems,Ej=ys([Hf,Kf],sp),Lj=ys([Pj,np,Ej],cp),Tj=ys([Lj],fp),Dj=ys([Tj,qh],mp),Ij=ys([Dj,np,Lj],yp),Rj=ys([Dj,np,Lj],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:Ys(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Ys(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),Mj=()=>{},Fj=ys([np,Hp,Mj,Rj,Mj],Kp),Bj=ys([np,Oo,Dj,Ij,yf,Hf,Fj],Yp),zj=ys([Bj,np,Qp],em);ys([np,Bj,zj,Hf],rm);function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(t){$j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wj=(e,t)=>t,Hj=[],Kj=(e,t,r)=>0===(null===r||void 0===r?void 0:r.length)?Hj:r,Vj=ys([qh,Wj,Kj],(e,t,r)=>{var n,{chartData:a}=e;if((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&n.length||null==r||(n=r.map(e=>qj(qj({},t.presentationProps),e.props))),null!=n)return n}),Gj=ys([Vj,Wj,Kj],(e,t,r)=>{if(null!=e)return e.map((e,n)=>{var a,i,s=Ys(e,t.nameKey,t.name);return i=null!==r&&void 0!==r&&null!==(a=r[n])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?r[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:oo(s,t.dataKey),color:i,payload:e,type:t.legendType}})}),Yj=ys([Pj,Wj],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),Jj=ys([Vj,Yj,Kj,xo],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:a,displayedData:i,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=sk(c,u),g=Math.abs(m),y=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,v=i.filter(e=>0!==Ys(e,d,0)).length,b=g-v*p-(g>=360?v:v-1)*y,x=i.reduce((e,t)=>{var r=Ys(t,d,0);return e+(_r(r)?r:0)},0);x>0&&(r=i.map((e,t)=>{var r,i=Ys(e,d,0),u=Ys(e,h,t),g=ik(a,o,e),v=(_r(i)?i:0)/x,w=Zj(Zj({},e),s&&s[t]&&s[t].props),N=(r=t?n.endAngle+xr(m)*y*(0!==i?1:0):c)+xr(m)*((0!==i?p:0)+v*b),_=(r+N)/2,S=(g.innerRadius+g.outerRadius)/2,j=[{name:u,value:i,payload:w,dataKey:d,type:f}],k=Us(g.cx,g.cy,S,_);return n=Zj(Zj(Zj(Zj({},a.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:j,midAngle:_,middleRadius:S,tooltipPosition:k},w),g),{},{value:Ys(e,d),startAngle:r,endAngle:N,payload:w,paddingAngle:xr(m)*y})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),Xj=["onMouseEnter","onClick","onMouseLeave"];function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(t){ek(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ek(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tk.apply(null,arguments)}function rk(e){var r=(0,t.useMemo)(()=>Ov(e,!1),[e]),n=(0,t.useMemo)(()=>Cv(e.children,w_),[e.children]),a=(0,t.useMemo)(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),i=ks(e=>Gj(e,a,n));return t.createElement(ej,{legendPayload:i})}function nk(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===n||void 0===n?void 0:n.map(e=>e.tooltipPayload),positions:null===n||void 0===n?void 0:n.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:oo(o,t),hide:l,type:c,color:s,unit:""}}}var ak=(e,t)=>e>t?"start":e<t?"end":"middle",ik=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=qs(i,s),l=a+Ar(e.cx,i,i/2),c=n+Ar(e.cy,s,s/2),u=Ar(e.innerRadius,o,0),d=((e,t,r)=>"function"===typeof t?t(e):Ar(t,r,.8*r))(r,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+s*s)/2}},sk=(e,t)=>xr(t-e)*Math.min(Math.abs(t-e),360);function ok(e){var{sectors:r,props:n,showLabels:a}=e,{label:i,labelLine:s,dataKey:o}=n;if(!a||!i||!r)return null;var l=Ov(n,!1),c=Ov(i,!1),u=Ov(s,!1),d="object"===typeof i&&"offsetRadius"in i&&i.offsetRadius||20,h=r.map((e,r)=>{var n=(e.startAngle+e.endAngle)/2,a=Us(e.cx,e.cy,e.outerRadius+d,n),h=Zj(Zj(Zj(Zj({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:ak(a.x,e.cx)},a),f=Zj(Zj(Zj(Zj({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[Us(e.cx,e.cy,e.outerRadius,n),a],key:"line"});return t.createElement(vb,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},s&&((e,r)=>{if(t.isValidElement(e))return t.cloneElement(e,r);if("function"===typeof e)return e(r);var n=ft("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(qw,tk({},r,{type:"linear",className:n}))})(s,f),((e,r,n)=>{if(t.isValidElement(e))return t.cloneElement(e,r);var a=n;if("function"===typeof e&&(a=e(r),t.isValidElement(a)))return a;var i=ft("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return t.createElement(Gb,tk({},r,{alignmentBaseline:"middle",className:i}),a)})(i,h,Ys(e,o)))});return t.createElement(vb,{className:"recharts-pie-labels"},h)}function lk(e){var{sectors:r,activeShape:n,inactiveShape:a,allOtherPieProps:i,showLabels:s}=e,o=ks(Tg),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(i,Xj),h=ES(l,i.dataKey),f=LS(u),p=TS(c,i.dataKey);return null==r?null:t.createElement(t.Fragment,null,r.map((e,s)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==r.length)return null;var l=n&&String(s)===o,c=l?n:o?a:null,u=Zj(Zj({},e),{},{stroke:e.stroke,tabIndex:-1,[mo]:s,[go]:i.dataKey});return t.createElement(vb,tk({tabIndex:-1,className:"recharts-pie-sector"},_v(d,e,s),{onMouseEnter:h(e,s),onMouseLeave:f(e,s),onClick:p(e,s),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(s)}),t.createElement(NS,tk({option:c,isActive:l,shapeType:"sector"},u)))}),t.createElement(ok,{sectors:r,props:i,showLabels:s}))}function ck(e){var{props:r,previousSectorsRef:n}=e,{sectors:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=r,f=tj(r,"recharts-pie-"),p=n.current,[m,g]=(0,t.useState)(!0),y=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(SN,{begin:s,duration:o,isActive:i,easing:l,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var{t:i}=e,s=[],o=(a&&a[0]).startAngle;return a.forEach((e,t)=>{var r=p&&p[t],n=t>0?br()(e,"paddingAngle",0):0;if(r){var a=Or(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=Zj(Zj({},e),{},{startAngle:o+n,endAngle:o+a(i)+n});s.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=e,d=Or(0,c-u)(i),h=Zj(Zj({},e),{},{startAngle:o+n,endAngle:o+d+n});s.push(h),o=h.endAngle}}),n.current=s,t.createElement(vb,null,t.createElement(lk,{sectors:s,activeShape:c,inactiveShape:u,allOtherPieProps:r,showLabels:!m}))})}function uk(e){var{sectors:r,isAnimationActive:n,activeShape:a,inactiveShape:i}=e,s=(0,t.useRef)(null),o=s.current;return n&&r&&r.length&&(!o||o!==r)?t.createElement(ck,{props:e,previousSectorsRef:s}):t.createElement(lk,{sectors:r,activeShape:a,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function dk(e){var{hide:r,className:n,rootTabIndex:a}=e,i=ft("recharts-pie",n);return r?null:t.createElement(vb,{tabIndex:a,className:i},t.createElement(uk,e))}var hk={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!bb,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function fk(e){var r=lb(e,hk),n=(0,t.useMemo)(()=>Cv(e.children,w_),[e.children]),a=Ov(r,!1),i=(0,t.useMemo)(()=>({name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,data:r.data,dataKey:r.dataKey,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,minAngle:r.minAngle,paddingAngle:r.paddingAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,legendType:r.legendType,fill:r.fill,presentationProps:a}),[r.cornerRadius,r.cx,r.cy,r.data,r.dataKey,r.endAngle,r.innerRadius,r.minAngle,r.name,r.nameKey,r.outerRadius,r.paddingAngle,r.startAngle,r.tooltipType,r.legendType,r.fill,a]),s=ks(e=>Jj(e,i,n));return t.createElement(t.Fragment,null,t.createElement(DS,{fn:nk,args:Zj(Zj({},r),{},{sectors:s})}),t.createElement(dk,tk({},r,{sectors:s})))}class pk extends t.PureComponent{constructor(){super(...arguments),ek(this,"id",kr("recharts-pie-"))}render(){return t.createElement(t.Fragment,null,t.createElement(n_,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),t.createElement(rk,this.props),t.createElement(fk,this.props),this.props.children)}}ek(pk,"displayName","Pie"),ek(pk,"defaultProps",hk);const mk=lr("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),gk=lr("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),yk=lr("file-chart-column-increasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);class vk extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class bk extends vk{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xk extends vk{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wk extends vk{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nk;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Nk||(Nk={}));var _k=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{l(n.next(e))}catch(eR){i(eR)}}function o(e){try{l(n.throw(e))}catch(eR){i(eR)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())})};class Sk{constructor(e){let{headers:t={},customFetch:n,region:a=Nk.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return _k(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:i}=t;let s={},{region:o}=t;o||(o=this.region);const l=new URL(`${this.url}/${e}`);let c;o&&"any"!==o&&(s["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),i&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",c=i):"string"===typeof i?(s["Content-Type"]="text/plain",c=i):"undefined"!==typeof FormData&&i instanceof FormData?c=i:(s["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),n),body:c}).catch(e=>{throw new bk(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new xk(u);if(!u.ok)throw new wk(u);let h,f=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(n){return{data:null,error:n,response:n instanceof wk||n instanceof xk?n.context:void 0}}})}}var jk=r(7980);const{PostgrestClient:kk,PostgrestQueryBuilder:Ak,PostgrestFilterBuilder:Ck,PostgrestTransformBuilder:Ok,PostgrestBuilder:Pk,PostgrestError:Ek}=jk;const Lk=class{static dynamicRequire(e){try{return"undefined"!==typeof process&&process.versions&&process.versions.node?r(2986)(e):null}catch(zP){return null}}static detectEnvironment(){var e,t;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);if(e>=22)try{if("undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};const e=this.dynamicRequire("undici");if(e&&e.WebSocket)return{type:"native",constructor:e.WebSocket};throw new Error("undici not available")}catch(lE){return{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const e=this.dynamicRequire("ws");if(e)return{type:"ws",constructor:null!==(t=e.WebSocket)&&void 0!==t?t:e};throw new Error("ws package not available")}catch(lE){return{type:"unsupported",error:`Node.js ${e} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(zP){return!1}}},Tk=1e4;var Dk,Ik,Rk,Mk,Fk,Bk;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Dk||(Dk={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Ik||(Ik={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Rk||(Rk={})),function(e){e.websocket="websocket"}(Mk||(Mk={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Fk||(Fk={}));class zk{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const s=r.decode(e.slice(i,i+n));i+=n;const o=r.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:s,event:o,payload:JSON.parse(r.decode(e.slice(i,e.byteLength)))}}}class Uk{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Bk||(Bk={}));const qk=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((r,a)=>(r[a]=$k(a,e,t,n),r),{})},$k=(e,t,r,n)=>{const a=t.find(t=>t.name===e),i=null===a||void 0===a?void 0:a.type,s=r[e];return i&&!n.includes(i)?Wk(i,s):Hk(s)},Wk=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Yk(t,r)}switch(e){case Bk.bool:return Kk(t);case Bk.float4:case Bk.float8:case Bk.int2:case Bk.int4:case Bk.int8:case Bk.numeric:case Bk.oid:return Vk(t);case Bk.json:case Bk.jsonb:return Gk(t);case Bk.timestamp:return Jk(t);case Bk.abstime:case Bk.date:case Bk.daterange:case Bk.int4range:case Bk.int8range:case Bk.money:case Bk.reltime:case Bk.text:case Bk.time:case Bk.timestamptz:case Bk.timetz:case Bk.tsrange:case Bk.tstzrange:default:return Hk(t)}},Hk=e=>e,Kk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vk=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Gk=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Yk=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const a=e.slice(1,r);try{n=JSON.parse("["+a+"]")}catch(QE){n=a?a.split(","):[]}return n.map(e=>Wk(t,e))}return e},Jk=e=>"string"===typeof e?e.replace(" ","T"):e,Xk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Qk{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tk;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zk,eA,tA,rA;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Zk||(Zk={}));class nA{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nA.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=nA.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=nA.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),i=this.transformState(t),s={},o={};return this.map(a,(e,t)=>{i[e]||(o[e]=t)}),this.map(i,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);i.length>0&&(s[e]=i),l.length>0&&(o[e]=l)}else s[e]=t}),this.syncDiff(a,{joins:s,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),i.length>0){const r=e[t].map(e=>e.presence_ref),n=i.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,i,n)}),this.map(i,(t,r)=>{let a=e[t];if(!a)return;const i=r.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(eA||(eA={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(tA||(tA={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(rA||(rA={}));class aA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ik.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Qk(this,Rk.join,this.params,this.timeout),this.rejoinTimer=new Uk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ik.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ik.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ik.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ik.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ik.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rk.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new nA(this),this.broadcastEndpointURL=Xk(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Ik.closed){const{config:{broadcast:a,presence:i,private:s}}=this.params,o=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],l=!!this.bindings[tA.PRESENCE]&&this.bindings[tA.PRESENCE].length>0,c={},u={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:l}),postgres_changes:o,private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(rA.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(rA.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,i=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:s,schema:o,table:l,filter:c}}=a,u=r&&r[n];if(!u||u.event!==s||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Ik.errored,void(null===e||void 0===e||e(rA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(rA.SUBSCRIBED))}null===e||void 0===e||e(rA.SUBSCRIBED)}).receive("error",t=>{this.state=Ik.errored,null===e||void 0===e||e(rA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(rA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Ik.joined&&e===tA.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,i;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||r("ok"),s.receive("ok",()=>r("ok")),s.receive("error",()=>r("error")),s.receive("timeout",()=>r("timed out"))});{const{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Ik.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rk.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Qk(this,Rk.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ik.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),i}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Qk(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const i=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:c}=Rk;if(r&&[s,o,l,c].indexOf(i)>=0&&r!==this._joinRef())return;let u=this._onMessage(i,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===i}).map(e=>e.callback(u,r)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var r,n,a,s,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(r=e.filter)||void 0===r?void 0:r.event;return i&&(null===(n=t.ids)||void 0===n?void 0:n.includes(i))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:i}=e,s={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===Ik.closed}_isJoined(){return this.state===Ik.joined}_isJoining(){return this.state===Ik.joining}_isLeaving(){return this.state===Ik.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&aA.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rk.close,{},e)}_onError(e){this._on(Rk.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ik.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=qk(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=qk(e.columns,e.old_record)),t}}const iA=()=>{},sA=25e3,oA=10,lA=100,cA=[1e3,2e3,5e3,1e4];class uA{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tk,this.transport=null,this.heartbeatIntervalMs=sA,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iA,this.ref=0,this.reconnectTimer=null,this.logger=iA,this.conn=null,this.sendBuffer=[],this.serializer=new zk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then(e=>{let{default:r}=e;return r(...t)}).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)})}:fetch),function(){return t(...arguments)}},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Mk.websocket}`,this.httpEndpoint=Xk(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Lk.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dk.connecting:return Fk.Connecting;case Dk.open:return Fk.Open;case Dk.closing:return Fk.Closing;default:return Fk.Closed}}isConnected(){return this.connectionState()===Fk.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new aA(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${a})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},lA);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:a}=e,i=a?`(${a})`:"",s=n.status||"";this.log("receive",`${s} ${t} ${r} ${i}`.trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rk.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:"realtime-js/2.15.0"};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(Rk.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(eR){this.log("error",`error in ${e} callback`,eR)}})}catch(eR){this.log("error",`error triggering ${e} callbacks`,eR)}}_setupReconnectionTimer(){this.reconnectTimer=new Uk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oA)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,a,i,s,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:Tk,this.heartbeatIntervalMs=null!==(n=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:sA,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(i=null===e||void 0===e?void 0:e.accessToken)&&void 0!==i?i:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(s=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==s?s:e=>cA[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class dA extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function hA(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class fA extends dA{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pA extends dA{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var mA=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{l(n.next(e))}catch(eR){i(eR)}}function o(e){try{l(n.throw(e))}catch(eR){i(eR)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())})};const gA=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},yA=e=>{if(Array.isArray(e))return e.map(e=>yA(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=yA(n)}),t};var vA=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{l(n.next(e))}catch(eR){i(eR)}}function o(e){try{l(n.throw(e))}catch(eR){i(eR)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())})};const bA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xA=(e,t,n)=>vA(void 0,void 0,void 0,function*(){const a=yield mA(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,4630))).Response:Response});e instanceof a&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then(r=>{const n=e.status||500,a=(null===r||void 0===r?void 0:r.statusCode)||n+"";t(new fA(bA(r),n,a))}).catch(e=>{t(new pA(bA(e),e))}):t(new pA(bA(e),e))}),wA=(e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function NA(e,t,r,n,a,i){return vA(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,wA(t,n,a,i)).then(e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(e=>xA(e,o,n))})})}function _A(e,t,r,n){return vA(this,void 0,void 0,function*(){return NA(e,"GET",t,r,n)})}function SA(e,t,r,n,a){return vA(this,void 0,void 0,function*(){return NA(e,"POST",t,n,a,r)})}function jA(e,t,r,n,a){return vA(this,void 0,void 0,function*(){return NA(e,"PUT",t,n,a,r)})}function kA(e,t,r,n,a){return vA(this,void 0,void 0,function*(){return NA(e,"DELETE",t,n,a,r)})}var AA=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{l(n.next(e))}catch(eR){i(eR)}}function o(e){try{l(n.throw(e))}catch(eR){i(eR)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())})};const CA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=gA(n)}uploadOrUpdate(e,t,r,n){return AA(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},OA),n);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=r,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===n||void 0===n?void 0:n.headers)&&(s=Object.assign(Object.assign({},s),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?jA:SA)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(hA(a))return{data:null,error:a};throw a}})}upload(e,t,r){return AA(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return AA(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:OA.upsert},n),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield jA(this.fetch,s.toString(),e,{headers:i})).Key},error:null}}catch(o){if(hA(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return AA(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield SA(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),i=new URL(this.url+a.url),s=i.searchParams.get("token");if(!s)throw new dA("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(r){if(hA(r))return{data:null,error:r};throw r}})}update(e,t,r){return AA(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return AA(this,void 0,void 0,function*(){try{return{data:yield SA(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(hA(n))return{data:null,error:n};throw n}})}copy(e,t,r){return AA(this,void 0,void 0,function*(){try{return{data:{path:(yield SA(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(hA(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return AA(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield SA(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null===r||void 0===r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(n){if(hA(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return AA(this,void 0,void 0,function*(){try{const n=yield SA(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(n){if(hA(n))return{data:null,error:n};throw n}})}download(e,t){return AA(this,void 0,void 0,function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield _A(this.fetch,`${this.url}/${r}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(i){if(hA(i))return{data:null,error:i};throw i}})}info(e){return AA(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield _A(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:yA(e),error:null}}catch(r){if(hA(r))return{data:null,error:r};throw r}})}exists(e){return AA(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return vA(this,void 0,void 0,function*(){return NA(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(hA(r)&&r instanceof pA){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&n.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&n.push(s);let o=n.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}remove(e){return AA(this,void 0,void 0,function*(){try{return{data:yield kA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(hA(t))return{data:null,error:t};throw t}})}list(e,t,r){return AA(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},CA),t),{prefix:e||""});return{data:yield SA(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(hA(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const EA={"X-Client-Info":"storage-js/2.10.4"};var LA=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{l(n.next(e))}catch(eR){i(eR)}}function o(e){try{l(n.throw(e))}catch(eR){i(eR)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())})};class TA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const a=new URL(e);if(null===n||void 0===n?void 0:n.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},EA),t),this.fetch=gA(r)}listBuckets(){return LA(this,void 0,void 0,function*(){try{return{data:yield _A(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(hA(e))return{data:null,error:e};throw e}})}getBucket(e){return LA(this,void 0,void 0,function*(){try{return{data:yield _A(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(hA(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return LA(this,void 0,void 0,function*(){try{return{data:yield SA(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(hA(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return LA(this,void 0,void 0,function*(){try{return{data:yield jA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(hA(r))return{data:null,error:r};throw r}})}emptyBucket(e){return LA(this,void 0,void 0,function*(){try{return{data:yield SA(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(hA(t))return{data:null,error:t};throw t}})}deleteBucket(e){return LA(this,void 0,void 0,function*(){try{return{data:yield kA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(hA(t))return{data:null,error:t};throw t}})}}class DA extends TA{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new PA(this.url,this.headers,e,this.fetch)}}let IA="";IA="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const RA={headers:{"X-Client-Info":`supabase-js-${IA}/2.54.0`}},MA={schema:"public"},FA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BA={};var zA=r(4630),UA=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{l(n.next(e))}catch(eR){i(eR)}}function o(e){try{l(n.throw(e))}catch(eR){i(eR)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())})};const qA=e=>{let t;return t=e||("undefined"===typeof fetch?zA.default:fetch),function(){return t(...arguments)}},$A=(e,t,r)=>{const n=qA(r),a="undefined"===typeof Headers?zA.Headers:Headers;return(r,i)=>UA(void 0,void 0,void 0,function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),n(r,Object.assign(Object.assign({},i),{headers:l}))})};var WA=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{l(n.next(e))}catch(eR){i(eR)}}function o(e){try{l(n.throw(e))}catch(eR){i(eR)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())})};const HA="2.71.1",KA=3e4,VA=9e4,GA={"X-Client-Info":`gotrue-js/${HA}`},YA="X-Supabase-Api-Version",JA={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},XA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class QA extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ZA(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class eC extends QA{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class tC extends QA{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class rC extends QA{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class nC extends rC{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class aC extends rC{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class iC extends rC{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sC extends rC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oC extends rC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lC extends rC{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function cC(e){return ZA(e)&&"AuthRetryableFetchError"===e.name}class uC extends rC{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class dC extends rC{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fC=" \t\n\r=".split(""),pC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fC.length;t+=1)e[fC[t].charCodeAt(0)]=-2;for(let t=0;t<hC.length;t+=1)e[hC[t].charCodeAt(0)]=t;return e})();function mC(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(hC[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(hC[e]),t.queuedBits-=6}}function gC(e,t,r){const n=pC[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function yC(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let s=0;s<e.length;s+=1)gC(e.charCodeAt(s),a,i);return t.join("")}function vC(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function bC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}vC(n,t)}}function xC(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)gC(e.charCodeAt(a),r,n);return new Uint8Array(t)}function wC(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>mC(e,r,n)),mC(null,r,n),t.join("")}const NC=()=>"undefined"!==typeof window&&"undefined"!==typeof document,_C={tested:!1,writable:!1},SC=()=>{if(!NC())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(eR){return!1}if(_C.tested)return _C.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_C.tested=!0,_C.writable=!0}catch(eR){_C.tested=!0,_C.writable=!1}return _C.writable};const jC=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},kC=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},AC=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(zP){return r}},CC=async(e,t)=>{await e.removeItem(t)};class OC{constructor(){this.promise=new OC.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function PC(e){const t=e.split(".");if(3!==t.length)throw new dC("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!XA.test(t[r]))throw new dC("JWT not in base64url format");return{header:JSON.parse(yC(t[0])),payload:JSON.parse(yC(t[1])),signature:xC(t[2]),raw:{header:t[0],payload:t[1]}}}function EC(e){return("0"+e.toString(16)).substr(-2)}async function LC(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function TC(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,EC).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await kC(e,`${t}-code-verifier`,a);const i=await LC(n);return[i,n===i?"plain":"s256"]}OC.promiseConstructor=Promise;const DC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const IC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function RC(e){if(!IC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function MC(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function FC(e){return JSON.parse(JSON.stringify(e))}var BC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const zC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UC=[502,503,504];async function qC(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new lC(zC(e),0);if(UC.includes(e.status))throw new lC(zC(e),e.status);let n,a;try{n=await e.json()}catch(eR){throw new tC(zC(eR),eR)}const i=function(e){const t=e.headers.get(YA);if(!t)return null;if(!t.match(DC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(eR){return null}}(e);if(i&&i.getTime()>=JA.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new uC(zC(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new nC}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new uC(zC(n),e.status,n.weak_password.reasons);throw new eC(zC(n),e.status||500,a)}async function $C(e,t,r,n){var a;const i=Object.assign({},null===n||void 0===n?void 0:n.headers);i[YA]||(i[YA]=JA.name),(null===n||void 0===n?void 0:n.jwt)&&(i.Authorization=`Bearer ${n.jwt}`);const s=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,r,n,a,i){const s=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(eR){throw console.error(eR),new lC(zC(eR),0)}o.ok||await qC(o);if(null===n||void 0===n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(eR){await qC(eR)}}(e,t,r+o,{headers:i,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function WC(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function HC(e){const t=WC(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function KC(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function VC(e){return{data:e,error:null}}function GC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=BC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},user:Object.assign({},s)},error:null}}function YC(e){return e}const JC=["global","local","others"];var XC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class QC{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=jC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JC[0];if(JC.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${JC.join(", ")}`);try{return await $C(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ZA(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await $C(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:KC})}catch(r){if(ZA(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=XC(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await $C(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:GC,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(ZA(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $C(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:KC})}catch(t){if(ZA(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,i,s,o;try{const l={nextPage:null,lastPage:0,total:0},c=await $C(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:YC});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(o=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(ZA(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){RC(e);try{return await $C(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:KC})}catch(t){if(ZA(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){RC(e);try{return await $C(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:KC})}catch(r){if(ZA(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];RC(e);try{return await $C(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:KC})}catch(r){if(ZA(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){RC(e.userId);try{const{data:t,error:r}=await $C(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(ZA(t))return{data:null,error:t};throw t}}async _deleteFactor(e){RC(e.userId),RC(e.id);try{return{data:await $C(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ZA(t))return{data:null,error:t};throw t}}}function ZC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const eO=!!(globalThis&&SC()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class tO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rO extends tO{}async function nO(e,t,r){eO&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),eO&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw eO&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(eO)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(eR){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",eR)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}eO&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{eO&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(eR){"undefined"!==typeof self&&(self.globalThis=self)}}();const aO={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function iO(e,t,r){return await r()}const sO={};class oO{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=oO.nextInstanceID,oO.nextInstanceID+=1,this.instanceID>0&&NC()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},aO),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new QC({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=jC(n.fetch),this.lock=n.lock||iO,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:NC()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=nO:this.lock=iO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:SC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ZC(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ZC(this.memoryStorage)),NC()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(eR){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",eR)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=sO[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){sO[this.storageKey]=Object.assign(Object.assign({},sO[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=sO[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sO[this.storageKey]=Object.assign(Object.assign({},sO[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(`GoTrueClient@${this.instanceID} (${HA}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(eR){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),NC()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return ZA(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ZA(t)?{error:t}:{error:new tC("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await $C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:WC}),{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(ZA(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:i}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await TC(this.storage,this.storageKey)),a=await $C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},xform:WC})}else{if(!("phone"in e))throw new iC("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:s}=e;a=await $C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null===s||void 0===s?void 0:s.data)&&void 0!==r?r:{},channel:null!==(n=null===s||void 0===s?void 0:s.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:WC})}}const{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(ZA(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await $C(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:HC})}else{if(!("phone"in e))throw new iC("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await $C(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:HC})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new aC}}catch(t){if(ZA(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,n,a,i,s,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(NC())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${v.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()}`,...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await $C(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:wC(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:WC});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new aC}}catch(m){if(ZA(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await AC(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await $C(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:WC});if(await CC(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new aC}}catch(a){if(ZA(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:i}=e,s=await $C(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:WC}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new aC}}catch(t){if(ZA(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,i;try{if("email"in e){const{email:n,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await TC(this.storage,this.storageKey));const{error:o}=await $C(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:s,error:o}=await $C(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(i=null===r||void 0===r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new iC("You must provide either an email or phone number.")}catch(s){if(ZA(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:s}=await $C(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:WC});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(ZA(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await TC(this.storage,this.storageKey)),await $C(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:VC})}catch(a){if(ZA(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new nC;const{error:n}=await $C(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(ZA(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:a}=e,{error:i}=await $C(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:i,error:s}=await $C(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new iC("You must provide either an email or phone number and a type")}catch(t){if(ZA(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(eR){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(eR){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await AC(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<VA;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await AC(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=MC()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await $C(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:KC}):await this._useSession(async e=>{var t,r,n;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await $C(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:KC}):{data:{user:null},error:new nC}})}catch(t){if(ZA(t))return function(e){return ZA(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await CC(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new nC;const i=n.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await TC(this.storage,this.storageKey));const{data:l,error:c}=await $C(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:i.access_token,xform:KC});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ZA(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nC;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:i}=PC(e.access_token);if(i.exp&&(r=i.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(ZA(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new nC;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ZA(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!NC())throw new sC("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sC(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new oC("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new sC("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oC("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:i,expires_in:s,expires_at:o,token_type:l}=e;if(!a||!s||!i||!l)throw new sC("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=KA&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(ZA(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await AC(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const i=null===(r=n.session)||void 0===r?void 0:r.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return ZA(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await CC(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(lE){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",lE),console.error(lE)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await TC(this.storage,this.storageKey,!0));try{return await $C(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ZA(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ZA(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,i,s;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await $C(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})});if(n)throw n;return NC()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(ZA(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:i}=t;if(i)throw i;return await $C(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(ZA(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await $C(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:WC})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&cC(t)&&Date.now()+r-a<KA},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await r(a);if(!n(a,null,t))return void e(t)}catch(eR){if(!n(a,eR))return void t(eR)}})()}))}catch(a){if(this._debug(t,"error",a),ZA(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),NC()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await AC(this.storage,this.storageKey);if(a&&this.userStorage){let t=await AC(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await kC(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:MC()}else if(a&&!a.user&&!a.user){const e=await AC(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await CC(this.storage,this.storageKey+"-user"),await kC(this.storage,this.storageKey,a)):a.user=MC()}if(this._debug(r,"session from storage",a),!this._isValidSession(a))return this._debug(r,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<VA;if(this._debug(r,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),cC(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(lE){return this._debug(r,"error",lE),void console.error(lE)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new nC;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new OC;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new nC;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),ZA(a)){const e={session:null,error:a};return cC(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(eR){n.push(eR)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await kC(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=FC(e);await kC(this.storage,this.storageKey,n)}else{const e=FC(t);await kC(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await CC(this.storage,this.storageKey),await CC(this.storage,this.storageKey+"-code-verifier"),await CC(this.storage,this.storageKey+"-user"),this.userStorage&&await CC(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&NC()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(eR){console.error("removing visibilitychange callback failed",eR)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),KA);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/KA);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(eR){console.error("Auto refresh tick failed with error. This is likely a transient error.",eR)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(eR){if(!(eR.isAcquireTimeout||eR instanceof tO))throw eR;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!NC()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null===r||void 0===r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await TC(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await $C(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(ZA(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:i}=t;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await $C(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===o||void 0===o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(ZA(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:s}=await $C(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})})}catch(t){if(ZA(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await $C(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(ZA(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=PC(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:a}=await $C(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:i,raw:{header:s,payload:o}}=PC(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return bC(e,e=>t.push(e)),new Uint8Array(t)}(`${s}.${o}`)))throw new dC("Invalid JWT signature");return{data:{claims:a,header:n,signature:i},error:null}}catch(r){if(ZA(r))return{data:null,error:r};throw r}}}oO.nextInstanceID=0;const lO=oO;class cO extends lO{constructor(e){super(e)}}var uO=function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{l(n.next(e))}catch(eR){i(eR)}}function o(e){try{l(n.throw(e))}catch(eR){i(eR)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())})};class dO{constructor(e,t,r){var n,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(s);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===o||void 0===o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:()=>WA(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:MA,realtime:BA,auth:Object.assign(Object.assign({},FA),{storageKey:c}),global:RA});this.storageKey=null!==(n=u.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=$A(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new kk(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new DA(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Sk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return uO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:s,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cO({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:s,flowType:l,lock:c,debug:u,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new uA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");console.log("\ud83d\udd0d Environment Variables Debug:"),console.log("REACT_APP_SUPABASE_URL:","https://sjvuqphtunkneopkgoeb.supabase.co"),console.log("REACT_APP_SUPABASE_ANON_KEY:","FOUND"),console.log("NODE_ENV:","production"),console.log("\u2705 Supabase environment variables found. Connecting to real database."),console.log("\ud83d\udd17 Supabase URL:","https://sjvuqphtunkneopkgoeb.supabase.co");const hO=((e,t,r)=>new dO(e,t,r))("https://sjvuqphtunkneopkgoeb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNqdnVxcGh0dW5rbmVvcGtnb2ViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1OTMzMjksImV4cCI6MjA3MDE2OTMyOX0.p-rc0Y7FmCzPs9-hTCXRix8CWPTKpfn1_S74PjztqxI"),fO=e=>{if(console.error("Supabase error:",e),"PGRST116"===e.code)throw new Error("No data found");throw new Error(e.message||"Database operation failed")},pO=async()=>{try{const{data:{user:e},error:t}=await hO.auth.getUser();if(t)throw t;return e}catch(e){return console.error("Error getting current user:",e),{id:"00000000-0000-0000-0000-000000000001",email:"demo@company.com"}}},mO=async(e,t)=>{const{data:r,error:n}=await hO.from(e).insert(t).select().single();return n&&fO(n),r},gO=async(e,t,r)=>{const{data:n,error:a}=await hO.from(e).update(r).eq("id",t).select().single();return a&&fO(a),n},yO=async(e,t)=>{const{data:r,error:n}=await hO.from(e).select("*").eq("id",t).single();return n&&fO(n),r},vO=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=hO.from(e).select("*");if(t.filters&&Object.entries(t.filters).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&""!==n&&(r=r.eq(t,n))}),t.page&&t.limit){const e=(t.page-1)*t.limit,n=e+t.limit-1;r=r.range(e,n)}t.orderBy&&(r=r.order(t.orderBy.column,{ascending:t.orderBy.ascending}));const{data:n,error:a,count:i}=await r;if(a)throw console.error("Database list error:",a),new Error(a.message||"Failed to fetch data");return{data:n,count:i}}catch(r){throw console.error("Error in dbHelpers.list:",r),r}},bO={async getDashboardStats(){try{const[e,t,r,n,a,i,s]=await Promise.all([this.getCustomerStats(),this.getScreeningStats(),this.getCaseStats(),this.getReportStats(),this.getAlertStats(),this.getRiskStats(),this.getRecentActivity()]);return{success:!0,data:{customerStats:e,screeningStats:t,caseStats:r,reportStats:n,alertStats:a,riskStats:i,recentActivity:s},error:null}}catch(e){return console.error("Error in getDashboardStats:",e),{success:!1,data:null,error:e.message}}},async getCustomerStats(){try{const{count:e,error:t}=await hO.from("customers").select("*",{count:"exact",head:!0});if(t)throw t;const{data:r,error:n}=await hO.from("customers").select("risk_level").not("risk_level","is",null);if(n)throw n;const a=r.reduce((e,t)=>(e[t.risk_level]=(e[t.risk_level]||0)+1,e),{}),i=new Date;i.setDate(i.getDate()-7);const{count:s,error:o}=await hO.from("customers").select("*",{count:"exact",head:!0}).gte("created_at",i.toISOString());if(o)throw o;return{total:e||0,recent:s||0,riskLevels:a}}catch(e){return console.error("Error getting customer stats:",e),{total:0,recent:0,riskLevels:{}}}},async getScreeningStats(){try{const{count:e,error:t}=await hO.from("screening_logs").select("*",{count:"exact",head:!0});if(t)throw t;const r=new Date;r.setDate(r.getDate()-7);const{count:n,error:a}=await hO.from("screening_logs").select("*",{count:"exact",head:!0}).gte("created_at",r.toISOString());if(a)throw a;return{total:e||0,recent:n||0}}catch(e){return console.error("Error getting screening stats:",e),{total:0,recent:0}}},async getCaseStats(){try{const{count:e,error:t}=await hO.from("cases").select("*",{count:"exact",head:!0});if(t)throw t;const{data:r,error:n}=await hO.from("cases").select("status");if(n)throw n;const a=r.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),i=a.Open||0;return{total:e||0,open:i,inProgress:a["In Progress"]||0,statusStats:a}}catch(e){return console.error("Error getting case stats:",e),{total:0,open:0,inProgress:0,statusStats:{}}}},async getReportStats(){try{const{count:e,error:t}=await hO.from("reports").select("*",{count:"exact",head:!0});if(t)throw t;const{count:r,error:n}=await hO.from("reports").select("*",{count:"exact",head:!0}).ilike("report_type","%suspicious%");if(n)throw n;const a=new Date;a.setDate(a.getDate()-7);const{count:i,error:s}=await hO.from("reports").select("*",{count:"exact",head:!0}).gte("generated_at",a.toISOString());if(s)throw s;return{total:e||0,sar:r||0,recent:i||0}}catch(e){return console.error("Error getting report stats:",e),{total:0,sar:0,recent:0}}},async getAlertStats(){try{const{count:e,error:t}=await hO.from("transaction_alerts").select("*",{count:"exact",head:!0});if(t)throw t;const{count:r,error:n}=await hO.from("transaction_alerts").select("*",{count:"exact",head:!0}).eq("status","Pending");if(n)throw n;const{data:a,error:i}=await hO.from("transaction_alerts").select("severity");if(i)throw i;const s=a.reduce((e,t)=>(e[t.severity]=(e[t.severity]||0)+1,e),{}),o=new Date;o.setDate(o.getDate()-7);const{data:l,error:c}=await hO.from("transaction_alerts").select("created_at").gte("created_at",o.toISOString()).order("created_at",{ascending:!0});if(c)throw c;const u=l.reduce((e,t)=>{const r=new Date(t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});return e[r]=(e[r]||0)+1,e},{});return{total:e||0,pending:r||0,severityStats:s,alertsOverTime:Object.entries(u).map(e=>{let[t,r]=e;return{date:t,count:r}})}}catch(e){return console.error("Error getting alert stats:",e),{total:0,pending:0,severityStats:{},alertsOverTime:[]}}},async getRiskStats(){try{const{data:e,error:t}=await hO.from("customers").select("risk_level").not("risk_level","is",null);if(t)throw t;const r=e.reduce((e,t)=>(e[t.risk_level]=(e[t.risk_level]||0)+1,e),{});return{riskLevels:r,pieData:Object.entries(r).map(e=>{let[t,r]=e;return{name:t,value:r}})}}catch(e){return console.error("Error getting risk stats:",e),{riskLevels:{},pieData:[]}}},async getRecentActivity(){try{const{data:e,error:t}=await hO.from("system_logs").select("\n          *,\n          users (\n            first_name,\n            last_name\n          )\n        ").order("created_at",{ascending:!1}).limit(10);if(t)throw t;const r=e.map(e=>({id:e.id,action:e.action,module:e.module,user:e.users?`${e.users.first_name} ${e.users.last_name}`:"System",timestamp:new Date(e.created_at).toLocaleString(),description:this.formatActivityDescription(e)}));return r}catch(e){return console.error("Error getting recent activity:",e),[]}},async getHighRiskCustomers(){try{const{data:e,error:t}=await hO.from("customers").select("first_name, last_name, risk_level, created_at").eq("risk_level","High").order("created_at",{ascending:!1}).limit(5);if(t)throw t;return e.map(e=>({name:`${e.first_name} ${e.last_name}`,riskLevel:e.risk_level,created:new Date(e.created_at).toLocaleDateString()}))}catch(e){return console.error("Error getting high-risk customers:",e),[]}},async getPendingTasks(){try{const e=[],{count:t,error:r}=await hO.from("transaction_alerts").select("*",{count:"exact",head:!0}).eq("status","Pending");!r&&t>0&&e.push(`${t} alerts need manual review`);const{count:n,error:a}=await hO.from("customers").select("*",{count:"exact",head:!0}).eq("kyc_status","Pending");!a&&n>0&&e.push(`${n} customer KYC forms need verification`);const{count:i,error:s}=await hO.from("cases").select("*",{count:"exact",head:!0}).eq("status","Open");return!s&&i>0&&e.push(`${i} case(s) pending assignment`),e}catch(e){return console.error("Error getting pending tasks:",e),[]}},formatActivityDescription(e){let t=`${e.action} in ${e.module}`;return e.table_name&&(t+=` (${e.table_name})`),e.record_id&&(t+=` - Record ID: ${e.record_id}`),t}},xO=["#16a34a","#eab308","#dc2626"],wO=()=>{const e=re(),[r,n]=(0,t.useState)({customerStats:{total:0,recent:0,riskLevels:{}},screeningStats:{total:0,recent:0},caseStats:{total:0,open:0,inProgress:0,statusStats:{}},reportStats:{total:0,sar:0,recent:0},alertStats:{total:0,pending:0,severityStats:{},alertsOverTime:[]},riskStats:{riskLevels:{},pieData:[]},recentActivity:[]}),[a,i]=(0,t.useState)(!0),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),h=async()=>{try{i(!0),o(null);const e=await bO.getDashboardStats();e.success?n(e.data):(o(e.error||"Failed to fetch dashboard data"),qt.error("Failed to load dashboard data"));const[t,r]=await Promise.all([bO.getPendingTasks(),bO.getHighRiskCustomers()]);c(t),d(r)}catch(s){console.error("Error fetching dashboard data:",s),o("Failed to fetch dashboard data"),qt.error("Failed to load dashboard data")}finally{i(!1)}};(0,t.useEffect)(()=>{h()},[]);return a?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,Zt.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading dashboard..."})]})}):s?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,Zt.jsx)("div",{className:"text-red-600 mb-2",children:(0,Zt.jsx)("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Zt.jsx)("p",{className:"text-red-800 mb-4",children:s}),(0,Zt.jsx)("button",{onClick:h,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]})}):(0,Zt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AML Platform Dashboard"}),(0,Zt.jsxs)("button",{onClick:()=>{h()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[(0,Zt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"text-xl font-bold text-blue-600",children:r.customerStats.total}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:"Customers Onboarded"}),(0,Zt.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["+",r.customerStats.recent," this week"]})]})}),(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"text-xl font-bold text-purple-600",children:r.screeningStats.total}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:"Screenings Done"}),(0,Zt.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["+",r.screeningStats.recent," this week"]})]})}),(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"text-xl font-bold text-orange-600",children:r.caseStats.total}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:"Total Cases"}),(0,Zt.jsxs)("div",{className:"text-xs text-orange-600 mt-1",children:[r.caseStats.open," open, ",r.caseStats.inProgress," in progress"]})]})}),(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"text-xl font-bold text-red-600",children:r.reportStats.sar}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:"SAR Reports Filed"}),(0,Zt.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["+",r.reportStats.recent," this week"]})]})})]}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"font-semibold mb-2",children:"Alerts Over Time"}),r.alertStats.alertsOverTime.length>0?(0,Zt.jsx)(Rr,{width:"100%",height:200,children:(0,Zt.jsxs)(pb,{data:r.alertStats.alertsOverTime,children:[(0,Zt.jsx)(Ex,{dataKey:"date"}),(0,Zt.jsx)(Bx,{allowDecimals:!1}),(0,Zt.jsx)(QN,{}),(0,Zt.jsx)(wj,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})]})}):(0,Zt.jsx)("div",{className:"flex items-center justify-center h-48 text-gray-500",children:"No alert data available"})]})}),(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"font-semibold mb-2",children:"Customer Risk Levels"}),r.riskStats.pieData.length>0?(0,Zt.jsx)(Rr,{width:"100%",height:200,children:(0,Zt.jsx)(Oj,{children:(0,Zt.jsx)(pk,{data:r.riskStats.pieData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,label:!0,children:r.riskStats.pieData.map((e,t)=>(0,Zt.jsx)(w_,{fill:xO[t%xO.length]},`cell-${t}`))})})}):(0,Zt.jsx)("div",{className:"flex items-center justify-center h-48 text-gray-500",children:"No risk data available"})]})})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"font-semibold mb-4",children:"Quick Actions"}),(0,Zt.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Zt.jsxs)(mr,{variant:"outline",className:"flex items-center gap-2 hover:bg-blue-50 hover:border-blue-300 transition-colors",onClick:()=>e("/customer/onboarding"),children:[(0,Zt.jsx)(mk,{size:16})," Add New Customer"]}),(0,Zt.jsxs)(mr,{variant:"outline",className:"flex items-center gap-2 hover:bg-purple-50 hover:border-purple-300 transition-colors",onClick:()=>e("/screening/instant"),children:[(0,Zt.jsx)(gk,{size:16})," Start Screening"]}),(0,Zt.jsxs)(mr,{variant:"outline",className:"flex items-center gap-2 hover:bg-green-50 hover:border-green-300 transition-colors",onClick:()=>e("/reports/reportgeneration"),children:[(0,Zt.jsx)(yk,{size:16})," Generate Report"]})]})]}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"text-lg font-bold text-red-600",children:r.alertStats.pending}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:"Pending Alerts"}),(0,Zt.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"Requires attention"})]})}),(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"text-lg font-bold text-yellow-600",children:r.caseStats.open}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:"Open Cases"}),(0,Zt.jsx)("div",{className:"text-xs text-yellow-600 mt-1",children:"Need assignment"})]})}),(0,Zt.jsx)(fr,{children:(0,Zt.jsxs)(pr,{className:"p-4",children:[(0,Zt.jsx)("div",{className:"text-lg font-bold text-green-600",children:r.reportStats.total}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:"Total Reports"}),(0,Zt.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"Generated this month"})]})})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"font-semibold mb-4",children:"Pending Tasks"}),l.length>0?(0,Zt.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-700 space-y-1",children:l.map((e,t)=>(0,Zt.jsx)("li",{className:"text-red-600",children:e},t))}):(0,Zt.jsx)("p",{className:"text-sm text-green-600",children:"\u2705 All tasks completed!"})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"font-semibold mb-4",children:"Recent High-Risk Customers"}),u.length>0?(0,Zt.jsx)("ul",{className:"text-sm text-gray-700 space-y-2",children:u.map((e,t)=>(0,Zt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Zt.jsx)("span",{className:"text-red-500",children:"\ud83d\udd34"}),(0,Zt.jsx)("span",{className:"font-medium",children:e.name}),(0,Zt.jsxs)("span",{className:"text-gray-500",children:["- ",e.riskLevel," Risk"]}),(0,Zt.jsxs)("span",{className:"text-xs text-gray-400",children:["(Added ",e.created,")"]})]},t))}):(0,Zt.jsx)("p",{className:"text-sm text-green-600",children:"\u2705 No high-risk customers found"})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"font-semibold mb-4",children:"Recent Activity"}),r.recentActivity.length>0?(0,Zt.jsx)("ul",{className:"text-sm text-gray-700 space-y-2",children:r.recentActivity.slice(0,5).map((e,t)=>(0,Zt.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Zt.jsx)("span",{className:"text-blue-500",children:"\u2705"}),(0,Zt.jsx)("span",{children:e.description}),(0,Zt.jsxs)("span",{className:"text-xs text-gray-400",children:["by ",e.user]}),(0,Zt.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.timestamp,")"]})]},t))}):(0,Zt.jsx)("p",{className:"text-sm text-gray-500",children:"No recent activity"})]})]})},NO=[{id:"R001",name:"PEP Status",description:"Customer is a Politically Exposed Person",condition:e=>"Yes"===e.pep,score:40,category:"PEP"},{id:"R002",name:"High-Risk Nationality",description:"Customer nationality is from high-risk country",condition:e=>["IR","KP","CU","VE","SY"].includes(e.nationality),score:30,category:"Nationality"},{id:"R003",name:"Non-Face-to-Face Onboarding",description:"Customer was onboarded without face-to-face verification",condition:e=>"Non Face to Face"===e.channel,score:15,category:"Onboarding"},{id:"R004",name:"Unknown Source of Funds",description:"Source of funds is unknown or unclear",condition:e=>"Unknown"===e.sourceOfFunds||"Cash"===e.sourceOfFunds,score:20,category:"Source of Funds"},{id:"R005",name:"High-Risk Occupation",description:"Customer has high-risk occupation",condition:e=>["Politician","Government Official","Military","Cash Business"].includes(e.occupation),score:25,category:"Occupation"},{id:"R006",name:"Unknown Source of Wealth",description:"Source of wealth is unknown or unclear",condition:e=>"Unknown"===e.sourceOfWealth||"Cash Business"===e.sourceOfWealth,score:20,category:"Source of Wealth"},{id:"R007",name:"Young Customer",description:"Customer is under 25 years old",condition:e=>{if(!e.dateOfBirth)return!1;return(new Date).getFullYear()-new Date(e.dateOfBirth).getFullYear()<25},score:10,category:"Age"},{id:"R008",name:"Elderly Customer",description:"Customer is over 70 years old",condition:e=>{if(!e.dateOfBirth)return!1;return(new Date).getFullYear()-new Date(e.dateOfBirth).getFullYear()>70},score:10,category:"Age"}],_O=e=>{let t=0;const r=[];if(NO.forEach(n=>{n.condition(e)&&(t+=n.score,r.push({id:n.id,name:n.name,score:n.score,category:n.category}))}),"Yes"===e.pep&&(t+=40),e.nationality&&["IR","KP","CU","VE"].includes(e.nationality)&&(t+=30),e.occupation&&["Politician","Government Official","Military"].includes(e.occupation)&&(t+=25),e.sourceOfWealth&&["Unknown","Cash Business"].includes(e.sourceOfWealth)&&(t+=20),e.sourceOfFunds&&["Unknown","Cash"].includes(e.sourceOfFunds)&&(t+=15),e.dateOfBirth){const r=(new Date).getFullYear()-new Date(e.dateOfBirth).getFullYear();(r<25||r>70)&&(t+=10)}return Math.min(Math.max(t,0),100)},SO=e=>e>=70?"High":e>=40?"Medium":"Low",jO=e=>{const t=[];return NO.forEach(r=>{r.condition(e)&&t.push({id:r.id,name:r.name,score:r.score,category:r.category})}),t},kO={createCustomer:async e=>{try{0,console.log("\ud83d\udd17 Creating customer in real Supabase database...");const t={...e,created_at:(new Date).toISOString()},r=await mO("customers",t);if(e.shareholders&&e.shareholders.length>0){const t=e.shareholders.map(e=>({customer_id:r.id,...e}));await hO.from("customer_shareholders").insert(t)}if(e.directors&&e.directors.length>0){const t=e.directors.map(e=>({customer_id:r.id,...e}));await hO.from("customer_directors").insert(t)}if(e.bank_details&&e.bank_details.length>0){const t=e.bank_details.map(e=>({customer_id:r.id,...e}));await hO.from("customer_bank_details").insert(t)}if(e.ubos&&e.ubos.length>0){const t=e.ubos.map(e=>({customer_id:r.id,...e}));await hO.from("customer_ubos").insert(t)}return{success:!0,data:r,message:"Customer created successfully"}}catch(t){return console.error("Error creating customer:",t),{success:!1,error:t.message||"Failed to create customer"}}},getCustomers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{0,console.log("\ud83d\udd17 Fetching customers from real Supabase database...");const{data:r,error:n}=await hO.from("customers").select("\n          *,\n          natural_person_details(*),\n          legal_entity_details(*)\n        ").order("created_at",{ascending:!1}).range((e-1)*t,e*t-1);if(n)throw new Error(n.message);if(console.log("\ud83d\udd0d Raw customers data:",r),r&&r.length>0){const e=r.map(e=>e.id),{data:t,error:n}=await hO.from("natural_person_details").select("*").in("customer_id",e);n?console.warn("\u26a0\ufe0f Error fetching natural person details:",n):console.log("\ud83d\udc64 Natural person details:",t);const{data:a,error:i}=await hO.from("legal_entity_details").select("*").in("customer_id",e);i?console.warn("\u26a0\ufe0f Error fetching legal entity details:",i):console.log("\ud83c\udfe2 Legal entity details:",a),(t||a)&&r.forEach(e=>{if("Natural Person"===e.customer_type){const r=null===t||void 0===t?void 0:t.find(t=>t.customer_id===e.id);r&&(e.natural_person_details=r)}else if("Legal Entities"===e.customer_type){const t=null===a||void 0===a?void 0:a.find(t=>t.customer_id===e.id);t&&(e.legal_entity_details=t)}})}const{count:a}=await hO.from("customers").select("*",{count:"exact",head:!0});return{success:!0,data:r||[],count:a||0}}catch(r){return console.error("Error fetching customers:",r),{success:!1,error:r.message||"Failed to fetch customers"}}},getCustomerById:async e=>{try{const{data:r,error:n}=await hO.from("customers").select("\n          *,\n          natural_person_details(*),\n          legal_entity_details(*),\n          customer_directors(*),\n          customer_bank_details(*),\n          customer_ubos(*)\n        ").eq("id",e).single();if(n&&fO(n),r&&!r.natural_person_details&&!r.legal_entity_details)if("Natural Person"===r.customer_type){const{data:t,error:n}=await hO.from("natural_person_details").select("*").eq("customer_id",e).single();!n&&t&&(r.natural_person_details=t)}else if("Legal Entities"===r.customer_type){const{data:t,error:n}=await hO.from("legal_entity_details").select("*").eq("customer_id",e).single();!n&&t&&(r.legal_entity_details=t)}if(r)try{console.log("\ud83d\udd0d Fetching shareholders for customer:",e);const{data:t,error:n}=await hO.from("customer_shareholders").select("*").eq("customer_id",e);if(console.log("\ud83d\udd0d Main shareholders result:",{mainShareholders:t,mainError:n}),n)console.error("\ud83d\udc65 Error fetching main shareholders:",n),r.shareholders=[];else if(t&&0!==t.length){const e=[];for(const r of t){let t={id:r.id,type:r.entity_type,shareholding:r.shareholding_percentage};if("Natural Person"===r.entity_type){const{data:e,error:n}=await hO.from("shareholder_natural_person_details").select("*").eq("shareholder_id",r.id).single();!n&&e&&(t={...t,fullName:e.full_name,alias:e.alias,countryOfResidence:e.country_of_residence,nationality:e.nationality,dateOfBirth:e.date_of_birth,placeOfBirth:e.place_of_birth,phone:e.phone,email:e.email,address:e.address,sourceOfFunds:e.source_of_funds,sourceOfWealth:e.source_of_wealth,occupation:e.occupation,expectedIncome:e.expected_income_range,pep:e.pep_status,dualNationality:e.dual_nationality,isDirector:e.is_director,isUbo:e.is_ubo})}else if("Legal Entities"===r.entity_type){const{data:e,error:n}=await hO.from("shareholder_legal_entity_details").select("*").eq("shareholder_id",r.id).single();!n&&e&&(t={...t,legalName:e.legal_name,alias:e.alias,dateOfIncorporation:e.date_of_incorporation,countryOfIncorporation:e.country_of_incorporation,entityClass:e.entity_class,licenseType:e.license_type,licenseNumber:e.license_number,licenseIssueDate:e.license_issue_date,licenseExpiryDate:e.license_expiry_date,businessActivity:e.business_activity,countriesOfOperation:e.countries_of_operation,countriesSourceOfFunds:e.countries_source_of_funds,sourceOfFunds:e.source_of_funds,registeredOfficeAddress:e.registered_office_address,email:e.email,phone:e.phone,otherDetails:e.other_details})}else if("Trust"===r.entity_type){const{data:e,error:n}=await hO.from("shareholder_trust_details").select("*").eq("shareholder_id",r.id).single();!n&&e&&(t={...t,trustName:e.trust_name,alias:e.alias,trustRegistered:e.trust_registered,trustType:e.trust_type,jurisdictionOfLaw:e.jurisdiction_of_law,registeredAddress:e.registered_address,trusteeName:e.trustee_name,trusteeType:e.trustee_type})}e.push(t)}r.shareholders=e}else r.shareholders=[]}catch(t){console.error("Error fetching shareholders:",t),r.shareholders=[]}if(r)try{console.log("\ud83d\udc64 Fetching UBOs for customer:",e),console.log("\ud83d\udc64 Querying customer_ubos table for customer_id:",e);const{data:t,error:n}=await hO.from("customer_ubos").select("*").eq("customer_id",e).order("created_at",{ascending:!0});if(console.log("\ud83d\udc64 UBOs result:",{ubos:t,ubosError:n}),t&&t.length>0&&(console.log("\ud83d\udc64 Raw UBO from database:",t[0]),console.log("\ud83d\udc64 Raw UBO fields:",Object.keys(t[0])),console.log("\ud83d\udc64 Raw UBO values:",Object.values(t[0]))),n)console.error("\ud83d\udc64 Error fetching UBOs:",n),r.ubos=[];else if(t&&0!==t.length){const e=t.map(e=>({id:e.id,fullName:e.full_name||"",alias:e.alias||"",countryOfResidence:e.country_of_residence||"",nationality:e.nationality||"",dateOfBirth:e.date_of_birth||"",placeOfBirth:e.place_of_birth||"",phone:e.phone||"",email:e.email||"",address:e.address||"",sourceOfFunds:e.source_of_funds||"",sourceOfWealth:e.source_of_wealth||"",occupation:e.occupation||"",expectedIncome:e.expected_income||"",pep:e.pep||"",shareholding:e.shareholding?e.shareholding.toString():"",dualNationality:e.dual_nationality||""}));r.ubos=e,console.log("\ud83d\udc64 Transformed UBOs:",r.ubos),e.length>0&&(console.log("\ud83d\udc64 Transformed UBO fields:",Object.keys(e[0])),console.log("\ud83d\udc64 Transformed UBO values:",Object.values(e[0])))}else r.ubos=[]}catch(t){console.error("Error fetching UBOs:",t),r.ubos=[]}return r}catch(t){fO(t)}},updateCustomer:async(e,t)=>{try{const r={core_system_id:t.core_system_id,customer_type:t.customer_type,email:t.email,phone:t.phone,channel:t.channel,transaction_product:t.transaction_product,transaction_amount_limit:t.transaction_amount_limit,transaction_limit:t.transaction_limit,updated_at:(new Date).toISOString()},n=await gO("customers",e,r);if("Natural Person"===t.customer_type){const r={profession:t.profession,firstname:t.firstname,lastname:t.lastname,alias:t.alias,dateofbirth:t.dateofbirth,nationality:t.nationality,residencystatus:t.residencyStatus,idtype:t.idType,idnumber:t.idNumber,issuedate:t.issueDate,expirydate:t.expiryDate,isdualnationality:t.isDualNationality,dualnationality:t.isDualNationality?t.dualNationality:null,dualpassportnumber:t.isDualNationality?t.dualPassportNumber:null,dualpassportissuedate:t.isDualNationality?t.dualPassportIssueDate:null,dualpassportexpirydate:t.isDualNationality?t.dualPassportExpiryDate:null,countryofbirth:t.countryOfBirth,address:t.address,occupation:t.occupation,sourceofwealth:t.sourceOfWealth,pep:t.pep,sourceoffunds:t.sourceOfFunds,pobox:t.poBox,gender:t.gender,employer:t.employer},{data:n}=await hO.from("natural_person_details").select("customer_id").eq("customer_id",e).single();n?await hO.from("natural_person_details").update(r).eq("customer_id",e):await hO.from("natural_person_details").insert({customer_id:e,...r})}else if("Legal Entities"===t.customer_type){const r={businessactivity:Array.isArray(t.businessactivity)?JSON.stringify(t.businessactivity):t.businessactivity,legalname:t.legalname,alias:t.alias,dateofincorporation:t.dateofincorporation||null,countryofincorporation:t.countryofincorporation,licensetype:t.licensetype,licensenumber:t.licensenumber,licenseissuedate:t.licenseissuedate||null,licenseexpirydate:t.licenseexpirydate||null,registeredofficeaddress:t.registeredofficeaddress,city:t.city,countriessourceoffunds:Array.isArray(t.countriessourceoffunds)?JSON.stringify(t.countriessourceoffunds):t.countriessourceoffunds,managementcompany:t.managementcompany,countriesofoperation:Array.isArray(t.countriesofoperation)?JSON.stringify(t.countriesofoperation):t.countriesofoperation,jurisdiction:t.jurisdiction,sourceoffunds:t.sourceoffunds,residencystatus:t.residencystatus,licensingauthority:t.licensingauthority,trn:t.trn,licensecategory:t.licensecategory,addressexpirydate:t.addressexpirydate||null},{data:n}=await hO.from("legal_entity_details").select("customer_id").eq("customer_id",e).single();n?await hO.from("legal_entity_details").update(r).eq("customer_id",e):await hO.from("legal_entity_details").insert({customer_id:e,...r})}if(t.shareholders&&t.shareholders.length>0){const{data:r}=await hO.from("customer_shareholders").select("id").eq("customer_id",e);for(let n=0;n<t.shareholders.length;n++){const a=t.shareholders[n],i={customer_id:e,entity_type:a.type,shareholding_percentage:a.shareholding||null};if(r&&r[n]){await hO.from("customer_shareholders").update(i).eq("id",r[n].id);const e=r[n].id;if("Natural Person"===a.type){const t={full_name:a.fullName,alias:a.alias,country_of_residence:a.countryOfResidence,nationality:a.nationality,date_of_birth:a.dateOfBirth||null,place_of_birth:a.placeOfBirth,phone:a.phone,email:a.email,address:a.address,source_of_funds:a.sourceOfFunds,source_of_wealth:a.sourceOfWealth,occupation:a.occupation,expected_income_range:a.expectedIncome,pep_status:a.pep,dual_nationality:a.dualNationality,is_director:a.isDirector,is_ubo:a.isUbo},{data:r}=await hO.from("shareholder_natural_person_details").select("id").eq("shareholder_id",e).single();r?await hO.from("shareholder_natural_person_details").update(t).eq("shareholder_id",e):await hO.from("shareholder_natural_person_details").insert({shareholder_id:e,...t})}else if("Legal Entities"===a.type){const t={legal_name:a.legalName,alias:a.alias,date_of_incorporation:a.dateOfIncorporation||null,country_of_incorporation:a.countryOfIncorporation,entity_class:a.entityClass,license_type:a.licenseType,license_number:a.licenseNumber,license_issue_date:a.licenseIssueDate||null,license_expiry_date:a.licenseExpiryDate||null,business_activity:a.businessActivity,countries_of_operation:a.countriesOfOperation,countries_source_of_funds:a.countriesSourceOfFunds,source_of_funds:a.sourceOfFunds,registered_office_address:a.registeredOfficeAddress,email:a.email,phone:a.phone,other_details:a.otherDetails},{data:r}=await hO.from("shareholder_legal_entity_details").select("id").eq("shareholder_id",e).single();r?await hO.from("shareholder_legal_entity_details").update(t).eq("shareholder_id",e):await hO.from("shareholder_legal_entity_details").insert({shareholder_id:e,...t})}else if("Trust"===a.type){const t={trust_name:a.trustName,alias:a.alias,trust_registered:a.trustRegistered,trust_type:a.trustType,jurisdiction_of_law:a.jurisdictionOfLaw,registered_address:a.registeredAddress,trustee_name:a.trusteeName,trustee_type:a.trusteeType},{data:r}=await hO.from("shareholder_trust_details").select("id").eq("shareholder_id",e).single();r?await hO.from("shareholder_trust_details").update(t).eq("shareholder_id",e):await hO.from("shareholder_trust_details").insert({shareholder_id:e,...t})}}else{const e=await hO.from("customer_shareholders").insert(i).select().single();if(e.error){console.error("Error inserting new shareholder:",e.error);continue}const t=e.data.id;if("Natural Person"===a.type){const e={shareholder_id:t,full_name:a.fullName,alias:a.alias,country_of_residence:a.countryOfResidence,nationality:a.nationality,date_of_birth:a.dateOfBirth||null,place_of_birth:a.placeOfBirth,phone:a.phone,email:a.email,address:a.address,source_of_funds:a.sourceOfFunds,source_of_wealth:a.sourceOfWealth,occupation:a.occupation,expected_income_range:a.expectedIncome,pep_status:a.pep,dual_nationality:a.dualNationality,is_director:a.isDirector,is_ubo:a.isUbo};await hO.from("shareholder_natural_person_details").insert(e)}else if("Legal Entities"===a.type){const e={shareholder_id:t,legal_name:a.legalName,alias:a.alias,date_of_incorporation:a.dateOfIncorporation||null,country_of_incorporation:a.countryOfIncorporation,entity_class:a.entityClass,license_type:a.licenseType,license_number:a.licenseNumber,license_issue_date:a.licenseIssueDate||null,license_expiry_date:a.licenseExpiryDate||null,business_activity:a.businessActivity,countries_of_operation:a.countriesOfOperation,countries_source_of_funds:a.countriesSourceOfFunds,source_of_funds:a.sourceOfFunds,registered_office_address:a.registeredOfficeAddress,email:a.email,phone:a.phone,other_details:a.otherDetails};await hO.from("shareholder_legal_entity_details").insert(e)}else if("Trust"===a.type){const e={shareholder_id:t,trust_name:a.trustName,alias:a.alias,trust_registered:a.trustRegistered,trust_type:a.trustType,jurisdiction_of_law:a.jurisdictionOfLaw,registered_address:a.registeredAddress,trustee_name:a.trusteeName,trustee_type:a.trusteeType};await hO.from("shareholder_trust_details").insert(e)}}}if(r&&r.length>t.shareholders.length){const e=r.slice(t.shareholders.length).map(e=>e.id);for(const t of e)await hO.from("shareholder_natural_person_details").delete().eq("shareholder_id",t),await hO.from("shareholder_legal_entity_details").delete().eq("shareholder_id",t),await hO.from("shareholder_trust_details").delete().eq("shareholder_id",t);await hO.from("customer_shareholders").delete().in("id",e)}}else{const{data:t}=await hO.from("customer_shareholders").select("id").eq("customer_id",e);if(t&&t.length>0)for(const e of t)await hO.from("shareholder_natural_person_details").delete().eq("shareholder_id",e.id),await hO.from("shareholder_legal_entity_details").delete().eq("shareholder_id",e.id),await hO.from("shareholder_trust_details").delete().eq("shareholder_id",e.id);await hO.from("customer_shareholders").delete().eq("customer_id",e)}if(t.directors&&t.directors.length>0){const{data:r}=await hO.from("customer_directors").select("id").eq("customer_id",e);for(let n=0;n<t.directors.length;n++){const a=t.directors[n],i={customer_id:e,first_name:a.firstName,alias:a.alias,last_name:a.lastName,country_of_residence:a.countryOfResidence,nationality:a.nationality,date_of_birth:a.dateOfBirth,phone:a.phone,place_of_birth:a.placeOfBirth,email:a.email,address:a.address,city:a.city,occupation:a.occupation,pep_status:a.pepStatus,is_ceo:a.isCeo,is_representative:a.isRepresentative,dual_nationality:a.dualNationality};r&&r[n]?await hO.from("customer_directors").update(i).eq("id",r[n].id):await hO.from("customer_directors").insert(i)}if(r&&r.length>t.directors.length){const e=r.slice(t.directors.length).map(e=>e.id);await hO.from("customer_directors").delete().in("id",e)}}else await hO.from("customer_directors").delete().eq("customer_id",e);if(t.bankDetails&&t.bankDetails.length>0){const{data:r}=await hO.from("customer_bank_details").select("id").eq("customer_id",e);for(let n=0;n<t.bankDetails.length;n++){const a=t.bankDetails[n],i={customer_id:e,bank_name:a.bankName,alias:a.alias,account_type:a.accountType,currency:a.currency,bank_account_details:a.bankAccountDetails,account_number:a.accountNumber,iban:a.iban,swift:a.swift,mode_of_signatory:a.modeOfSignatory,internet_banking:a.internetBanking,bank_signatories:a.bankSignatories};r&&r[n]?await hO.from("customer_bank_details").update(i).eq("id",r[n].id):await hO.from("customer_bank_details").insert(i)}if(r&&r.length>t.bankDetails.length){const e=r.slice(t.bankDetails.length).map(e=>e.id);await hO.from("customer_bank_details").delete().in("id",e)}}else await hO.from("customer_bank_details").delete().eq("customer_id",e);if(t.ubos&&t.ubos.length>0){const{data:r}=await hO.from("customer_ubos").select("id").eq("customer_id",e);for(let n=0;n<t.ubos.length;n++){const a=t.ubos[n],i={customer_id:e,full_name:a.fullName||"",alias:a.alias||"",country_of_residence:a.countryOfResidence||"",nationality:a.nationality||"",date_of_birth:a.dateOfBirth||null,place_of_birth:a.placeOfBirth||"",phone:a.phone||"",email:a.email||"",address:a.address||"",source_of_funds:a.sourceOfFunds||"",source_of_wealth:a.sourceOfWealth||"",occupation:a.occupation||"",expected_income:a.expectedIncome||"",pep:a.pep||"",shareholding:a.shareholding?parseFloat(a.shareholding):null,dual_nationality:a.dualNationality||""};r&&r[n]?await hO.from("customer_ubos").update(i).eq("id",r[n].id):await hO.from("customer_ubos").insert(i)}if(r&&r.length>t.ubos.length){const e=r.slice(t.ubos.length).map(e=>e.id);await hO.from("customer_ubos").delete().in("id",e)}}else await hO.from("customer_ubos").delete().eq("customer_id",e);const a=await kO.getCustomerById(e),i=_O(a),s=i>=70?"High":i>=40?"Medium":"Low";return await gO("customers",e,{risk_score:i,risk_level:s}),{success:!0,data:n,message:"Customer updated successfully"}}catch(r){return console.error("Error updating customer:",r),{success:!1,error:r.message||"Failed to update customer"}}},updateKYCStatus:async(e,t)=>{try{const r=await pO(),n={customer_id:e,...t,updated_by:r.id,updated_at:(new Date).toISOString()},{data:a}=await hO.from("kyc_details").select("id").eq("customer_id",e).single();return a?await gO("kyc_details",a.id,n):await mO("kyc_details",n),await hO.from("kyc_status_logs").insert({customer_id:e,status:t.status,reason:t.reason||"",updated_by:r.id,created_at:(new Date).toISOString()}),{success:!0,message:"KYC status updated successfully"}}catch(r){fO(r)}},updateRiskProfile:async(e,t)=>{try{const r=await pO(),n={customer_id:e,...t,updated_by:r.id,updated_at:(new Date).toISOString()},{data:a}=await hO.from("risk_profile_overrides").select("id").eq("customer_id",e).single();return a?await gO("risk_profile_overrides",a.id,n):await mO("risk_profile_overrides",n),{success:!0,message:"Risk profile updated successfully"}}catch(r){fO(r)}},getCustomerStats:async()=>{try{const{data:e}=await hO.from("customers").select("id",{count:"exact"}),{data:t}=await hO.from("customers").select("risk_level"),r={total:(null===e||void 0===e?void 0:e.length)||0,byRiskLevel:{Low:(null===t||void 0===t?void 0:t.filter(e=>"Low"===e.risk_level).length)||0,Medium:(null===t||void 0===t?void 0:t.filter(e=>"Medium"===e.risk_level).length)||0,High:(null===t||void 0===t?void 0:t.filter(e=>"High"===e.risk_level).length)||0},byStatus:{Active:(null===t||void 0===t?void 0:t.filter(e=>"Active"===e.status).length)||0,Inactive:(null===t||void 0===t?void 0:t.filter(e=>"Inactive"===e.status).length)||0}};return r}catch(e){fO(e)}},searchCustomers:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{0,console.log("\ud83d\udd17 Searching customers in real Supabase database...");let r=hO.from("customers").select("*").or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,email.ilike.%${e}%`);Object.entries(t).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&""!==n&&(r=r.eq(t,n))});const{data:n,error:a}=await r;return a?(console.error("Supabase search error:",a),{success:!1,error:a.message}):{success:!0,data:n||[]}}catch(r){return console.error("Error searching customers:",r),{success:!1,error:r.message||"Failed to search customers"}}},reEvaluateAllRiskScores:async()=>{try{console.log("\ud83d\udd04 Starting risk score re-evaluation for all customers...");const t=await kO.getCustomers(1,1e3);if(!t.success)return{success:!1,error:t.error};const r=t.data;let n=0,a=0;for(const i of r)try{const e=_O(i),t=e>=70?"High":e>=40?"Medium":"Low";await kO.updateCustomer(i.id,{risk_score:e,risk_level:t}),n++}catch(e){console.error(`Error updating customer ${i.id}:`,e),a++}return console.log(`\u2705 Risk re-evaluation completed: ${n} updated, ${a} errors`),{success:!0,message:`Re-evaluated ${n} customers successfully`,updatedCount:n,errorCount:a}}catch(e){return console.error("Error in risk re-evaluation:",e),{success:!1,error:e.message||"Failed to re-evaluate risk scores"}}},reEvaluateCustomerRiskScore:async e=>{try{const t=await kO.getCustomerById(e);if(!t)return{success:!1,error:"Customer not found"};const r=_O(t),n=r>=70?"High":r>=40?"Medium":"Low";return await kO.updateCustomer(e,{risk_score:r,risk_level:n}),{success:!0,message:"Risk score updated successfully",data:{risk_score:r,risk_level:n}}}catch(t){return console.error("Error re-evaluating customer risk score:",t),{success:!1,error:t.message||"Failed to re-evaluate risk score"}}},saveNaturalPersonDetails:async(e,t)=>{try{console.log("\ud83d\udcbe Saving natural person details for customer:",e);const r={customer_id:e,...t},n=await hO.from("natural_person_details").insert(r).select();if(n.error)throw new Error(n.error.message);return{success:!0,data:n.data[0],message:"Natural person details saved successfully"}}catch(r){return console.error("Error saving natural person details:",r),{success:!1,error:r.message||"Failed to save natural person details"}}},saveLegalEntityDetails:async(e,t)=>{try{console.log("\ud83d\udcbe Saving legal entity details for customer:",e),console.log("\ud83d\udcbe Detail data received:",t),console.log("\ud83d\udcbe Detail data type:",typeof t),console.log("\ud83d\udcbe Detail data keys:",Object.keys(t));const r={customer_id:e,...t};console.log("\ud83d\udcbe Final payload to insert:",r);const n=await hO.from("legal_entity_details").insert(r).select();if(console.log("\ud83d\udcbe Supabase insert result:",n),n.error)throw console.error("\ud83d\udcbe Supabase insert error:",n.error),new Error(n.error.message);return{success:!0,data:n.data[0],message:"Legal entity details saved successfully"}}catch(r){return console.error("Error saving legal entity details:",r),{success:!1,error:r.message||"Failed to save legal entity details"}}},getShareholderById:async e=>{try{0;const{data:t,error:r}=await hO.from("customer_shareholders").select("*").eq("id",e).single();if(r)throw console.error("\ud83d\udc65 Error fetching main shareholder:",r),new Error(`Failed to fetch main shareholder: ${r.message}`);if(!t)return{success:!0,data:null,message:"Shareholder not found"};let n={id:t.id,type:t.entity_type,shareholding:t.shareholding_percentage};if("Natural Person"===t.entity_type){const{data:e,error:r}=await hO.from("shareholder_natural_person_details").select("*").eq("shareholder_id",t.id).single();r?console.error("\ud83d\udc65 Error fetching natural person details:",r):e&&(n={...n,fullName:e.full_name,alias:e.alias,countryOfResidence:e.country_of_residence,nationality:e.nationality,dateOfBirth:e.date_of_birth,placeOfBirth:e.place_of_birth,phone:e.phone,email:e.email,address:e.address,sourceOfFunds:e.source_of_funds,sourceOfWealth:e.source_of_wealth,occupation:e.occupation,expectedIncome:e.expected_income_range,pep:e.pep_status,dualNationality:e.dual_nationality,isDirector:e.is_director,isUbo:e.is_ubo})}else if("Legal Entities"===t.entity_type){const{data:e,error:r}=await hO.from("shareholder_legal_entity_details").select("*").eq("shareholder_id",t.id).single();r?console.error("\ud83d\udc65 Error fetching legal entity details:",r):e&&(n={...n,legalName:e.legal_name,alias:e.alias,dateOfIncorporation:e.date_of_incorporation,countryOfIncorporation:e.country_of_incorporation,entityClass:e.entity_class,licenseType:e.license_type,licenseNumber:e.license_number,licenseIssueDate:e.license_issue_date,licenseExpiryDate:e.license_expiry_date,businessActivity:e.business_activity,countriesOfOperation:e.countries_of_operation,countriesSourceOfFunds:e.countries_source_of_funds,sourceOfFunds:e.source_of_funds,registeredOfficeAddress:e.registered_office_address,email:e.email,phone:e.phone,otherDetails:e.other_details})}else if("Trust"===t.entity_type){const{data:e,error:r}=await hO.from("shareholder_trust_details").select("*").eq("shareholder_id",t.id).single();r?console.error("\ud83d\udc65 Error fetching trust details:",r):e&&(n={...n,trustName:e.trust_name,alias:e.alias,trustRegistered:e.trust_registered,trustType:e.trust_type,jurisdictionOfLaw:e.jurisdiction_of_law,registeredAddress:e.registered_address,trusteeName:e.trustee_name,trusteeType:e.trustee_type})}return{success:!0,data:n,message:"Shareholder fetched successfully from normalized structure"}}catch(t){return console.error("Error fetching shareholder:",t),{success:!1,error:t.message||"Failed to fetch shareholder"}}},getShareholders:async e=>{try{0;const{data:t,error:r}=await hO.from("customer_shareholders").select("*").eq("customer_id",e);if(r)throw console.error("\ud83d\udc65 Error fetching main shareholders:",r),new Error(`Failed to fetch main shareholders: ${r.message}`);if(!t||0===t.length)return{success:!0,data:[],message:"No shareholders found"};const n=[];for(const e of t){let t={id:e.id,type:e.entity_type,shareholding:e.shareholding_percentage};if("Natural Person"===e.entity_type){const{data:r,error:n}=await hO.from("shareholder_natural_person_details").select("*").eq("shareholder_id",e.id).single();if(n){console.error("\ud83d\udc65 Error fetching natural person details:",n);continue}r&&(t={...t,fullName:r.full_name,alias:r.alias,countryOfResidence:r.country_of_residence,nationality:r.nationality,dateOfBirth:r.date_of_birth,placeOfBirth:r.place_of_birth,phone:r.phone,email:r.email,address:r.address,sourceOfFunds:r.source_of_funds,sourceOfWealth:r.source_of_wealth,occupation:r.occupation,expectedIncome:r.expected_income_range,pep:r.pep_status,dualNationality:r.dual_nationality,isDirector:r.is_director,isUbo:r.is_ubo})}else if("Legal Entities"===e.entity_type){const{data:r,error:n}=await hO.from("shareholder_legal_entity_details").select("*").eq("shareholder_id",e.id).single();if(n){console.error("\ud83d\udc65 Error fetching legal entity details:",n);continue}console.log("\ud83d\udd0d Legal Entity details fetched:",r),r&&(t={...t,legalName:r.legal_name,alias:r.alias,dateOfIncorporation:r.date_of_incorporation,countryOfIncorporation:r.country_of_incorporation,entityClass:r.entity_class,licenseType:r.license_type,licenseNumber:r.license_number,licenseIssueDate:r.license_issue_date,licenseExpiryDate:r.license_expiry_date,businessActivity:r.business_activity,countriesOfOperation:r.countries_of_operation,countriesSourceOfFunds:r.countries_source_of_funds,sourceOfFunds:r.source_of_funds,registeredOfficeAddress:r.registered_office_address,email:r.email,phone:r.phone,otherDetails:r.other_details},console.log("\ud83d\udd0d Legal Entity shareholderData after mapping:",t))}else if("Trust"===e.entity_type){const{data:r,error:n}=await hO.from("shareholder_trust_details").select("*").eq("shareholder_id",e.id).single();if(n){console.error("\ud83d\udc65 Error fetching trust details:",n);continue}console.log("\ud83d\udd0d Trust details fetched:",r),r&&(t={...t,trustName:r.trust_name,alias:r.alias,trustRegistered:r.trust_registered,trustType:r.trust_type,jurisdictionOfLaw:r.jurisdiction_of_law,registeredAddress:r.registered_address,trusteeName:r.trustee_name,trusteeType:r.trustee_type},console.log("\ud83d\udd0d Trust shareholderData after mapping:",t))}n.push(t)}return{success:!0,data:n,message:"Shareholders fetched successfully from normalized structure"}}catch(t){return console.error("Error fetching shareholders:",t),{success:!1,error:t.message||"Failed to fetch shareholders"}}},saveShareholders:async(e,t)=>{try{if(console.log("\ud83d\udc65 Saving shareholders for customer:",e),console.log("\ud83d\udc65 Shareholders data:",t),!t||0===t.length)return{success:!0,message:"No shareholders to save"};for(const r of t){const t={customer_id:e,entity_type:r.type,shareholding_percentage:r.shareholding||null},n=await hO.from("customer_shareholders").insert(t).select().single();if(n.error)throw console.error("\ud83d\udc65 Error inserting main shareholder:",n.error),new Error(`Failed to insert main shareholder: ${n.error.message}`);const a=n.data.id;if(console.log("\ud83d\udc65 Main shareholder inserted with ID:",a),"Natural Person"===r.type){const e={shareholder_id:a,full_name:r.fullName,alias:r.alias,country_of_residence:r.countryOfResidence,nationality:r.nationality,date_of_birth:r.dateOfBirth||null,place_of_birth:r.placeOfBirth,phone:r.phone,email:r.email,address:r.address,source_of_funds:r.sourceOfFunds,source_of_wealth:r.sourceOfWealth,occupation:r.occupation,expected_income_range:r.expectedIncome,pep_status:r.pep,dual_nationality:r.dualNationality,is_director:r.isDirector,is_ubo:r.isUbo},t=await hO.from("shareholder_natural_person_details").insert(e);if(t.error)throw console.error("\ud83d\udc65 Error inserting natural person details:",t.error),new Error(`Failed to insert natural person details: ${t.error.message}`)}else if("Legal Entities"===r.type){const e={shareholder_id:a,legal_name:r.legalName,alias:r.alias,date_of_incorporation:r.dateOfIncorporation||null,country_of_incorporation:r.countryOfIncorporation,entity_class:r.entityClass,license_type:r.licenseType,license_number:r.licenseNumber,license_issue_date:r.licenseIssueDate||null,license_expiry_date:r.licenseExpiryDate||null,business_activity:r.businessActivity,countries_of_operation:r.countriesOfOperation,countries_source_of_funds:r.countriesSourceOfFunds,source_of_funds:r.sourceOfFunds,registered_office_address:r.registeredOfficeAddress,email:r.email,phone:r.phone,other_details:r.otherDetails},t=await hO.from("shareholder_legal_entity_details").insert(e);if(t.error)throw console.error("\ud83d\udc65 Error inserting legal entity details:",t.error),new Error(`Failed to insert legal entity details: ${t.error.message}`)}else if("Trust"===r.type){const e={shareholder_id:a,trust_name:r.trustName,alias:r.alias,trust_registered:r.trustRegistered,trust_type:r.trustType,jurisdiction_of_law:r.jurisdictionOfLaw,registered_address:r.registeredAddress,trustee_name:r.trusteeName,trustee_type:r.trusteeType},t=await hO.from("shareholder_trust_details").insert(e);if(t.error)throw console.error("\ud83d\udc65 Error inserting trust details:",t.error),new Error(`Failed to insert trust details: ${t.error.message}`)}}return{success:!0,message:"Shareholders saved successfully to normalized structure"}}catch(r){return console.error("Error saving shareholders:",r),{success:!1,error:r.message||"Failed to save shareholders"}}},deleteShareholderById:async e=>{try{0;const{data:t,error:r}=await hO.from("customer_shareholders").select("entity_type").eq("id",e).single();if(r)throw console.error("\ud83d\udc65 Error fetching shareholder for deletion:",r),new Error(`Failed to fetch shareholder for deletion: ${r.message}`);if("Natural Person"===t.entity_type){const{error:t}=await hO.from("shareholder_natural_person_details").delete().eq("shareholder_id",e);if(t)throw console.error("\ud83d\udc65 Error deleting natural person details:",t),new Error(`Failed to delete natural person details: ${t.message}`)}else if("Legal Entities"===t.entity_type){const{error:t}=await hO.from("shareholder_legal_entity_details").delete().eq("shareholder_id",e);if(t)throw console.error("\ud83d\udc65 Error deleting legal entity details:",t),new Error(`Failed to delete legal entity details: ${t.message}`)}else if("Trust"===t.entity_type){const{error:t}=await hO.from("shareholder_trust_details").delete().eq("shareholder_id",e);if(t)throw console.error("\ud83d\udc65 Error deleting trust details:",t),new Error(`Failed to delete trust details: ${t.message}`)}const{error:n}=await hO.from("customer_shareholders").delete().eq("id",e);if(n)throw console.error("\ud83d\udc65 Error deleting main shareholder:",n),new Error(`Failed to delete main shareholder: ${n.message}`);return{success:!0,message:"Shareholder deleted successfully"}}catch(t){return console.error("Error deleting shareholder:",t),{success:!1,error:t.message||"Failed to delete shareholder"}}},deleteShareholders:async e=>{try{0;const{data:t,error:r}=await hO.from("customer_shareholders").select("id").eq("customer_id",e);if(r)throw console.error("\ud83d\udc65 Error fetching shareholders for deletion:",r),new Error(`Failed to fetch shareholders for deletion: ${r.message}`);if(t&&t.length>0)for(const e of t)await hO.from("shareholder_natural_person_details").delete().eq("shareholder_id",e.id),await hO.from("shareholder_legal_entity_details").delete().eq("shareholder_id",e.id),await hO.from("shareholder_trust_details").delete().eq("shareholder_id",e.id);const{error:n}=await hO.from("customer_shareholders").delete().eq("customer_id",e);if(n)throw console.error("\ud83d\udc65 Error deleting main shareholders:",n),new Error(`Failed to delete main shareholders: ${n.message}`);return{success:!0,message:"Shareholders deleted successfully"}}catch(t){return console.error("Error deleting shareholders:",t),{success:!1,error:t.message||"Failed to delete shareholders"}}},getDirectors:async e=>{try{0;const{data:t,error:r}=await hO.from("customer_directors").select("*").eq("customer_id",e);if(r)throw console.error("\ud83d\udc54 Error fetching directors:",r),new Error(`Failed to fetch directors: ${r.message}`);return{success:!0,data:t.map(e=>({id:e.id,firstName:e.first_name,alias:e.alias,lastName:e.last_name,countryOfResidence:e.country_of_residence,nationality:e.nationality,dateOfBirth:e.date_of_birth,phone:e.phone,placeOfBirth:e.place_of_birth,email:e.email,address:e.address,city:e.city,occupation:e.occupation,pepStatus:e.pep_status,isCeo:e.is_ceo,isRepresentative:e.is_representative,dualNationality:e.dual_nationality})),message:"Directors fetched successfully"}}catch(t){return console.error("Error fetching directors:",t),{success:!1,error:t.message||"Failed to fetch directors"}}},getDirectorById:async e=>{try{0;const{data:t,error:r}=await hO.from("customer_directors").select("*").eq("id",e).single();if(r)throw console.error("\ud83d\udc54 Error fetching director:",r),new Error(`Failed to fetch director: ${r.message}`);return{success:!0,data:{id:t.id,firstName:t.first_name,alias:t.alias,lastName:t.last_name,countryOfResidence:t.country_of_residence,nationality:t.nationality,dateOfBirth:t.date_of_birth,phone:t.phone,placeOfBirth:t.place_of_birth,email:t.email,address:t.address,city:t.city,occupation:t.occupation,pepStatus:t.pep_status,isCeo:t.is_ceo,isRepresentative:t.is_representative,dualNationality:t.dual_nationality},message:"Director fetched successfully"}}catch(t){return console.error("Error fetching director:",t),{success:!1,error:t.message||"Failed to fetch director"}}},deleteDirectorById:async e=>{try{0;const{error:t}=await hO.from("customer_directors").delete().eq("id",e);if(t)throw console.error("\ud83d\udc54 Error deleting director:",t),new Error(`Failed to delete director: ${t.message}`);return{success:!0,message:"Director deleted successfully"}}catch(t){return console.error("Error deleting director:",t),{success:!1,error:t.message||"Failed to delete director"}}},saveDirectors:async(e,t)=>{try{if(console.log("\ud83d\udc54 Saving directors for customer:",e),console.log("\ud83d\udc54 Directors data:",t),console.log("\ud83d\udc54 First director fields:",t[0]?Object.keys(t[0]):"No directors"),console.log("\ud83d\udc54 First director values:",t[0]?Object.values(t[0]):"No directors"),!t||0===t.length)return{success:!0,message:"No directors to save"};const r=t.map(t=>({customer_id:e,first_name:t.firstName,last_name:t.lastName,alias:t.alias,country_of_residence:t.countryOfResidence,nationality:t.nationality,date_of_birth:t.dateOfBirth||null,phone:t.phone,place_of_birth:t.placeOfBirth,email:t.email,address:t.address,city:t.city,occupation:t.occupation,pep_status:t.pepStatus,is_ceo:t.isCeo,is_representative:t.isRepresentative,dual_nationality:t.dualNationality}));console.log("\ud83d\udc54 Final directors payload:",r);const n=await hO.from("customer_directors").insert(r).select();if(console.log("\ud83d\udc54 Supabase insert result:",n),n.error)throw console.error("\ud83d\udc54 Supabase insert error:",n.error),new Error(n.error.message);return{success:!0,data:n.data,message:"Directors saved successfully"}}catch(r){return console.error("Error saving directors:",r),{success:!1,error:r.message||"Failed to save directors"}}},saveBankDetails:async(e,t)=>{try{if(console.log("\ud83c\udfe6 Saving bank details for customer:",e),console.log("\ud83c\udfe6 Bank details data:",t),console.log("\ud83c\udfe6 First bank detail fields:",t[0]?Object.keys(t[0]):"No bank details"),console.log("\ud83c\udfe6 First bank detail values:",t[0]?Object.values(t[0]):"No bank details"),!t||0===t.length)return{success:!0,message:"No bank details to save"};const r=t.map(t=>({customer_id:e,bank_name:t.bankName,alias:t.alias,account_type:t.accountType,currency:t.currency,bank_account_details:t.bankAccountDetails,account_number:t.accountNumber,iban:t.iban,swift:t.swift,mode_of_signatory:t.modeOfSignatory,internet_banking:t.internetBanking,bank_signatories:t.bankSignatories}));console.log("\ud83c\udfe6 Final bank details payload:",r);const n=await hO.from("customer_bank_details").insert(r).select();if(console.log("\ud83c\udfe6 Supabase insert result:",n),n.error)throw console.error("\ud83c\udfe6 Supabase insert error:",n.error),new Error(n.error.message);return{success:!0,data:n.data,message:"Bank details saved successfully"}}catch(r){return console.error("Error saving bank details:",r),{success:!1,error:r.message||"Failed to save bank details"}}},saveUbos:async(e,t)=>{try{if(console.log("\ud83d\udc64 Saving UBOs for customer:",e),console.log("\ud83d\udc64 UBOs data:",t),!t||0===t.length)return{success:!0,message:"No UBOs to save"};const r=t.map(t=>({customer_id:e,full_name:t.fullName||"",alias:t.alias||"",country_of_residence:t.countryOfResidence||"",nationality:t.nationality||"",date_of_birth:t.dateOfBirth||null,place_of_birth:t.placeOfBirth||"",phone:t.phone||"",email:t.email||"",address:t.address||"",source_of_funds:t.sourceOfFunds||"",source_of_wealth:t.sourceOfWealth||"",occupation:t.occupation||"",expected_income:t.expectedIncome||"",pep:t.pep||"",shareholding:t.shareholding?parseFloat(t.shareholding):null,dual_nationality:t.dualNationality||""}));console.log("\ud83d\udc64 Final UBOs payload:",r);const n=await hO.from("customer_ubos").insert(r).select();if(console.log("\ud83d\udc64 Supabase insert result:",n),n.error)throw console.error("\ud83d\udc64 Supabase insert error:",n.error),new Error(n.error.message);return{success:!0,data:n.data,message:"UBOs saved successfully"}}catch(r){return console.error("Error saving UBOs:",r),{success:!1,error:r.message||"Failed to save UBOs"}}},getUbos:async e=>{try{console.log("\ud83d\udc64 Fetching UBOs for customer:",e);const{data:t,error:r}=await hO.from("customer_ubos").select("*").eq("customer_id",e).order("created_at",{ascending:!0});if(r)throw console.error("\ud83d\udc64 Error fetching UBOs:",r),new Error(r.message);const n=t.map(e=>({id:e.id,fullName:e.full_name||"",alias:e.alias||"",countryOfResidence:e.country_of_residence||"",nationality:e.nationality||"",dateOfBirth:e.date_of_birth||"",placeOfBirth:e.place_of_birth||"",phone:e.phone||"",email:e.email||"",address:e.address||"",sourceOfFunds:e.source_of_funds||"",sourceOfWealth:e.source_of_wealth||"",occupation:e.occupation||"",expectedIncome:e.expected_income||"",pep:e.pep||"",shareholding:e.shareholding||"",dualNationality:e.dual_nationality||""}));return console.log("\ud83d\udc64 Transformed UBOs:",n),{success:!0,data:n,message:"UBOs fetched successfully"}}catch(t){return console.error("Error fetching UBOs:",t),{success:!1,error:t.message||"Failed to fetch UBOs"}}},getUboById:async e=>{try{console.log("\ud83d\udc64 Fetching UBO by ID:",e);const{data:t,error:r}=await hO.from("customer_ubos").select("*").eq("id",e).single();if(r)throw console.error("\ud83d\udc64 Error fetching UBO:",r),new Error(r.message);if(!t)return{success:!1,error:"UBO not found"};return{success:!0,data:{id:t.id,fullName:t.full_name||"",alias:t.alias||"",countryOfResidence:t.country_of_residence||"",nationality:t.nationality||"",dateOfBirth:t.date_of_birth||"",placeOfBirth:t.place_of_birth||"",phone:t.phone||"",email:t.email||"",address:t.address||"",sourceOfFunds:t.source_of_funds||"",sourceOfWealth:t.source_of_wealth||"",occupation:t.occupation||"",expectedIncome:t.expected_income||"",pep:t.pep||"",shareholding:t.shareholding?t.shareholding.toString():"",dualNationality:t.dual_nationality||""},message:"UBO fetched successfully"}}catch(t){return console.error("Error fetching UBO:",t),{success:!1,error:t.message||"Failed to fetch UBO"}}},deleteUboById:async e=>{try{console.log("\ud83d\udc64 Deleting UBO by ID:",e);const{error:t}=await hO.from("customer_ubos").delete().eq("id",e);if(t)throw console.error("\ud83d\udc64 Error deleting UBO:",t),new Error(t.message);return{success:!0,message:"UBO deleted successfully"}}catch(t){return console.error("Error deleting UBO:",t),{success:!1,error:t.message||"Failed to delete UBO"}}},checkCoreSystemIdExists:async e=>{try{console.log("\ud83d\udd0d Checking if core system ID exists:",e);const{data:t,error:r}=await hO.from("customers").select("id").eq("core_system_id",e).single();if(r&&"PGRST116"!==r.code)throw new Error(r.message);const n=!!t;return{exists:n,message:n?"Core System ID already exists":"Core System ID is available"}}catch(t){return console.error("Error checking core system ID:",t),{exists:!1,error:t.message||"Failed to check core system ID"}}},calculateAndUpdateRiskScore:async(e,t)=>{try{console.log("\ud83d\udd04 Calculating risk score for customer:",e);const r=_O(t),n=r>=70?"High":r>=40?"Medium":"Low";let a="Standard";a="High"===n?"Enhanced":"Medium"===n?"Standard":"Basic";const i={risk_score:r,risk_level:n,due_diligence_level:a,updated_at:(new Date).toISOString()},s=await hO.from("customers").update(i).eq("id",e).select();if(s.error)throw new Error(s.error.message);return{success:!0,data:i,message:"Risk score calculated and updated successfully"}}catch(r){return console.error("Error calculating and updating risk score:",r),{success:!1,error:r.message||"Failed to calculate and update risk score"}}},deleteCustomer:async e=>{try{console.log("\ud83d\uddd1\ufe0f Deleting customer and all related data:",e);const{data:t,error:r}=await hO.from("customers").select("customer_type").eq("id",e).single();if(r)throw console.error("Error fetching customer type:",r),new Error(`Failed to fetch customer type: ${r.message}`);console.log("\ud83d\udd0d Customer type:",t.customer_type);const{data:n,error:a}=await hO.from("customer_ubos").select("id").eq("customer_id",e).limit(1);if(a)throw console.error("Error checking UBOs:",a),new Error(`Failed to check UBOs: ${a.message}`);const i=n&&n.length>0;console.log("\ud83d\udd0d Customer has UBOs:",i);const{data:s,error:o}=await hO.from("customer_shareholders").select("id").eq("customer_id",e).limit(1);if(o)throw console.error("Error checking shareholders:",o),new Error(`Failed to check shareholders: ${o.message}`);const l=s&&s.length>0;console.log("\ud83d\udd0d Customer has shareholders:",l);const{data:c,error:u}=await hO.from("customer_directors").select("id").eq("customer_id",e).limit(1);if(u)throw console.error("Error checking directors:",u),new Error(`Failed to check directors: ${u.message}`);const d=c&&c.length>0;console.log("\ud83d\udd0d Customer has directors:",d);const{data:h,error:f}=await hO.from("customer_bank_details").select("id").eq("customer_id",e).limit(1);if(f)throw console.error("Error checking bank details:",f),new Error(`Failed to check bank details: ${f.message}`);const p=h&&h.length>0;if(console.log("\ud83d\udd0d Customer has bank details:",p),i){console.log("\ud83d\uddd1\ufe0f Deleting UBOs...");const{error:t}=await hO.from("customer_ubos").delete().eq("customer_id",e);if(t)throw console.error("Error deleting UBOs:",t),new Error(`Failed to delete UBOs: ${t.message}`);console.log("\u2705 UBOs deleted successfully")}else console.log("\u23ed\ufe0f Skipping UBOs deletion - no UBOs exist");if(p){console.log("\ud83d\uddd1\ufe0f Deleting bank details...");const{error:t}=await hO.from("customer_bank_details").delete().eq("customer_id",e);if(t)throw console.error("Error deleting bank details:",t),new Error(`Failed to delete bank details: ${t.message}`);console.log("\u2705 Bank details deleted successfully")}else console.log("\u23ed\ufe0f Skipping bank details deletion - no bank details exist");if(d){console.log("\ud83d\uddd1\ufe0f Deleting directors...");const{error:t}=await hO.from("customer_directors").delete().eq("customer_id",e);if(t)throw console.error("Error deleting directors:",t),new Error(`Failed to delete directors: ${t.message}`);console.log("\u2705 Directors deleted successfully")}else console.log("\u23ed\ufe0f Skipping directors deletion - no directors exist");if(l){console.log("\ud83d\uddd1\ufe0f Deleting shareholders and details...");const{data:t,error:r}=await hO.from("customer_shareholders").select("id").eq("customer_id",e);if(r)throw console.error("Error fetching shareholders:",r),new Error(`Failed to fetch shareholders: ${r.message}`);if(t&&t.length>0){const e=t.map(e=>e.id);console.log(`\ud83d\udd0d Found ${t.length} shareholders to delete`);const{error:r}=await hO.from("shareholder_natural_person_details").delete().in("shareholder_id",e);if(r)throw console.error("Error deleting natural person details:",r),new Error(`Failed to delete natural person details: ${r.message}`);console.log("\u2705 Shareholder natural person details deleted");const{error:n}=await hO.from("shareholder_legal_entity_details").delete().in("shareholder_id",e);if(n)throw console.error("Error deleting legal entity details:",n),new Error(`Failed to delete legal entity details: ${n.message}`);console.log("\u2705 Shareholder legal entity details deleted");const{error:a}=await hO.from("shareholder_trust_details").delete().in("shareholder_id",e);if(a)throw console.error("Error deleting trust details:",a),new Error(`Failed to delete trust details: ${a.message}`);console.log("\u2705 Shareholder trust details deleted")}const{error:n}=await hO.from("customer_shareholders").delete().eq("customer_id",e);if(n)throw console.error("Error deleting shareholders:",n),new Error(`Failed to delete shareholders: ${n.message}`);console.log("\u2705 Main shareholder records deleted")}else console.log("\u23ed\ufe0f Skipping shareholders deletion - no shareholders exist");if("Natural Person"===t.customer_type){console.log("\ud83d\uddd1\ufe0f Deleting natural person details...");const{error:t}=await hO.from("natural_person_details").delete().eq("customer_id",e);if(t)throw console.error("Error deleting natural person details:",t),new Error(`Failed to delete natural person details: ${t.message}`);console.log("\u2705 Natural person details deleted")}else if("Legal Entities"===t.customer_type){console.log("\ud83d\uddd1\ufe0f Deleting legal entity details...");const{error:t}=await hO.from("legal_entity_details").delete().eq("customer_id",e);if(t)throw console.error("Error deleting legal entity details:",t),new Error(`Failed to delete legal entity details: ${t.message}`);console.log("\u2705 Legal entity details deleted")}else console.log("\u26a0\ufe0f Unknown customer type:",t.customer_type);console.log("\ud83d\uddd1\ufe0f Deleting main customer record...");const{error:m}=await hO.from("customers").delete().eq("id",e);if(m)throw console.error("Error deleting customer:",m),new Error(`Failed to delete customer: ${m.message}`);return console.log("\u2705 Main customer record deleted"),console.log("\ud83c\udf89 Customer and all related data deleted successfully!"),{success:!0,message:"Customer and all related data deleted successfully"}}catch(t){return console.error("Error deleting customer:",t),{success:!1,error:t.message||"Failed to delete customer"}}}},AO={screenCustomer:async e=>{await new Promise(e=>setTimeout(e,800));const t=[];"Iran"!==e.nationality&&"North Korea"!==e.nationality||t.push({id:"DJ001",recordType:"Individual",name:e.fullName,score:95,searchType:"Exact",primaryName:e.fullName,searchList:"Sanctions",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"Sanctioned Individual",source:"Dow Jones"}),e.fullName.toLowerCase().includes("khan")&&"Pakistan"===e.nationality&&t.push({id:"DJ002",recordType:"Individual",name:e.fullName,score:85,searchType:"Broad",primaryName:e.fullName,searchList:"PEP",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"Potential PEP",source:"Dow Jones"});return{success:!0,matches:[...t,{id:"DJ003",recordType:"Individual",name:"John Smith",score:92,searchType:"Near",primaryName:"John A. Smith",searchList:"PEP",dob:"1980-06-20",country:"UK",gender:"Male",isSubsidiary:!1,title:"Minister",source:"Dow Jones"},{id:"DJ004",recordType:"Entity",name:"Global FinCorp",score:88,searchType:"Exact",primaryName:"Global FinCorp Ltd.",searchList:"Sanctions",dob:"N/A",country:"USA",gender:"N/A",isSubsidiary:!0,title:"Subsidiary",source:"Dow Jones"},{id:"DJ005",recordType:"Individual",name:"Sarah Johnson",score:85,searchType:"Broad",primaryName:"S. Johnson",searchList:"PEP",dob:"1975-03-15",country:"Canada",gender:"Female",isSubsidiary:!1,title:"Senator",source:"Dow Jones"}],totalScreened:1,timestamp:(new Date).toISOString(),source:"Dow Jones"}},screenBatch:async e=>{await new Promise(e=>setTimeout(e,1200));const t=[];for(const r of e){const e=await AO.screenCustomer(r);t.push(e)}return{success:!0,batchId:`BATCH-${Date.now()}`,results:t,totalProcessed:e.length,timestamp:(new Date).toISOString()}}},CO=async e=>{await new Promise(e=>setTimeout(e,500));const t=[];(e.fullName.toLowerCase().includes("al-qaeda")||e.fullName.toLowerCase().includes("terrorist"))&&t.push({id:"OFAC001",recordType:"Individual",name:e.fullName,score:100,searchType:"Exact",primaryName:e.fullName,searchList:"OFAC SDN",dob:e.dob||"N/A",country:"USA",gender:e.gender||"N/A",isSubsidiary:!1,title:"Terrorist Organization",source:"Free Source"});return{success:!0,matches:[...t,{id:"OFAC002",recordType:"Individual",name:"Jane Doe",score:85,searchType:"Broad",primaryName:"J. Doe",searchList:"Watchlists",dob:"1975-02-15",country:"USA",gender:"Female",isSubsidiary:!1,title:"Advisor",source:"Free Source"},{id:"OFAC003",recordType:"Entity",name:"Terrorist Corp",score:95,searchType:"Exact",primaryName:"Terrorist Corporation",searchList:"OFAC SDN",dob:"N/A",country:"Syria",gender:"N/A",isSubsidiary:!1,title:"Terrorist Organization",source:"Free Source"}],source:"Free Sanctions Lists"}},OO=async e=>{await new Promise(e=>setTimeout(e,400));const t=[];return"North Korea"===e.nationality&&e.fullName.toLowerCase().includes("kim")&&t.push({id:"UN001",recordType:"Individual",name:e.fullName,score:98,searchType:"Exact",primaryName:e.fullName,searchList:"UN Sanctions",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"UN Sanctioned",source:"UN Sanctions"}),{success:!0,matches:t,source:"UN Sanctions"}},PO=async e=>{await new Promise(e=>setTimeout(e,600));const t=[];return(e.fullName.toLowerCase().includes("fugitive")||e.fullName.toLowerCase().includes("wanted"))&&t.push({id:"INTERPOL001",recordType:"Individual",name:e.fullName,score:90,searchType:"Exact",primaryName:e.fullName,searchList:"Interpol Red Notice",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"Fugitive",source:"Interpol"}),{success:!0,matches:t,source:"Interpol Red Notices"}},EO=async e=>{await new Promise(e=>setTimeout(e,450));const t=[];return"Russia"===e.nationality&&e.fullName.toLowerCase().includes("oligarch")&&t.push({id:"EU001",recordType:"Individual",name:e.fullName,score:92,searchType:"Exact",primaryName:e.fullName,searchList:"EU Sanctions",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"EU Sanctioned",source:"EU Sanctions"}),{success:!0,matches:t,source:"EU Sanctions"}},LO={screenCentralBank:async e=>{await new Promise(e=>setTimeout(e,700));const t=[];"UAE"===e.nationality&&e.fullName.toLowerCase().includes("al-nahyan")&&t.push({id:"UAE001",recordType:"Individual",name:e.fullName,score:94,searchType:"Exact",primaryName:e.fullName,searchList:"UAE Central Bank",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"Royal Family",source:"UAE Central Bank"}),"Saudi Arabia"===e.nationality&&e.fullName.toLowerCase().includes("al-saud")&&t.push({id:"SAUDI001",recordType:"Individual",name:e.fullName,score:96,searchType:"Exact",primaryName:e.fullName,searchList:"Saudi Central Bank",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"Royal Family",source:"Saudi Central Bank"});return{success:!0,matches:[...t,{id:"CB001",recordType:"Individual",name:"John Smith",score:92,searchType:"Near",primaryName:"John A. Smith",searchList:"PEP",dob:"1980-06-20",country:"UK",gender:"Male",isSubsidiary:!1,title:"Minister",source:"Central Bank"},{id:"CB002",recordType:"Entity",name:"SafeBank Inc.",score:87,searchType:"Exact",primaryName:"SafeBank International",searchList:"Sanctions",dob:"N/A",country:"Canada",gender:"N/A",isSubsidiary:!1,title:"Financial",source:"Central Bank"},{id:"CB003",recordType:"Individual",name:"Maria Garcia",score:89,searchType:"Broad",primaryName:"M. Garcia",searchList:"PEP",dob:"1982-11-08",country:"Spain",gender:"Female",isSubsidiary:!1,title:"Deputy Minister",source:"Central Bank"}],source:"Central Bank Lists"}},screenMultipleCentralBanks:async e=>{await new Promise(e=>setTimeout(e,1e3));const t=[];if("UAE"===e.nationality){const r=await LO.screenCentralBank(e);t.push(...r.matches)}if("Saudi Arabia"===e.nationality){const r=await LO.screenCentralBank(e);t.push(...r.matches)}if("Kuwait"===e.nationality){const r=await LO.screenCentralBank(e);t.push(...r.matches)}return{success:!0,matches:t,source:"Multiple Central Banks",banksChecked:["UAE","Saudi Arabia","Kuwait"]}}},TO={screenWhitelist:async e=>{await new Promise(e=>setTimeout(e,300));const t=[];"Organization"===e.entityType&&e.fullName.toLowerCase().includes("microsoft")&&t.push({id:"WL001",recordType:"Entity",name:e.fullName,score:65,searchType:"Exact",primaryName:e.fullName,searchList:"Whitelist",dob:"N/A",country:"USA",gender:"N/A",isSubsidiary:!1,title:"IT Company",source:"Company Whitelist"}),"Organization"===e.entityType&&e.fullName.toLowerCase().includes("apple")&&t.push({id:"WL002",recordType:"Entity",name:e.fullName,score:60,searchType:"Exact",primaryName:e.fullName,searchList:"Whitelist",dob:"N/A",country:"USA",gender:"N/A",isSubsidiary:!1,title:"Technology",source:"Company Whitelist"});return{success:!0,matches:[...t,{id:"WL003",recordType:"Entity",name:"TechWhiz Ltd.",score:65,searchType:"Exact",primaryName:"TechWhiz",searchList:"Whitelist",dob:"N/A",country:"USA",gender:"N/A",isSubsidiary:!1,title:"IT Company",source:"Company Whitelist"},{id:"WL004",recordType:"Entity",name:"Green Energy Corp",score:60,searchType:"Broad",primaryName:"Green Energy",searchList:"Whitelist",dob:"N/A",country:"Germany",gender:"N/A",isSubsidiary:!1,title:"Renewable Energy",source:"Company Whitelist"}],source:"Company Whitelist"}},screenBlacklist:async e=>{await new Promise(e=>setTimeout(e,400));const t=[];"Organization"===e.entityType&&e.fullName.toLowerCase().includes("fakebank")&&t.push({id:"BL001",recordType:"Entity",name:e.fullName,score:95,searchType:"Exact",primaryName:e.fullName,searchList:"Blacklist",dob:"N/A",country:"Russia",gender:"N/A",isSubsidiary:!1,title:"Fraudulent Bank",source:"Company Blacklist"}),"Organization"===e.entityType&&e.fullName.toLowerCase().includes("ghostcorp")&&t.push({id:"BL002",recordType:"Entity",name:e.fullName,score:91,searchType:"Broad",primaryName:e.fullName,searchList:"Blacklist",dob:"N/A",country:"North Korea",gender:"N/A",isSubsidiary:!0,title:"Shell Company",source:"Company Blacklist"});return{success:!0,matches:[...t,{id:"BL003",recordType:"Entity",name:"PyramidFX",score:89,searchType:"Near",primaryName:"Pyramid FX Ltd.",searchList:"Blacklist",dob:"N/A",country:"India",gender:"N/A",isSubsidiary:!1,title:"Ponzi Scheme",source:"Company Blacklist"},{id:"BL004",recordType:"Entity",name:"ScamCorp International",score:93,searchType:"Exact",primaryName:"ScamCorp",searchList:"Blacklist",dob:"N/A",country:"Nigeria",gender:"N/A",isSubsidiary:!1,title:"Fraudulent Company",source:"Company Blacklist"}],source:"Company Blacklist"}},screenCompanyLists:async e=>{const[t,r]=await Promise.all([TO.screenWhitelist(e),TO.screenBlacklist(e)]);return{success:!0,whitelist:t.matches,blacklist:r.matches,source:"Company Lists"}}},DO={screenUAELists:async e=>{await new Promise(e=>setTimeout(e,600));const t=[];"UAE"===e.nationality&&e.fullName.toLowerCase().includes("al-maktoum")&&t.push({id:"UAE001",recordType:"Individual",name:e.fullName,score:96,searchType:"Exact",primaryName:e.fullName,searchList:"UAE Lists",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"Royal Family",source:"UAE Lists"}),"UAE"===e.nationality&&e.fullName.toLowerCase().includes("al-qasimi")&&t.push({id:"UAE002",recordType:"Individual",name:e.fullName,score:81,searchType:"Broad",primaryName:e.fullName,searchList:"UAE Lists",dob:e.dob||"N/A",country:e.nationality,gender:e.gender||"N/A",isSubsidiary:!1,title:"Businesswoman",source:"UAE Lists"}),"Organization"===e.entityType&&e.fullName.toLowerCase().includes("emirates")&&t.push({id:"UAE003",recordType:"Entity",name:e.fullName,score:83,searchType:"Near",primaryName:e.fullName,searchList:"UAE Lists",dob:"N/A",country:"UAE",gender:"N/A",isSubsidiary:!1,title:"Logistics",source:"UAE Lists"});return{success:!0,matches:[...t,{id:"UAE004",recordType:"Individual",name:"Faisal Al Nahyan",score:94,searchType:"Exact",primaryName:"Faisal A. Nahyan",searchList:"UAE List",dob:"1970-10-05",country:"UAE",gender:"Male",isSubsidiary:!1,title:"Minister",source:"UAE Lists"},{id:"UAE005",recordType:"Entity",name:"Desert Traders",score:85,searchType:"Near",primaryName:"Desert Trading Co.",searchList:"UAE List",dob:"N/A",country:"UAE",gender:"N/A",isSubsidiary:!1,title:"Trading Company",source:"UAE Lists"},{id:"UAE006",recordType:"Individual",name:"Aisha Al Mansouri",score:87,searchType:"Broad",primaryName:"A. Al Mansouri",searchList:"UAE List",dob:"1985-07-22",country:"UAE",gender:"Female",isSubsidiary:!1,title:"Business Leader",source:"UAE Lists"}],source:"UAE Specific Lists"}},screenMultipleUAELists:async e=>{await new Promise(e=>setTimeout(e,800));const t=[],r=await DO.screenUAELists(e);if(t.push(...r.matches),"Organization"===e.entityType){const r=await DO.screenUAELists(e);t.push(...r.matches)}const n=await DO.screenUAELists(e);return t.push(...n.matches),{success:!0,matches:t,source:"Multiple UAE Lists",listsChecked:["UAE PEP","UAE Business Registry","UAE FSA"]}}},IO={performComprehensiveScreening:async e=>{try{console.log("Starting comprehensive screening for:",e.fullName);const[t,r,n,a,i,s,o,l,c]=await Promise.all([AO.screenCustomer(e),CO(e),OO(e),PO(e),EO(e),LO.screenCentralBank(e),TO.screenWhitelist(e),TO.screenBlacklist(e),DO.screenUAELists(e)]),u=[...t.matches,...r.matches,...n.matches,...a.matches,...i.matches,...s.matches,...o.matches,...l.matches,...c.matches],d=Math.max(...u.map(e=>e.score),0),h={dowjones:t.matches,sanctions:[...r.matches,...n.matches,...i.matches],interpol:a.matches,centralBank:s.matches,companyWhitelist:o.matches,companyBlacklist:l.matches,uaeList:c.matches},f={success:!0,screeningId:`SCR-${Date.now()}`,customerId:e.customerId,customerName:e.fullName,timestamp:(new Date).toISOString(),totalSources:9,totalMatches:u.length,overallRiskScore:d,riskLevel:d>=70?"High":d>=40?"Medium":"Low",results:h,sources:["Dow Jones","OFAC Sanctions","UN Sanctions","Interpol","EU Sanctions","Central Banks","Company Whitelist","Company Blacklist","UAE Lists"],summary:{highRiskMatches:u.filter(e=>e.score>=70).length,mediumRiskMatches:u.filter(e=>e.score>=40&&e.score<70).length,lowRiskMatches:u.filter(e=>e.score<40).length,totalSourcesChecked:9}};return console.log("Screening completed:",f),f}catch(t){return console.error("Screening error:",t),{success:!1,error:t.message,timestamp:(new Date).toISOString()}}},performInstantScreening:async e=>{try{console.log("Starting instant screening for:",e.fullName);const[t,r,n,a]=await Promise.all([AO.screenCustomer(e),CO(e),LO.screenCentralBank(e),TO.screenCompanyLists(e)]),i=[...t.matches,...r.matches,...n.matches,...a.whitelist,...a.blacklist],s=Math.max(...i.map(e=>e.score),0);return{success:!0,screeningId:`INSTANT-${Date.now()}`,customerId:e.customerId,customerName:e.fullName,timestamp:(new Date).toISOString(),totalSources:4,totalMatches:i.length,overallRiskScore:s,riskLevel:s>=70?"High":s>=40?"Medium":"Low",results:{dowjones:t.matches,sanctions:r.matches,centralBank:n.matches,companyWhitelist:a.whitelist,companyBlacklist:a.blacklist}}}catch(t){return console.error("Instant screening error:",t),{success:!1,error:t.message,timestamp:(new Date).toISOString()}}},performBatchScreening:async e=>{try{console.log("Starting batch screening for",e.length,"customers");const t=[],r=Date.now();for(const a of e){const e=await IO.performInstantScreening(a);t.push(e)}const n=Date.now()-r;return{success:!0,batchId:`BATCH-${Date.now()}`,results:t,totalProcessed:e.length,duration:n,timestamp:(new Date).toISOString(),summary:{totalCustomers:e.length,highRiskCustomers:t.filter(e=>e.overallRiskScore>=70).length,mediumRiskCustomers:t.filter(e=>e.overallRiskScore>=40&&e.overallRiskScore<70).length,lowRiskCustomers:t.filter(e=>e.overallRiskScore<40).length}}}catch(t){return console.error("Batch screening error:",t),{success:!1,error:t.message,timestamp:(new Date).toISOString()}}}},RO={customerRiskAssessment:{title:"Customer Risk Assessment Report",template:{header:{companyName:"AML Platform",reportTitle:"Customer Risk Assessment Report",generatedDate:"{{generatedDate}}",reportId:"{{reportId}}"},customerInfo:{customerId:"{{customerId}}",fullName:"{{fullName}}",nationality:"{{nationality}}",entityType:"{{entityType}}",riskScore:"{{riskScore}}",riskLevel:"{{riskLevel}}",assessmentDate:"{{assessmentDate}}"},riskFactors:[{factor:"PEP Status",score:"{{pepScore}}",details:"{{pepDetails}}"},{factor:"Sanctions Check",score:"{{sanctionsScore}}",details:"{{sanctionsDetails}}"},{factor:"Geographic Risk",score:"{{geoScore}}",details:"{{geoDetails}}"},{factor:"Business Activity",score:"{{businessScore}}",details:"{{businessDetails}}"}],recommendations:["{{recommendation1}}","{{recommendation2}}","{{recommendation3}}"]}},transactionMonitoring:{title:"Transaction Monitoring Report",template:{header:{companyName:"AML Platform",reportTitle:"Transaction Monitoring Report",period:"{{startDate}} - {{endDate}}",generatedDate:"{{generatedDate}}",reportId:"{{reportId}}"},summary:{totalTransactions:"{{totalTransactions}}",flaggedTransactions:"{{flaggedTransactions}}",blockedTransactions:"{{blockedTransactions}}",totalAmount:"{{totalAmount}}",averageRiskScore:"{{averageRiskScore}}"},highRiskTransactions:[{transactionId:"{{txId}}",customerName:"{{customerName}}",amount:"{{amount}}",riskScore:"{{riskScore}}",reason:"{{reason}}"}],riskDistribution:{lowRisk:"{{lowRiskCount}}",mediumRisk:"{{mediumRiskCount}}",highRisk:"{{highRiskCount}}"}}},screeningResults:{title:"Screening Results Report",template:{header:{companyName:"AML Platform",reportTitle:"Screening Results Report",screeningDate:"{{screeningDate}}",reportId:"{{reportId}}"},customerInfo:{customerId:"{{customerId}}",fullName:"{{fullName}}",nationality:"{{nationality}}"},screeningSummary:{totalSources:"{{totalSources}}",totalMatches:"{{totalMatches}}",overallRiskScore:"{{overallRiskScore}}",riskLevel:"{{riskLevel}}"},matchesBySource:[{source:"Dow Jones",matches:"{{dowJonesMatches}}",riskScore:"{{dowJonesScore}}"},{source:"OFAC Sanctions",matches:"{{ofacMatches}}",riskScore:"{{ofacScore}}"},{source:"Central Banks",matches:"{{centralBankMatches}}",riskScore:"{{centralBankScore}}"}],detailedMatches:[{id:"{{matchId}}",name:"{{matchName}}",source:"{{matchSource}}",score:"{{matchScore}}",type:"{{matchType}}",country:"{{matchCountry}}"}]}},caseManagement:{title:"Case Management Report",template:{header:{companyName:"AML Platform",reportTitle:"Case Management Report",period:"{{startDate}} - {{endDate}}",generatedDate:"{{generatedDate}}",reportId:"{{reportId}}"},summary:{totalCases:"{{totalCases}}",openCases:"{{openCases}}",resolvedCases:"{{resolvedCases}}",averageResolutionTime:"{{avgResolutionTime}}"},casesByStatus:[{status:"Open",count:"{{openCount}}",percentage:"{{openPercentage}}"},{status:"In Progress",count:"{{inProgressCount}}",percentage:"{{inProgressPercentage}}"},{status:"Resolved",count:"{{resolvedCount}}",percentage:"{{resolvedPercentage}}"}],casesByRisk:[{riskLevel:"High",count:"{{highRiskCount}}",percentage:"{{highRiskPercentage}}"},{riskLevel:"Medium",count:"{{mediumRiskCount}}",percentage:"{{mediumRiskPercentage}}"},{riskLevel:"Low",count:"{{lowRiskCount}}",percentage:"{{lowRiskPercentage}}"}],recentCases:[{caseId:"{{caseId}}",customerName:"{{customerName}}",riskLevel:"{{riskLevel}}",status:"{{status}}",createdDate:"{{createdDate}}"}]}},complianceDashboard:{title:"Compliance Dashboard Report",template:{header:{companyName:"AML Platform",reportTitle:"Compliance Dashboard Report",period:"{{startDate}} - {{endDate}}",generatedDate:"{{generatedDate}}",reportId:"{{reportId}}"},keyMetrics:{totalCustomers:"{{totalCustomers}}",totalTransactions:"{{totalTransactions}}",totalScreenings:"{{totalScreenings}}",totalCases:"{{totalCases}}",complianceScore:"{{complianceScore}}"},riskDistribution:{customers:{lowRisk:"{{lowRiskCustomers}}",mediumRisk:"{{mediumRiskCustomers}}",highRisk:"{{highRiskCustomers}}"},transactions:{normal:"{{normalTransactions}}",flagged:"{{flaggedTransactions}}",blocked:"{{blockedTransactions}}"}},screeningStatistics:{totalScreenings:"{{totalScreenings}}",positiveMatches:"{{positiveMatches}}",falsePositives:"{{falsePositives}}",averageResponseTime:"{{avgResponseTime}}"},caseStatistics:{totalCases:"{{totalCases}}",resolvedCases:"{{resolvedCases}}",pendingCases:"{{pendingCases}}",averageResolutionTime:"{{avgResolutionTime}}"}}},regulatoryReport:{title:"Suspicious Activity Report",template:{header:{companyName:"AML Platform",reportTitle:"Suspicious Activity Report",reportId:"{{reportId}}",filingDate:"{{filingDate}}",reportingPeriod:"{{reportingPeriod}}"},subjectInfo:{name:"{{subjectName}}",dateOfBirth:"{{dateOfBirth}}",nationality:"{{nationality}}",identification:"{{identification}}",address:"{{address}}"},suspiciousActivity:{activityType:"{{activityType}}",dateRange:"{{dateRange}}",totalAmount:"{{totalAmount}}",currency:"{{currency}}",description:"{{description}}"},redFlags:["{{redFlag1}}","{{redFlag2}}","{{redFlag3}}"],supportingEvidence:[{type:"{{evidenceType}}",description:"{{evidenceDescription}}",date:"{{evidenceDate}}"}],conclusion:"{{conclusion}}",recommendations:["{{recommendation1}}","{{recommendation2}}"]}},auditTrail:{title:"Audit Trail Report",template:{header:{companyName:"AML Platform",reportTitle:"Audit Trail Report",period:"{{startDate}} - {{endDate}}",generatedDate:"{{generatedDate}}",reportId:"{{reportId}}"},summary:{totalEvents:"{{totalEvents}}",uniqueUsers:"{{uniqueUsers}}",systemEvents:"{{systemEvents}}",userEvents:"{{userEvents}}"},eventsByType:[{eventType:"Login",count:"{{loginCount}}",percentage:"{{loginPercentage}}"},{eventType:"Customer Creation",count:"{{customerCreationCount}}",percentage:"{{customerCreationPercentage}}"},{eventType:"Screening",count:"{{screeningCount}}",percentage:"{{screeningPercentage}}"},{eventType:"Case Creation",count:"{{caseCreationCount}}",percentage:"{{caseCreationPercentage}}"}],recentEvents:[{timestamp:"{{timestamp}}",user:"{{user}}",action:"{{action}}",details:"{{details}}",ipAddress:"{{ipAddress}}"}]}}},MO={generateCustomerRiskAssessment:async e=>{await new Promise(e=>setTimeout(e,500));return{success:!0,reportType:"Customer Risk Assessment",data:{generatedDate:(new Date).toISOString(),reportId:`CRA-${Date.now()}`,customerId:e.customerId||"CUST001",fullName:e.fullName||"John Doe",nationality:e.nationality||"USA",entityType:e.entityType||"Individual",riskScore:e.riskScore||65,riskLevel:e.riskLevel||"Medium",assessmentDate:(new Date).toISOString(),pepScore:40,pepDetails:"Customer has potential PEP connections",sanctionsScore:0,sanctionsDetails:"No sanctions matches found",geoScore:25,geoDetails:"Customer from medium-risk jurisdiction",businessScore:20,businessDetails:"Standard business activities",recommendation1:"Conduct enhanced due diligence",recommendation2:"Monitor transactions closely",recommendation3:"Review risk assessment quarterly"},template:RO.customerRiskAssessment.template}},generateTransactionMonitoring:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await new Promise(e=>setTimeout(e,800));return{success:!0,reportType:"Transaction Monitoring",data:{startDate:e.startDate||"2024-01-01",endDate:e.endDate||"2024-01-31",generatedDate:(new Date).toISOString(),reportId:`TM-${Date.now()}`,totalTransactions:1250,flaggedTransactions:45,blockedTransactions:12,totalAmount:"$2,450,000",averageRiskScore:35,highRiskTransactions:[{transactionId:"TX001",customerName:"Ahmad Khan",amount:"$50,000",riskScore:85,reason:"High amount, suspicious pattern"},{transactionId:"TX002",customerName:"Maria Lopez",amount:"$75,000",riskScore:92,reason:"PEP connection detected"}],lowRiskCount:980,mediumRiskCount:225,highRiskCount:45},template:RO.transactionMonitoring.template}},generateScreeningResults:async e=>{await new Promise(e=>setTimeout(e,600));return{success:!0,reportType:"Screening Results",data:{screeningDate:(new Date).toISOString(),reportId:`SR-${Date.now()}`,customerId:e.customerId||"CUST001",fullName:e.customerName||"John Doe",nationality:e.nationality||"USA",totalSources:9,totalMatches:3,overallRiskScore:75,riskLevel:"High",dowJonesMatches:1,dowJonesScore:85,ofacMatches:0,ofacScore:0,centralBankMatches:2,centralBankScore:70,detailedMatches:[{id:"MATCH001",name:"John Smith",source:"Dow Jones",score:85,type:"PEP",country:"UK"},{id:"MATCH002",name:"Global FinCorp",source:"Central Bank",score:70,type:"Entity",country:"USA"}]},template:RO.screeningResults.template}},generateCaseManagement:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await new Promise(e=>setTimeout(e,700));return{success:!0,reportType:"Case Management",data:{startDate:e.startDate||"2024-01-01",endDate:e.endDate||"2024-01-31",generatedDate:(new Date).toISOString(),reportId:`CM-${Date.now()}`,totalCases:156,openCases:45,resolvedCases:111,avgResolutionTime:"3.2 days",openCount:45,openPercentage:28.8,inProgressCount:67,inProgressPercentage:42.9,resolvedCount:44,resolvedPercentage:28.2,highRiskCount:23,highRiskPercentage:14.7,mediumRiskCount:89,mediumRiskPercentage:57.1,lowRiskCount:44,lowRiskPercentage:28.2,recentCases:[{caseId:"CASE001",customerName:"Ahmad Khan",riskLevel:"High",status:"Open",createdDate:"2024-01-15"},{caseId:"CASE002",customerName:"Maria Lopez",riskLevel:"Medium",status:"In Progress",createdDate:"2024-01-14"}]},template:RO.caseManagement.template}},generateComplianceDashboard:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await new Promise(e=>setTimeout(e,1e3));return{success:!0,reportType:"Compliance Dashboard",data:{startDate:e.startDate||"2024-01-01",endDate:e.endDate||"2024-01-31",generatedDate:(new Date).toISOString(),reportId:`CD-${Date.now()}`,totalCustomers:1250,totalTransactions:8500,totalScreenings:1800,totalCases:156,complianceScore:94.5,lowRiskCustomers:875,mediumRiskCustomers:300,highRiskCustomers:75,normalTransactions:7800,flaggedTransactions:600,blockedTransactions:100,positiveMatches:45,falsePositives:12,avgResponseTime:"2.3 seconds",resolvedCases:111,pendingCases:45,avgResolutionTime:"3.2 days"},template:RO.complianceDashboard.template}},generateRegulatoryReport:async e=>{await new Promise(e=>setTimeout(e,900));return{success:!0,reportType:"Regulatory Report",data:{reportId:`SAR-${Date.now()}`,filingDate:(new Date).toISOString(),reportingPeriod:"2024-01-01 to 2024-01-31",subjectName:e.customerName||"Ahmad Khan",dateOfBirth:e.dateOfBirth||"1980-01-01",nationality:e.nationality||"Pakistan",identification:e.identification||"Passport: PK123456",address:e.address||"123 Main St, Karachi, Pakistan",activityType:"Suspicious Transaction Pattern",dateRange:"2024-01-15 to 2024-01-25",totalAmount:"$125,000",currency:"USD",description:"Multiple high-value transactions with no clear business purpose",redFlag1:"Unusual transaction pattern",redFlag2:"High-risk jurisdiction",redFlag3:"PEP connection detected",evidenceType:"Transaction Records",evidenceDescription:"Bank statements showing multiple transfers",evidenceDate:"2024-01-20",conclusion:"Suspicious activity requiring regulatory reporting",recommendation1:"File SAR with regulatory authority",recommendation2:"Continue monitoring customer activities"},template:RO.regulatoryReport.template}},generateAuditTrail:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await new Promise(e=>setTimeout(e,600));return{success:!0,reportType:"Audit Trail",data:{startDate:e.startDate||"2024-01-01",endDate:e.endDate||"2024-01-31",generatedDate:(new Date).toISOString(),reportId:`AT-${Date.now()}`,totalEvents:2450,uniqueUsers:15,systemEvents:1200,userEvents:1250,loginCount:450,loginPercentage:18.4,customerCreationCount:125,customerCreationPercentage:5.1,screeningCount:1800,screeningPercentage:73.5,caseCreationCount:75,caseCreationPercentage:3.1,recentEvents:[{timestamp:"2024-01-15T10:30:00Z",user:"john.doe@company.com",action:"Customer Screening",details:"Screened customer Ahmad Khan",ipAddress:"192.168.1.100"},{timestamp:"2024-01-15T10:25:00Z",user:"jane.smith@company.com",action:"Case Creation",details:"Created case for suspicious activity",ipAddress:"192.168.1.101"}]},template:RO.auditTrail.template}},generateAllReports:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await Promise.all([MO.generateCustomerRiskAssessment({}),MO.generateTransactionMonitoring(e),MO.generateScreeningResults({}),MO.generateCaseManagement(e),MO.generateComplianceDashboard(e),MO.generateRegulatoryReport({}),MO.generateAuditTrail(e)]);return{success:!0,reports:t,generatedDate:(new Date).toISOString(),totalReports:t.length}}},FO={performInstantScreening:async(e,t)=>{try{const r=await pO(),n={customer_id:e,screening_type:"Instant",status:"In Progress",search_criteria:t,created_by:r.id,created_at:(new Date).toISOString()},a=await mO("screenings",n),i=e?await yO("customers",e):null,s=await IO.performInstantScreening({customerId:e,fullName:i?i.first_name+" "+i.last_name:t.fullName,nationality:i?i.nationality:t.nationality,entityType:i?i.entity_type:t.entityType,...t});if(await gO("screenings",a.id,{results:s.results,status:"Completed",completed_at:(new Date).toISOString(),risk_score:s.overallRiskScore||0}),s.results){const t=[...s.results.dowjones||[],...s.results.sanctions||[],...s.results.centralBank||[],...s.results.companyWhitelist||[],...s.results.companyBlacklist||[],...s.results.uaeList||[]];if(t.length>0){const r=t.map(t=>({screening_id:a.id,customer_id:e,match_id:t.id,match_name:t.name,match_source:t.source,match_score:t.score,match_type:t.recordType,match_country:t.country,match_details:t}));await hO.from("screening_matches").insert(r)}}return await hO.from("screening_logs").insert({screening_id:a.id,customer_id:e,action:"Instant Screening Completed",details:`Screening completed with ${s.totalMatches} matches`,created_by:r.id,created_at:(new Date).toISOString()}),{...a,...s}}catch(r){fO(r)}},startOngoingScreening:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Daily";try{const r={customer_id:e,screening_type:"Ongoing",status:"Active",frequency:t,created_by:(await pO()).id,created_at:(new Date).toISOString()};return await mO("screenings",r)}catch(r){fO(r)}},getScreeningHistory:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{const n={page:t,limit:r,filters:{customer_id:e},orderBy:{column:"created_at",ascending:!1}};return await vO("screenings",n)}catch(n){fO(n)}},getScreeningResults:async e=>{try{const{data:t,error:r}=await hO.from("screenings").select("\n          *,\n          screening_matches(*)\n        ").eq("id",e).single();return r&&fO(r),t}catch(t){fO(t)}},updateScreeningStatus:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const n={status:t,notes:r,updated_by:(await pO()).id,updated_at:(new Date).toISOString()};return"Completed"===t&&(n.completed_at=(new Date).toISOString()),await gO("screenings",e,n)}catch(n){fO(n)}},getScreeningStats:async()=>{try{const{data:e}=await hO.from("screenings").select("*"),{data:t}=await hO.from("screening_matches").select("*"),r={total:(null===e||void 0===e?void 0:e.length)||0,byType:{Instant:(null===e||void 0===e?void 0:e.filter(e=>"Instant"===e.screening_type).length)||0,Ongoing:(null===e||void 0===e?void 0:e.filter(e=>"Ongoing"===e.screening_type).length)||0},byStatus:{"In Progress":(null===e||void 0===e?void 0:e.filter(e=>"In Progress"===e.status).length)||0,Completed:(null===e||void 0===e?void 0:e.filter(e=>"Completed"===e.status).length)||0,Active:(null===e||void 0===e?void 0:e.filter(e=>"Active"===e.status).length)||0},totalMatches:(null===t||void 0===t?void 0:t.length)||0,averageRiskScore:(null===e||void 0===e?void 0:e.reduce((e,t)=>e+(t.risk_score||0),0))/((null===e||void 0===e?void 0:e.length)||1)||0};return r}catch(e){fO(e)}},getOngoingScreeningResults:async e=>{try{const{data:t,error:r}=await hO.from("ongoing_screening_results").select("*").eq("customer_id",e).order("created_at",{ascending:!1});return r&&fO(r),t}catch(t){fO(t)}},performBatchScreening:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await pO();const r=[];for(const n of e){const e=await FO.performInstantScreening(n,t);r.push(e)}return{success:!0,totalProcessed:e.length,results:r,timestamp:(new Date).toISOString()}}catch(r){fO(r)}},getScreeningLogs:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t={filters:e,orderBy:{column:"created_at",ascending:!1}};return await vO("screening_logs",t)}catch(t){fO(t)}}},BO=[{id:"TR001",name:"High Amount Transaction",description:"Transaction amount exceeds threshold",condition:e=>parseFloat(e.amount)>1e4,score:30,category:"Amount"},{id:"TR002",name:"Frequent Transactions",description:"Multiple transactions in short time period",condition:e=>e.frequency&&e.frequency>5,score:25,category:"Frequency"},{id:"TR003",name:"High-Risk Destination",description:"Transaction to high-risk country",condition:e=>e.destination_country&&["IR","KP","CU","VE","SD","SY"].includes(e.destination_country),score:40,category:"Destination"},{id:"TR004",name:"Unusual Pattern",description:"Transaction pattern differs from customer's normal behavior",condition:e=>!0===e.is_unusual_pattern,score:35,category:"Pattern"},{id:"TR005",name:"Cash Transaction",description:"Large cash transaction",condition:e=>"Cash"===e.transaction_type&&parseFloat(e.amount)>5e3,score:45,category:"Type"},{id:"TR006",name:"Third Party Transaction",description:"Transaction involves third party",condition:e=>!0===e.involves_third_party,score:20,category:"Party"},{id:"TR007",name:"Structuring",description:"Multiple transactions just below reporting threshold",condition:e=>!0===e.is_structuring,score:50,category:"Structuring"},{id:"TR008",name:"PEP Transaction",description:"Transaction involves Politically Exposed Person",condition:e=>!0===e.involves_pep,score:60,category:"PEP"},{id:"TR009",name:"Sanctioned Entity",description:"Transaction involves sanctioned entity",condition:e=>!0===e.involves_sanctioned_entity,score:80,category:"Sanctions"},{id:"TR010",name:"Offshore Transaction",description:"Transaction to offshore jurisdiction",condition:e=>e.destination_country&&["KY","VG","BS","PA","SC","MU"].includes(e.destination_country),score:30,category:"Offshore"}],zO=e=>{console.log("\ud83d\udd0d Calculating risk score for transaction data:",e);const t=e.risk_assessment_data||{},r={...e,destination_country:t.destination_country,source_of_funds:t.source_of_funds,purpose:t.purpose,is_unusual_pattern:t.is_unusual_pattern,involves_third_party:t.involves_third_party,is_structuring:t.is_structuring,involves_pep:t.involves_pep,involves_sanctioned_entity:t.involves_sanctioned_entity,frequency:t.frequency};console.log("\ud83d\udd0d Key fields for rules:"),console.log("  - amount:",r.amount,"(type:",typeof r.amount,")"),console.log("  - transaction_type:",r.transaction_type),console.log("  - destination_country:",r.destination_country),console.log("  - involves_third_party:",r.involves_third_party);let n=0;const a=[];BO.forEach(e=>{e.condition(r)?(n+=e.score,a.push({name:e.name,score:e.score}),console.log(`\u2705 Rule triggered: ${e.name} (+${e.score} points)`)):console.log(`\u274c Rule not triggered: ${e.name}`)});const i=Math.min(n,100);return console.log(`\ud83d\udcca Risk calculation complete: ${n} points, capped to ${i}`),console.log("\ud83c\udfaf Triggered rules:",a),i},UO={createTransaction:async e=>{try{0,console.log("\ud83d\udd17 Creating transaction in real Supabase database...");const t=await pO(),r=zO(e),n=r>50?"Flagged":"Normal",{risk_assessment_data:a,...i}=e,s={customer_id:i.customer_id,transaction_type:i.transaction_type,amount:i.amount,currency:i.currency,transaction_date:i.transaction_date,source_account:i.source_account,destination_account:i.destination_account,description:i.description,risk_score:r,status:n,created_by:t.id,created_at:(new Date).toISOString()};console.log("\ud83d\udcca Transaction payload being sent to database:",s);const{data:o,error:l}=await hO.from("transactions").insert(s).select().single();if(l)throw console.error("\u274c Error inserting transaction:",l),new Error("Failed to create transaction");if(console.log("\ud83d\udcca Real transaction created:",o),console.log("\ud83d\udcca Real transaction risk score:",o.risk_score),console.log("\ud83d\udcca Real transaction status:",o.status),"Flagged"===n){console.log("\ud83d\udea8 Creating alert for flagged transaction...");const t={transaction_id:o.id,alert_type:"High Risk Transaction",severity:r>=80?"Critical":r>=60?"High":"Medium",description:`Transaction flagged with risk score ${r}. Amount: ${e.currency} ${parseFloat(e.amount).toLocaleString()}`,status:"Open",created_at:(new Date).toISOString()},{data:n,error:a}=await hO.from("transaction_alerts").insert(t).select().single();a?console.error("\u274c Error creating alert:",a):console.log("\u2705 Alert created successfully:",n)}return o}catch(t){return console.error("Error creating transaction:",t),{success:!1,error:t.message||"Failed to create transaction"}}},getTransactions:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{0,console.log("\ud83d\udd17 Fetching transactions from real Supabase database...");let n=hO.from("transactions").select("\n          *,\n          customers (\n            id,\n            first_name,\n            last_name,\n            email\n          )\n        ");r.search&&(n=n.or(`customers.first_name.ilike.%${r.search}%,customers.last_name.ilike.%${r.search}%`)),r.date_from&&(n=n.gte("transaction_date",r.date_from)),r.date_to&&(n=n.lte("transaction_date",r.date_to)),r.status&&(n=n.eq("status",r.status)),r.risk_score&&(n=n.gte("risk_score",r.risk_score));const a=(e-1)*t,i=a+t-1;n=n.range(a,i),n=n.order("created_at",{ascending:!1});const{data:s,error:o,count:l}=await n;return o?(console.error("Supabase query error:",o),{success:!1,error:o.message||"Failed to fetch transactions"}):{success:!0,data:s||[],count:l||0}}catch(n){return console.error("Error fetching transactions:",n),{success:!1,error:n.message||"Failed to fetch transactions"}}},getTransactionById:async e=>{try{0,console.log("\ud83d\udd17 Fetching transaction details from real Supabase database...");const{data:t,error:r}=await hO.from("transactions").select("\n          *,\n          customers (*),\n          transaction_alerts (*)\n        ").eq("id",e).single();if(r)throw console.error("Supabase query error:",r),new Error(r.message||"Failed to fetch transaction details");return t}catch(t){throw console.error("Error fetching transaction details:",t),new Error(t.message||"Failed to fetch transaction details")}},updateTransaction:async(e,t)=>{try{const r=await pO(),n={...t,updated_by:r.id,updated_at:(new Date).toISOString()};if(void 0===t.risk_score){const r=await UO.getTransactionById(e),a=zO({...r,...t}),i=a>50?"Flagged":"Normal";n.risk_score=a,n.status=i}return await gO("transactions",e,n)}catch(r){fO(r)}},flagTransaction:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Manual flag";try{const r=await pO(),n={status:"Flagged",flag_reason:t,flagged_by:r.id,flagged_at:(new Date).toISOString(),updated_by:r.id,updated_at:(new Date).toISOString()},a=await gO("transactions",e,n);return await hO.from("transaction_alerts").insert({transaction_id:e,customer_id:a.customer_id,alert_type:"Manual Flag",risk_score:a.risk_score,status:"Open",reason:t,created_by:r.id,created_at:(new Date).toISOString()}),a}catch(r){fO(r)}},blockTransaction:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Manual block";try{const r=await pO(),n={status:"Blocked",block_reason:t,blocked_by:r.id,blocked_at:(new Date).toISOString(),updated_by:r.id,updated_at:(new Date).toISOString()};return await gO("transactions",e,n)}catch(r){fO(r)}},getTransactionAlerts:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t={filters:e,orderBy:{column:"created_at",ascending:!1}};return await vO("transaction_alerts",t)}catch(t){fO(t)}},updateAlertStatus:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const n={status:t,notes:r,updated_by:(await pO()).id,updated_at:(new Date).toISOString()};return"Resolved"===t&&(n.resolved_at=(new Date).toISOString()),await gO("transaction_alerts",e,n)}catch(n){fO(n)}},getTransactionStats:async()=>{try{const{data:e}=await hO.from("transactions").select("*"),{data:t}=await hO.from("transaction_alerts").select("*"),r={total:(null===e||void 0===e?void 0:e.length)||0,byStatus:{Normal:(null===e||void 0===e?void 0:e.filter(e=>"Normal"===e.status).length)||0,Flagged:(null===e||void 0===e?void 0:e.filter(e=>"Flagged"===e.status).length)||0,Blocked:(null===e||void 0===e?void 0:e.filter(e=>"Blocked"===e.status).length)||0},byRiskLevel:{Low:(null===e||void 0===e?void 0:e.filter(e=>e.risk_score<40).length)||0,Medium:(null===e||void 0===e?void 0:e.filter(e=>e.risk_score>=40&&e.risk_score<70).length)||0,High:(null===e||void 0===e?void 0:e.filter(e=>e.risk_score>=70).length)||0},totalAlerts:(null===t||void 0===t?void 0:t.length)||0,openAlerts:(null===t||void 0===t?void 0:t.filter(e=>"Open"===e.status).length)||0,totalAmount:(null===e||void 0===e?void 0:e.reduce((e,t)=>e+parseFloat(t.amount||0),0))||0,averageRiskScore:(null===e||void 0===e?void 0:e.reduce((e,t)=>e+(t.risk_score||0),0))/((null===e||void 0===e?void 0:e.length)||1)||0};return r}catch(e){fO(e)}},getTransactionsByCustomer:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{const n={page:t,limit:r,filters:{customer_id:e},orderBy:{column:"created_at",ascending:!1}};return await vO("transactions",n)}catch(n){fO(n)}},createAlertsForExistingFlaggedTransactions:async()=>{try{console.log("\ud83d\udd0d Checking for existing flagged transactions without alerts...");const{data:e,error:t}=await hO.from("transactions").select("*").eq("status","Flagged");if(t)return console.error("Error fetching flagged transactions:",t),{success:!1,error:t.message};console.log(`\ud83d\udcca Found ${(null===e||void 0===e?void 0:e.length)||0} flagged transactions`);const{data:r,error:n}=await hO.from("transaction_alerts").select("transaction_id");if(n)return console.error("Error fetching existing alerts:",n),{success:!1,error:n.message};const a=(null===r||void 0===r?void 0:r.map(e=>e.transaction_id))||[];console.log(`\ud83d\udcca Found ${a.length} existing alerts`);const i=(null===e||void 0===e?void 0:e.filter(e=>!a.includes(e.id)))||[];if(console.log(`\ud83d\udcca Found ${i.length} flagged transactions without alerts`),0===i.length)return{success:!0,message:"All flagged transactions already have alerts"};const s=await pO(),o=i.map(e=>({transaction_id:e.id,customer_id:e.customer_id,alert_type:"High Risk Transaction",risk_score:e.risk_score,status:"Open",reason:`Transaction flagged with risk score ${e.risk_score}`,notes:"Automatically flagged by system (backfill)",created_by:s.id,created_at:(new Date).toISOString()})),{data:l,error:c}=await hO.from("transaction_alerts").insert(o).select();return c?(console.error("Error creating alerts:",c),{success:!1,error:c.message}):(console.log(`\u2705 Created ${(null===l||void 0===l?void 0:l.length)||0} alerts for existing flagged transactions`),{success:!0,message:`Created ${(null===l||void 0===l?void 0:l.length)||0} alerts for existing flagged transactions`,createdCount:(null===l||void 0===l?void 0:l.length)||0})}catch(e){return console.error("Error creating alerts for existing transactions:",e),{success:!1,error:e.message}}}},qO={createCase:async e=>{try{0,console.log("\ud83d\udd17 Creating case in real Supabase database...");const t=await pO(),r=`CASE-${Date.now()}-${Math.floor(1e3*Math.random())}`,n={...e,case_number:r,status:e.status||"Open",created_by:t.id,created_at:(new Date).toISOString()};return await mO("cases",n)}catch(t){return console.error("Error creating case:",t),{success:!1,error:t.message||"Failed to create case"}}},getCases:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let n=hO.from("cases").select("\n          *,\n          customers (\n            id,\n            first_name,\n            last_name,\n            email\n          )\n        ");r.status&&(n=n.eq("status",r.status)),r.risk_level&&(n=n.eq("risk_level",r.risk_level)),r.case_type&&(n=n.eq("case_type",r.case_type)),r.assigned_to&&(n=n.eq("assigned_to",r.assigned_to)),r.date_from&&(n=n.gte("created_at",r.date_from)),r.date_to&&(n=n.lte("created_at",r.date_to));const a=(e-1)*t,i=a+t-1;n=n.range(a,i),n=n.order("created_at",{ascending:!1});const{data:s,error:o,count:l}=await n;return o&&fO(o),{data:s,count:l}}catch(n){fO(n)}},getCaseById:async e=>{try{const{data:t,error:r}=await hO.from("cases").select("\n          *,\n          customers (*),\n          case_details (*),\n          case_actions (*)\n        ").eq("id",e).single();return r&&fO(r),t}catch(t){fO(t)}},updateCase:async(e,t)=>{try{const r=await pO(),n={...t,updated_by:r.id,updated_at:(new Date).toISOString()};return await gO("cases",e,n)}catch(r){fO(r)}},assignCase:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const n=await pO(),a={assigned_to:t,assigned_at:(new Date).toISOString(),assigned_by:n.id,updated_by:n.id,updated_at:(new Date).toISOString()},i=await gO("cases",e,a);return await qO.addCaseAction(e,{action_type:"Assignment",description:`Case assigned to ${t}`,notes:r}),i}catch(n){fO(n)}},addCaseAction:async(e,t)=>{try{0,console.log("\ud83d\udd17 Creating case action in real Supabase database...");const r=await pO(),n={case_id:e,...t,created_by:r.id,created_at:(new Date).toISOString()};return await mO("case_actions",n)}catch(r){return console.error("Error creating case action:",r),{success:!1,error:r.message||"Failed to create case action"}}},updateCaseStatus:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const n={status:t,updated_by:(await pO()).id,updated_at:(new Date).toISOString()};"Resolved"===t&&(n.resolved_at=(new Date).toISOString());const a=await gO("cases",e,n);return await qO.addCaseAction(e,{action_type:"Status Change",description:`Case status changed to ${t}`,notes:r}),a}catch(n){fO(n)}},resolveCase:async(e,t)=>{try{const r=await pO();await qO.updateCaseStatus(e,"Resolved");const n={case_id:e,resolution_type:t.resolution_type,resolution_details:t.resolution_details,outcome:t.outcome,created_by:r.id,created_at:(new Date).toISOString()};return await mO("resolved_cases",n),{success:!0,message:"Case resolved successfully"}}catch(r){fO(r)}},getCaseActions:async e=>{try{const{data:t,error:r}=await hO.from("case_actions").select("*").eq("case_id",e).order("created_at",{ascending:!0});return r&&fO(r),t}catch(t){fO(t)}},getCaseStats:async()=>{try{const{data:e}=await hO.from("cases").select("*"),t={total:(null===e||void 0===e?void 0:e.length)||0,byStatus:{Open:(null===e||void 0===e?void 0:e.filter(e=>"Open"===e.status).length)||0,"In Progress":(null===e||void 0===e?void 0:e.filter(e=>"In Progress"===e.status).length)||0,Resolved:(null===e||void 0===e?void 0:e.filter(e=>"Resolved"===e.status).length)||0,Closed:(null===e||void 0===e?void 0:e.filter(e=>"Closed"===e.status).length)||0},byRiskLevel:{Low:(null===e||void 0===e?void 0:e.filter(e=>"Low"===e.risk_level).length)||0,Medium:(null===e||void 0===e?void 0:e.filter(e=>"Medium"===e.risk_level).length)||0,High:(null===e||void 0===e?void 0:e.filter(e=>"High"===e.risk_level).length)||0},byType:{Screening:(null===e||void 0===e?void 0:e.filter(e=>"Screening"===e.case_type).length)||0,Transaction:(null===e||void 0===e?void 0:e.filter(e=>"Transaction"===e.case_type).length)||0,KYC:(null===e||void 0===e?void 0:e.filter(e=>"KYC"===e.case_type).length)||0},averageResolutionTime:0};return t}catch(e){fO(e)}},getCasesByCustomer:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{const n={page:t,limit:r,filters:{customer_id:e},orderBy:{column:"created_at",ascending:!1}};return await vO("cases",n)}catch(n){fO(n)}},getCasesByAssignedUser:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{const n={page:t,limit:r,filters:{assigned_to:e},orderBy:{column:"created_at",ascending:!1}};return await vO("cases",n)}catch(n){fO(n)}}},$O={generateCustomerRiskAssessment:async e=>{try{const t=await pO(),r=await yO("customers",e),n=await MO.generateCustomerRiskAssessment({customerId:r.id,fullName:r.first_name+" "+r.last_name,nationality:r.nationality,entityType:r.entity_type,riskScore:r.risk_score,riskLevel:r.risk_level}),a={report_type:"Customer Risk Assessment",customer_id:e,report_data:n.data,report_template:n.template,generated_by:t.id,generated_at:(new Date).toISOString()};return{...await mO("reports",a),...n}}catch(t){fO(t)}},generateTransactionMonitoring:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=await pO(),r=await MO.generateTransactionMonitoring(e),n={report_type:"Transaction Monitoring",report_data:r.data,report_template:r.template,filters:e,generated_by:t.id,generated_at:(new Date).toISOString()};return{...await mO("reports",n),...r}}catch(t){fO(t)}},generateScreeningResults:async e=>{try{const t=await pO(),r=await yO("screenings",e),n=await yO("customers",r.customer_id),a=await MO.generateScreeningResults({customerId:n.id,customerName:n.first_name+" "+n.last_name,nationality:n.nationality}),i={report_type:"Screening Results",screening_id:e,customer_id:r.customer_id,report_data:a.data,report_template:a.template,generated_by:t.id,generated_at:(new Date).toISOString()};return{...await mO("reports",i),...a}}catch(t){fO(t)}},generateCaseManagement:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=await pO(),r=await MO.generateCaseManagement(e),n={report_type:"Case Management",report_data:r.data,report_template:r.template,filters:e,generated_by:t.id,generated_at:(new Date).toISOString()};return{...await mO("reports",n),...r}}catch(t){fO(t)}},generateComplianceDashboard:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=await pO(),r=await MO.generateComplianceDashboard(e),n={report_type:"Compliance Dashboard",report_data:r.data,report_template:r.template,filters:e,generated_by:t.id,generated_at:(new Date).toISOString()};return{...await mO("reports",n),...r}}catch(t){fO(t)}},generateRegulatoryReport:async e=>{try{const t=await pO(),r=await yO("cases",e),n=await yO("customers",r.customer_id),a=await MO.generateRegulatoryReport({customerName:n.first_name+" "+n.last_name,nationality:n.nationality,dateOfBirth:n.date_of_birth}),i={report_type:"Regulatory Report",case_id:e,customer_id:r.customer_id,report_data:a.data,report_template:a.template,generated_by:t.id,generated_at:(new Date).toISOString()};return{...await mO("reports",i),...a}}catch(t){fO(t)}},generateAuditTrail:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=await pO(),r=await MO.generateAuditTrail(e),n={report_type:"Audit Trail",report_data:r.data,report_template:r.template,filters:e,generated_by:t.id,generated_at:(new Date).toISOString()};return{...await mO("reports",n),...r}}catch(t){fO(t)}},getReports:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const n={page:e,limit:t,filters:r,orderBy:{column:"generated_at",ascending:!1}};return await vO("reports",n)}catch(n){fO(n)}},getReportById:async e=>{try{return await yO("reports",e)}catch(t){fO(t)}},exportReportToPDF:async e=>{try{return{success:!0,reportId:e,data:await $O.getReportById(e),format:"PDF",downloadUrl:`/api/reports/${e}/download`}}catch(t){fO(t)}},exportReportToExcel:async e=>{try{return{success:!0,reportId:e,data:await $O.getReportById(e),format:"Excel",downloadUrl:`/api/reports/${e}/download`}}catch(t){fO(t)}},getReportStats:async()=>{try{const{data:e}=await hO.from("reports").select("*"),t={total:(null===e||void 0===e?void 0:e.length)||0,byType:{"Customer Risk Assessment":(null===e||void 0===e?void 0:e.filter(e=>"Customer Risk Assessment"===e.report_type).length)||0,"Transaction Monitoring":(null===e||void 0===e?void 0:e.filter(e=>"Transaction Monitoring"===e.report_type).length)||0,"Screening Results":(null===e||void 0===e?void 0:e.filter(e=>"Screening Results"===e.report_type).length)||0,"Case Management":(null===e||void 0===e?void 0:e.filter(e=>"Case Management"===e.report_type).length)||0,"Compliance Dashboard":(null===e||void 0===e?void 0:e.filter(e=>"Compliance Dashboard"===e.report_type).length)||0,"Regulatory Report":(null===e||void 0===e?void 0:e.filter(e=>"Regulatory Report"===e.report_type).length)||0,"Audit Trail":(null===e||void 0===e?void 0:e.filter(e=>"Audit Trail"===e.report_type).length)||0},byDate:{today:(null===e||void 0===e?void 0:e.filter(e=>new Date(e.generated_at).toDateString()===(new Date).toDateString()).length)||0,thisWeek:(null===e||void 0===e?void 0:e.filter(e=>{const t=new Date(e.generated_at),r=new Date;return r.setDate(r.getDate()-7),t>=r}).length)||0,thisMonth:(null===e||void 0===e?void 0:e.filter(e=>{const t=new Date(e.generated_at),r=new Date;return r.setMonth(r.getMonth()-1),t>=r}).length)||0}};return t}catch(e){fO(e)}}},WO={getRiskRules:async()=>{try{return{success:!0,rules:NO,total:NO.length}}catch(e){fO(e)}},calculateRiskScore:async e=>{try{let t=0;const r=[];NO.forEach(n=>{n.condition(e)&&(t+=n.score,r.push({rule:n.name,score:n.score,category:n.category,description:n.description}))});const n=t>=70?"High":t>=40?"Medium":"Low";return{success:!0,riskScore:Math.min(t,100),riskLevel:n,triggeredRules:r,totalRules:NO.length}}catch(t){return console.error("Error in calculateRiskScore:",t),{success:!1,riskScore:0,riskLevel:"Low",triggeredRules:[],totalRules:NO.length,error:t.message||"Failed to calculate risk score"}}},performRiskAssessment:async e=>{try{console.log("Starting risk assessment for customer ID:",e);const n=await pO();console.log("Current user:",n);const a=await yO("customers",e);console.log("Customer data:",a);const i=await WO.calculateRiskScore(a);if(console.log("Risk calculation result:",i),!i.success)throw new Error(i.error||"Failed to calculate risk score");const s={customer_id:e,risk_score:i.riskScore,risk_level:i.riskLevel,triggered_rules:i.triggeredRules,assessment_date:(new Date).toISOString(),created_by:n.id,created_at:(new Date).toISOString()};let o,l;console.log("Assessment payload:",s);try{o=await mO("risk_assessments",s),console.log("Assessment saved:",o)}catch(t){console.error("Failed to save assessment:",t),o={id:"mock-assessment-id"}}try{l=await gO("customers",e,{risk_score:i.riskScore,risk_level:i.riskLevel,last_risk_assessment:(new Date).toISOString()}),console.log("Customer updated:",l)}catch(r){throw console.error("Failed to update customer:",r),new Error("Failed to update customer risk profile")}return{success:!0,data:{...o,...i},message:"Risk assessment completed successfully"}}catch(n){return console.error("Error in performRiskAssessment:",n),{success:!1,data:null,error:n.message||"Failed to perform risk assessment"}}},getRiskAssessmentHistory:async e=>{try{const{data:t,error:r}=await hO.from("risk_assessments").select("*").eq("customer_id",e).order("assessment_date",{ascending:!1});return r&&fO(r),t}catch(t){fO(t)}},updateRiskProfileOverride:async(e,t)=>{try{const r=await pO(),n={customer_id:e,...t,overridden_by:r.id,overridden_at:(new Date).toISOString()},{data:a}=await hO.from("risk_profile_overrides").select("id").eq("customer_id",e).single();return a?await gO("risk_profile_overrides",a.id,n):await mO("risk_profile_overrides",n),{success:!0,message:"Risk profile override updated successfully"}}catch(r){fO(r)}},getRiskProfileOverride:async e=>{try{const{data:t,error:r}=await hO.from("risk_profile_overrides").select("*").eq("customer_id",e).single();return r&&"PGRST116"!==r.code&&fO(r),t||null}catch(t){fO(t)}},getRiskStats:async()=>{try{const{data:e,error:t}=await hO.from("customers").select("risk_score, risk_level");if(t)throw console.error("Error fetching customers for stats:",t),new Error("Failed to fetch customer statistics");const{data:r,error:n}=await hO.from("risk_assessments").select("*");n&&console.error("Error fetching assessments for stats:",n);const a={totalCustomers:(null===e||void 0===e?void 0:e.length)||0,byRiskLevel:{Low:(null===e||void 0===e?void 0:e.filter(e=>"Low"===e.risk_level).length)||0,Medium:(null===e||void 0===e?void 0:e.filter(e=>"Medium"===e.risk_level).length)||0,High:(null===e||void 0===e?void 0:e.filter(e=>"High"===e.risk_level).length)||0},averageRiskScore:(null===e||void 0===e?void 0:e.reduce((e,t)=>e+(t.risk_score||0),0))/((null===e||void 0===e?void 0:e.length)||1)||0,totalAssessments:(null===r||void 0===r?void 0:r.length)||0,assessmentsThisMonth:(null===r||void 0===r?void 0:r.filter(e=>{const t=new Date(e.assessment_date),r=new Date;return r.setMonth(r.getMonth()-1),t>=r}).length)||0};return a}catch(e){return console.error("Error in getRiskStats:",e),{totalCustomers:0,byRiskLevel:{Low:0,Medium:0,High:0},averageRiskScore:0,totalAssessments:0,assessmentsThisMonth:0}}},getCustomersByRiskLevel:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{const n={page:t,limit:r,filters:e?{risk_level:e}:{},orderBy:{column:"risk_score",ascending:!1}},a=await vO("customers",n);return{success:!0,data:a.data||[],count:a.count||0,error:null}}catch(n){return console.error("Error in getCustomersByRiskLevel:",n),{success:!1,data:[],count:0,error:n.message||"Failed to fetch customers"}}},getHighRiskCustomers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{const r={page:e,limit:t,filters:{risk_level:"High"},orderBy:{column:"risk_score",ascending:!1}};return await vO("customers",r)}catch(r){fO(r)}}},HO={getAlerts:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{0,console.log("\ud83d\udd17 Fetching alerts from real Supabase database...");let n=hO.from("transaction_alerts").select("\n          *,\n          transactions (\n            id,\n            amount,\n            transaction_type,\n            currency,\n            customer_id,\n            customers (\n              id,\n              first_name,\n              last_name\n            )\n          )\n        ");console.log("\ud83d\udd0d Base query created, adding filters..."),r.status&&(n=n.eq("status",r.status)),r.alert_type&&(n=n.eq("alert_type",r.alert_type)),r.risk_score&&(n=n.gte("risk_score",r.risk_score)),r.date_from&&(n=n.gte("created_at",r.date_from)),r.date_to&&(n=n.lte("created_at",r.date_to));const a=(e-1)*t,i=a+t-1;n=n.range(a,i),n=n.order("created_at",{ascending:!1}),console.log("\ud83d\udd0d Executing query...");const{data:s,error:o,count:l}=await n;return console.log("\ud83d\udcca Query result:",{alerts:s,error:o,count:l}),o?(console.error("Supabase query error:",o),{success:!1,error:o.message||"Failed to fetch alerts"}):(console.log(`\u2705 Successfully fetched ${(null===s||void 0===s?void 0:s.length)||0} alerts`),{success:!0,data:s||[],count:l||0})}catch(n){return console.error("Error fetching alerts:",n),{success:!1,error:n.message||"Failed to fetch alerts"}}},getAlertById:async e=>{try{0,console.log("\ud83d\udd17 Fetching alert details from real Supabase database..."),console.log("\ud83d\udd0d Alert ID:",e);const{data:t,error:r}=await hO.from("transaction_alerts").select("\n          *,\n          transactions (\n            *,\n            customers (\n              id,\n              first_name,\n              last_name,\n              email\n            )\n          )\n        ").eq("id",e).single();if(console.log("\ud83d\udcca Query result:",{alert:t,error:r}),r)throw console.error("Supabase query error:",r),new Error(r.message||"Failed to fetch alert details");if(!t)throw console.error("No alert found with ID:",e),new Error("Alert not found");return console.log("\u2705 Alert details fetched successfully:",t),t}catch(t){throw console.error("Error fetching alert details:",t),new Error(t.message||"Failed to fetch alert details")}},updateAlertStatus:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{0,console.log("\ud83d\udd17 Updating alert status in real Supabase database..."),console.log("\ud83d\udd0d Alert ID:",e,"New Status:",t,"Remarks:",r);const n=await pO(),a={status:t};r&&r.trim()&&(a.description=r.trim()),"Resolved"!==t&&"Closed"!==t||(a.resolved_at=(new Date).toISOString(),a.resolved_by=n.id),console.log("\ud83d\udcca Update payload:",a);const{data:i,error:s}=await hO.from("transaction_alerts").update(a).eq("id",e).select().single();if(console.log("\ud83d\udcca Update result:",{data:i,error:s}),s)throw console.error("Supabase update error:",s),new Error(s.message||"Failed to update alert status");return console.log("\u2705 Alert status updated successfully:",i),{success:!0,data:i}}catch(n){throw console.error("Error updating alert status:",n),new Error(n.message||"Failed to update alert status")}},markAlertAsRead:async e=>{try{const t=await pO(),r={read_at:(new Date).toISOString(),read_by:t.id,updated_by:t.id,updated_at:(new Date).toISOString()};return await gO("transaction_alerts",e,r)}catch(t){fO(t)}},markAlertsAsRead:async e=>{try{await pO();const t=e.map(e=>HO.markAlertAsRead(e));return await Promise.all(t),{success:!0,message:`${e.length} alerts marked as read`}}catch(t){fO(t)}},createAlert:async e=>{try{const t=await pO(),r={...e,status:"Open",created_by:t.id,created_at:(new Date).toISOString()};return await mO("transaction_alerts",r)}catch(t){fO(t)}},getAlertStats:async()=>{try{0,console.log("\ud83d\udd17 Fetching alert statistics from real Supabase database...");const{data:e,error:t}=await hO.from("transaction_alerts").select("*");if(t)throw console.error("Supabase query error:",t),new Error(t.message||"Failed to fetch alert statistics");const r={total:(null===e||void 0===e?void 0:e.length)||0,byStatus:{Open:(null===e||void 0===e?void 0:e.filter(e=>"Open"===e.status).length)||0,"In Progress":(null===e||void 0===e?void 0:e.filter(e=>"In Progress"===e.status).length)||0,Resolved:(null===e||void 0===e?void 0:e.filter(e=>"Resolved"===e.status).length)||0,Closed:(null===e||void 0===e?void 0:e.filter(e=>"Closed"===e.status).length)||0},byType:{"High Risk Transaction":(null===e||void 0===e?void 0:e.filter(e=>"High Risk Transaction"===e.alert_type).length)||0,"Manual Flag":(null===e||void 0===e?void 0:e.filter(e=>"Manual Flag"===e.alert_type).length)||0,"Suspicious Pattern":(null===e||void 0===e?void 0:e.filter(e=>"Suspicious Pattern"===e.alert_type).length)||0},unread:(null===e||void 0===e?void 0:e.filter(e=>!e.read_at).length)||0,highRisk:(null===e||void 0===e?void 0:e.filter(e=>e.risk_score>=70).length)||0,averageRiskScore:(null===e||void 0===e?void 0:e.reduce((e,t)=>e+(t.risk_score||0),0))/((null===e||void 0===e?void 0:e.length)||1)||0};return r}catch(e){throw console.error("Error fetching alert statistics:",e),new Error(e.message||"Failed to fetch alert statistics")}},getAlertsByCustomer:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{const n={page:t,limit:r,filters:{customer_id:e},orderBy:{column:"created_at",ascending:!1}};return await vO("transaction_alerts",n)}catch(n){fO(n)}},getUnreadAlertsCount:async()=>{try{const{data:e,error:t}=await hO.from("transaction_alerts").select("id").is("read_at",null).eq("status","Open");return t&&fO(t),(null===e||void 0===e?void 0:e.length)||0}catch(e){fO(e)}},getRecentAlerts:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{const{data:t,error:r}=await hO.from("transaction_alerts").select("\n          *,\n          transactions (\n            id,\n            amount,\n            transaction_type\n          )\n        ").order("created_at",{ascending:!1}).limit(e);return r&&fO(r),t}catch(t){fO(t)}},createAlertsForFlaggedTransactions:async()=>{try{console.log("\ud83d\udd0d Creating alerts for flagged transactions...");const{data:e,error:t}=await hO.from("transactions").select("*").eq("status","Flagged");if(t)return console.error("Error fetching flagged transactions:",t),{success:!1,error:t.message};console.log(`\ud83d\udcca Found ${(null===e||void 0===e?void 0:e.length)||0} flagged transactions`);const{data:r,error:n}=await hO.from("transaction_alerts").select("transaction_id");if(n)return console.error("Error fetching existing alerts:",n),{success:!1,error:n.message};const a=(null===r||void 0===r?void 0:r.map(e=>e.transaction_id))||[];console.log(`\ud83d\udcca Found ${a.length} existing alerts`);const i=(null===e||void 0===e?void 0:e.filter(e=>!a.includes(e.id)))||[];if(console.log(`\ud83d\udcca Found ${i.length} flagged transactions without alerts`),0===i.length)return{success:!0,message:"All flagged transactions already have alerts"};const s=i.map(e=>{const t=e.risk_score>=80?"Critical":e.risk_score>=60?"High":"Medium";return{transaction_id:e.id,alert_type:"High Risk Transaction",severity:t,description:`Transaction flagged with risk score ${e.risk_score}. Amount: ${e.currency} ${parseFloat(e.amount).toLocaleString()}`,status:"Open",created_at:(new Date).toISOString()}});console.log("\ud83d\udcca Creating alerts:",s);const{data:o,error:l}=await hO.from("transaction_alerts").insert(s).select();return l?(console.error("Error creating alerts:",l),{success:!1,error:l.message}):(console.log(`\u2705 Created ${(null===o||void 0===o?void 0:o.length)||0} alerts for flagged transactions`),{success:!0,message:`Created ${(null===o||void 0===o?void 0:o.length)||0} alerts for flagged transactions`,createdCount:(null===o||void 0===o?void 0:o.length)||0})}catch(e){return console.error("Error creating alerts for flagged transactions:",e),{success:!1,error:e.message}}}},KO={async saveVerificationChecks(e,t){try{var r;const{data:n}=await hO.auth.getUser(),a=(null===n||void 0===n||null===(r=n.user)||void 0===r?void 0:r.id)||"00000000-0000-0000-0000-000000000001",{error:i}=await hO.from("customer_verification_checks").delete().eq("customer_id",e);if(i)return console.error("Error deleting existing checks:",i),{success:!1,error:i.message};const s=Object.entries(t).filter(e=>{let[t,r]=e;return r.answer}).map(t=>{let[r,n]=t;return{customer_id:e,check_type:r,check_question:n.question||this.getQuestionByType(r),answer:n.answer,notes:n.notes||null,checked_by:a,checked_at:(new Date).toISOString()}});if(0===s.length)return{success:!0,data:[],message:"No verification checks to save"};const{data:o,error:l}=await hO.from("customer_verification_checks").insert(s).select();return l?(console.error("Error saving verification checks:",l),{success:!1,error:l.message}):{success:!0,data:o,message:"Verification checks saved successfully"}}catch(n){return console.error("Error in saveVerificationChecks:",n),{success:!1,error:n.message}}},async loadVerificationChecks(e){try{const{data:t,error:r}=await hO.from("customer_verification_checks").select("*").eq("customer_id",e).order("created_at",{ascending:!0});if(r)return console.error("Error loading verification checks:",r),{success:!1,error:r.message};const n={};return t.forEach(e=>{n[e.check_type]={answer:e.answer,notes:e.notes||"",question:e.check_question}}),{success:!0,data:n}}catch(t){return console.error("Error in loadVerificationChecks:",t),{success:!1,error:t.message}}},getQuestionByType:e=>({adverseMedia:"1. Any adverse media or criminal records found?",sanctionsMatch:"2. Any sanctions list matches or watchlist hits?",sourceOfFunds:"3. Source of Funds \u2014 Are they legitimate and verifiable?",sourceOfWealth:"4. Source of Wealth \u2014 Sufficient evidence or rationale provided?",documentAuthenticity:"5. Are all submitted documents authentic and valid?",identityVerified:"6. Has identity been verified against reliable sources?",pepCheck:"7. Is the individual a politically exposed person (PEP)?",elevatedRisk:"8. Any elevated risk indicators that require EDD?"}[e]||e),getDefaultQuestions:()=>[{label:"1. Any adverse media or criminal records found?",key:"adverseMedia"},{label:"2. Any sanctions list matches or watchlist hits?",key:"sanctionsMatch"},{label:"3. Source of Funds \u2014 Are they legitimate and verifiable?",key:"sourceOfFunds"},{label:"4. Source of Wealth \u2014 Sufficient evidence or rationale provided?",key:"sourceOfWealth"},{label:"5. Are all submitted documents authentic and valid?",key:"documentAuthenticity"},{label:"6. Has identity been verified against reliable sources?",key:"identityVerified"},{label:"7. Is the individual a politically exposed person (PEP)?",key:"pepCheck"},{label:"8. Any elevated risk indicators that require EDD?",key:"elevatedRisk"}]},VO=[{name:"Afghanistan",code:"AF",phone:"+93"},{name:"\xc5land Islands",code:"AX",phone:"+358"},{name:"Albania",code:"AL",phone:"+355"},{name:"Algeria",code:"DZ",phone:"+213"},{name:"American Samoa",code:"AS",phone:"+1 684"},{name:"Andorra",code:"AD",phone:"+376"},{name:"Angola",code:"AO",phone:"+244"},{name:"Anguilla",code:"AI",phone:"+1 264"},{name:"Antarctica",code:"AQ",phone:"+672"},{name:"Antigua And Barbuda",code:"AG",phone:"+1 268"},{name:"Argentina",code:"AR",phone:"+54"},{name:"Armenia",code:"AM",phone:"+374"},{name:"Aruba",code:"AW",phone:"+297"},{name:"Ascension Island",code:"AC",phone:"+247"},{name:"Australia",code:"AU",phone:"+61"},{name:"Austria",code:"AT",phone:"+43"},{name:"Azerbaijan",code:"AZ",phone:"+994"},{name:"Bahamas",code:"BS",phone:"+1 242"},{name:"Bahrain",code:"BH",phone:"+973"},{name:"Bangladesh",code:"BD",phone:"+880"},{name:"Barbados",code:"BB",phone:"+1 246"},{name:"Belarus",code:"BY",phone:"+375"},{name:"Belgium",code:"BE",phone:"+32"},{name:"Belize",code:"BZ",phone:"+501"},{name:"Benin",code:"BJ",phone:"+229"},{name:"Bermuda",code:"BM",phone:"+1 441"},{name:"Bhutan",code:"BT",phone:"+975"},{name:"Bolivia, Plurinational State Of",code:"BO",phone:"+591"},{name:"Bonaire, Saint Eustatius And Saba",code:"BQ",phone:"+599"},{name:"Bosnia & Herzegovina",code:"BA",phone:"+387"},{name:"Botswana",code:"BW",phone:"+267"},{name:"Brazil",code:"BR",phone:"+55"},{name:"British Indian Ocean Territory",code:"IO",phone:"+246"},{name:"Brunei Darussalam",code:"BN",phone:"+673"},{name:"Bulgaria",code:"BG",phone:"+359"},{name:"Burkina Faso",code:"BF",phone:"+226"},{name:"Burundi",code:"BI",phone:"+257"},{name:"Cabo Verde",code:"CV",phone:"+238"},{name:"Cambodia",code:"KH",phone:"+855"},{name:"Cameroon",code:"CM",phone:"+237"},{name:"Canada",code:"CA",phone:"+1"},{name:"Cayman Islands",code:"KY",phone:"+1 345"},{name:"Central African Republic",code:"CF",phone:"+236"},{name:"Chad",code:"TD",phone:"+235"},{name:"Chile",code:"CL",phone:"+56"},{name:"China",code:"CN",phone:"+86"},{name:"Christmas Island",code:"CX",phone:"+61"},{name:"Cocos (Keeling) Islands",code:"CC",phone:"+61"},{name:"Colombia",code:"CO",phone:"+57"},{name:"Comoros",code:"KM",phone:"+269"},{name:"Cook Islands",code:"CK",phone:"+682"},{name:"Costa Rica",code:"CR",phone:"+506"},{name:"C\xf4te d'Ivoire",code:"CI",phone:"+225"},{name:"Croatia",code:"HR",phone:"+385"},{name:"Cuba",code:"CU",phone:"+53"},{name:"Curacao",code:"CW",phone:"+599"},{name:"Cyprus",code:"CY",phone:"+357"},{name:"Czech Republic",code:"CZ",phone:"+420"},{name:"Democratic Republic Of Congo",code:"CD",phone:"+243"},{name:"Denmark",code:"DK",phone:"+45"},{name:"Djibouti",code:"DJ",phone:"+253"},{name:"Dominica",code:"DM",phone:"+1 767"},{name:"Dominican Republic",code:"DO",phone:"+1 809"},{name:"Ecuador",code:"EC",phone:"+593"},{name:"Egypt",code:"EG",phone:"+20"},{name:"El Salvador",code:"SV",phone:"+503"},{name:"Equatorial Guinea",code:"GQ",phone:"+240"},{name:"Eritrea",code:"ER",phone:"+291"},{name:"Estonia",code:"EE",phone:"+372"},{name:"Ethiopia",code:"ET",phone:"+251"},{name:"European Union",code:"EU",phone:"+388"},{name:"Falkland Islands",code:"FK",phone:"+500"},{name:"Faroe Islands",code:"FO",phone:"+298"},{name:"Fiji",code:"FJ",phone:"+679"},{name:"Finland",code:"FI",phone:"+358"},{name:"France",code:"FR",phone:"+33"},{name:"France, Metropolitan",code:"FX",phone:"+241"},{name:"French Guiana",code:"GF",phone:"+594"},{name:"French Polynesia",code:"PF",phone:"+689"},{name:"Gabon",code:"GA",phone:"+241"},{name:"Gambia",code:"GM",phone:"+220"},{name:"Georgia",code:"GE",phone:"+995"},{name:"Germany",code:"DE",phone:"+49"},{name:"Ghana",code:"GH",phone:"+233"},{name:"Gibraltar",code:"GI",phone:"+350"},{name:"Greece",code:"GR",phone:"+30"},{name:"Greenland",code:"GL",phone:"+299"},{name:"Grenada",code:"GD",phone:"+473"},{name:"Guadeloupe",code:"GP",phone:"+590"},{name:"Guam",code:"GU",phone:"+1 671"},{name:"Guatemala",code:"GT",phone:"+502"},{name:"Guernsey",code:"GG",phone:"+44"},{name:"Guinea",code:"GN",phone:"+224"},{name:"Guinea-bissau",code:"GW",phone:"+245"},{name:"Guyana",code:"GY",phone:"+592"},{name:"Haiti",code:"HT",phone:"+509"},{name:"Honduras",code:"HN",phone:"+504"},{name:"Hong Kong",code:"HK",phone:"+852"},{name:"Hungary",code:"HU",phone:"+36"},{name:"Iceland",code:"IS",phone:"+354"},{name:"India",code:"IN",phone:"+91"},{name:"Indonesia",code:"ID",phone:"+62"},{name:"Iran, Islamic Republic Of",code:"IR",phone:"+98"},{name:"Iraq",code:"IQ",phone:"+964"},{name:"Ireland",code:"IE",phone:"+353"},{name:"Isle Of Man",code:"IM",phone:"+44"},{name:"Israel",code:"IL",phone:"+972"},{name:"Italy",code:"IT",phone:"+39"},{name:"Jamaica",code:"JM",phone:"+1 876"},{name:"Japan",code:"JP",phone:"+81"},{name:"Jersey",code:"JE",phone:"+44"},{name:"Jordan",code:"JO",phone:"+962"},{name:"Kazakhstan",code:"KZ",phone:"+7"},{name:"Kenya",code:"KE",phone:"+254"},{name:"Kiribati",code:"KI",phone:"+686"},{name:"Korea, Democratic People's Republic Of",code:"KP",phone:"+850"},{name:"Korea, Republic Of",code:"KR",phone:"+82"},{name:"Kosovo",code:"XK",phone:"+383"},{name:"Kuwait",code:"KW",phone:"+965"},{name:"Kyrgyzstan",code:"KG",phone:"+996"},{name:"Lao People's Democratic Republic",code:"LA",phone:"+856"},{name:"Latvia",code:"LV",phone:"+371"},{name:"Lebanon",code:"LB",phone:"+961"},{name:"Lesotho",code:"LS",phone:"+266"},{name:"Liberia",code:"LR",phone:"+231"},{name:"Libya",code:"LY",phone:"+218"},{name:"Liechtenstein",code:"LI",phone:"+423"},{name:"Lithuania",code:"LT",phone:"+370"},{name:"Luxembourg",code:"LU",phone:"+352"},{name:"Macao",code:"MO",phone:"+853"},{name:"Macedonia, The Former Yugoslav Republic Of",code:"MK",phone:"+389"},{name:"Madagascar",code:"MG",phone:"+261"},{name:"Malawi",code:"MW",phone:"+265"},{name:"Malaysia",code:"MY",phone:"+60"},{name:"Maldives",code:"MV",phone:"+960"},{name:"Mali",code:"ML",phone:"+223"},{name:"Malta",code:"MT",phone:"+356"},{name:"Marshall Islands",code:"MH",phone:"+692"},{name:"Martinique",code:"MQ",phone:"+596"},{name:"Mauritania",code:"MR",phone:"+222"},{name:"Mauritius",code:"MU",phone:"+230"},{name:"Mayotte",code:"YT",phone:"+262"},{name:"Mexico",code:"MX",phone:"+52"},{name:"Micronesia, Federated States Of",code:"FM",phone:"+691"},{name:"Moldova",code:"MD",phone:"+373"},{name:"Monaco",code:"MC",phone:"+377"},{name:"Mongolia",code:"MN",phone:"+976"},{name:"Montenegro",code:"ME",phone:"+382"},{name:"Montserrat",code:"MS",phone:"+1 664"},{name:"Morocco",code:"MA",phone:"+212"},{name:"Mozambique",code:"MZ",phone:"+258"},{name:"Myanmar",code:"MM",phone:"+95"},{name:"Namibia",code:"NA",phone:"+264"},{name:"Nauru",code:"NR",phone:"+674"},{name:"Nepal",code:"NP",phone:"+977"},{name:"Netherlands",code:"NL",phone:"+31"},{name:"New Caledonia",code:"NC",phone:"+687"},{name:"New Zealand",code:"NZ",phone:"+64"},{name:"Nicaragua",code:"NI",phone:"+505"},{name:"Niger",code:"NE",phone:"+227"},{name:"Nigeria",code:"NG",phone:"+234"},{name:"Niue",code:"NU",phone:"+683"},{name:"Norfolk Island",code:"NF",phone:"+672"},{name:"Northern Mariana Islands",code:"MP",phone:"+1 670"},{name:"Norway",code:"NO",phone:"+47"},{name:"Oman",code:"OM",phone:"+968"},{name:"Pakistan",code:"PK",phone:"+92"},{name:"Palau",code:"PW",phone:"+680"},{name:"Palestinian Territory, Occupied",code:"PS",phone:"+970"},{name:"Panama",code:"PA",phone:"+507"},{name:"Papua New Guinea",code:"PG",phone:"+675"},{name:"Paraguay",code:"PY",phone:"+595"},{name:"Peru",code:"PE",phone:"+51"},{name:"Philippines",code:"PH",phone:"+63"},{name:"Pitcairn",code:"PN",phone:"+872"},{name:"Poland",code:"PL",phone:"+48"},{name:"Portugal",code:"PT",phone:"+351"},{name:"Puerto Rico",code:"PR",phone:"+1 787"},{name:"Qatar",code:"QA",phone:"+974"},{name:"Republic Of Congo",code:"CG",phone:"+242"},{name:"Reunion",code:"RE",phone:"+262"},{name:"Romania",code:"RO",phone:"+40"},{name:"Russian Federation",code:"RU",phone:"+7"},{name:"Rwanda",code:"RW",phone:"+250"},{name:"Saint Barth\xe9lemy",code:"BL",phone:"+590"},{name:"Saint Helena, Ascension And Tristan Da Cunha",code:"SH",phone:"+290"},{name:"Saint Kitts And Nevis",code:"KN",phone:"+1 869"},{name:"Saint Lucia",code:"LC",phone:"+1 758"},{name:"Saint Martin",code:"MF",phone:"+590"},{name:"Saint Pierre And Miquelon",code:"PM",phone:"+508"},{name:"Saint Vincent And The Grenadines",code:"VC",phone:"+1 784"},{name:"Samoa",code:"WS",phone:"+685"},{name:"San Marino",code:"SM",phone:"+378"},{name:"Sao Tome and Principe",code:"ST",phone:"+239"},{name:"Saudi Arabia",code:"SA",phone:"+966"},{name:"Senegal",code:"SN",phone:"+221"},{name:"Serbia",code:"RS",phone:"+381"},{name:"Seychelles",code:"SC",phone:"+248"},{name:"Sierra Leone",code:"SL",phone:"+232"},{name:"Singapore",code:"SG",phone:"+65"},{name:"Sint Maarten",code:"SX",phone:"+1 721"},{name:"Slovakia",code:"SK",phone:"+421"},{name:"Slovenia",code:"SI",phone:"+386"},{name:"Solomon Islands",code:"SB",phone:"+677"},{name:"Somalia",code:"SO",phone:"+252"},{name:"South Africa",code:"ZA",phone:"+27"},{name:"South Sudan",code:"SS",phone:"+211"},{name:"Spain",code:"ES",phone:"+34"},{name:"Sri Lanka",code:"LK",phone:"+94"},{name:"Sudan",code:"SD",phone:"+249"},{name:"Suriname",code:"SR",phone:"+597"},{name:"Svalbard And Jan Mayen",code:"SJ",phone:"+47"},{name:"Swaziland",code:"SZ",phone:"+268"},{name:"Sweden",code:"SE",phone:"+46"},{name:"Switzerland",code:"CH",phone:"+41"},{name:"Syrian Arab Republic",code:"SY",phone:"+963"},{name:"Taiwan",code:"TW",phone:"+886"},{name:"Tajikistan",code:"TJ",phone:"+992"},{name:"Tanzania, United Republic Of",code:"TZ",phone:"+255"},{name:"Thailand",code:"TH",phone:"+66"},{name:"Timor-Leste, Democratic Republic of",code:"TL",phone:"+670"},{name:"Togo",code:"TG",phone:"+228"},{name:"Tokelau",code:"TK",phone:"+690"},{name:"Tonga",code:"TO",phone:"+676"},{name:"Trinidad And Tobago",code:"TT",phone:"+1 868"},{name:"Tristan de Cunha",code:"TA",phone:"+290"},{name:"Tunisia",code:"TN",phone:"+216"},{name:"Turkey",code:"TR",phone:"+90"},{name:"Turkmenistan",code:"TM",phone:"+993"},{name:"Turks And Caicos Islands",code:"TC",phone:"+1 649"},{name:"Tuvalu",code:"TV",phone:"+688"},{name:"Uganda",code:"UG",phone:"+256"},{name:"Ukraine",code:"UA",phone:"+380"},{name:"United Arab Emirates",code:"AE",phone:"+971"},{name:"United Kingdom",code:"GB",phone:"+44"},{name:"United States",code:"US",phone:"+1"},{name:"United States Minor Outlying Islands",code:"UM",phone:"+1"},{name:"Uruguay",code:"UY",phone:"+598"},{name:"Uzbekistan",code:"UZ",phone:"+998"},{name:"Vanuatu",code:"VU",phone:"+678"},{name:"Vatican City State",code:"VA",phone:"+379"},{name:"Venezuela, Bolivarian Republic Of",code:"VE",phone:"+58"},{name:"Viet Nam",code:"VN",phone:"+84"},{name:"Virgin Islands (British)",code:"VG",phone:"+1 284"},{name:"Virgin Islands (US)",code:"VI",phone:"+1 340"},{name:"Wallis And Futuna",code:"WF",phone:"+681"},{name:"Western Sahara",code:"EH",phone:"+212"},{name:"Yemen",code:"YE",phone:"+967"},{name:"Zambia",code:"ZM",phone:"+260"},{name:"Zimbabwe",code:"ZW",phone:"+263"}],GO=["Accounting","Adult Entertainment","Advertising, Marketing and PR","Advocacy Organizations","Aerospace and Defense","Jewellery","Agriculture & Mining Other","Air Couriers and Cargo Services","Airlines","Alternative Medicine","Animal Production","Antique Dealers","Apparel, Accessories and Footwear","Appliances and Electronics","Architectural Services","Art Dealers and Galleries","Art, Culture and Recreation","Automobiles","Aviation","Banking and Finance","Bars and Nightclubs","Beauty and Wellness","Beverage Distribution","Beverages","Biotechnology","Brokerage Firms","Building Materials","Business Services","Cable and Satellite","Call Centers","Catering and Food Services","Charities and Foundations","Chemicals","Child Care Services","Cleaning Services","Clubs and Associations","Commercial Real Estate","Commodities","Computer Services","Construction","Consulting","Consumer Products","Corporate Services","Cosmetics","Courier Services","Credit Reporting","Criminal Organizations","Cryptocurrency and Blockchain","Cultural Institutions","Currency Exchange","Customer Support Services","Customs Brokerage","Cybersecurity","Dating Services","Debt Collection","Design Services","Digital Media","Direct Selling","Distribution","E-commerce","Education","Electronics Manufacturing","Energy","Engineering","Entertainment","Environmental Services","Event Planning","Farming","Fashion","Film and TV Production","Financial Advisory","Financial Institutions","Fishing","Fitness and Sports","Food Manufacturing","Food Retail","Foreign Exchange Dealers","Forestry","Freight Forwarding","Gambling and Casinos","Gems and Precious Metals","Government and Public Services","Graphic Design","Green Energy","Grocery and Supermarkets","Healthcare","Heavy Machinery","Holding Companies","Hospitality","Hotels","Human Resources","Import and Export","Industrial Manufacturing","Information Technology","Insurance","Intellectual Property","Interior Design","Internet Services","Investment Management","Jewelry Retail","Journalism and Publishing","Laboratories","Law Enforcement","Legal Services","Leisure Services","Logistics","Luxury Goods","Machinery","Maintenance Services","Manufacturing","Maritime Services","Marketing","Media and Broadcasting","Medical Devices","Mining","Mobile Telecommunications","Mortgage Services","Museums and Libraries","Music Industry","NGOs","Non-Profit","Oil and Gas","Online Gaming","Packaging","Paper and Forest Products","Pension Funds","Performing Arts","Personal Services","Pharmaceuticals","Photography","Political Organizations","Printing Services","Private Equity","Professional Training","Property Management","Public Administration","Publishing","Real Estate","Recruitment","Recycling","Religious Organizations","Renewable Energy","Research","Residential Real Estate","Restaurants","Retail","Risk Management","Rubber and Plastics","Sales","Sanitation","Science and Technology","Security Services","Shipping and Ports","Social Services","Software","Sports Organizations","Staffing and Outsourcing","Stock Exchanges","Storage and Warehousing","Sustainable Products","Technology Services","Telecommunications","Textiles","Theater","Tobacco","Tourism","Toys and Games","Trade Associations","Trading","Training Services","Translation and Interpretation","Transportation","Travel Agencies","Trust Services","Utilities","Venture Capital","Veterinary Services","Video Production","Warehousing","Waste Management","Water Supply","Wholesale Trade","Wine and Spirits","Writing and Editing"],YO=["Natural Person","Legal Entities"],JO=["Pink Collar","White Collar","Blue Collar","Red Collar","Partner"],XO=["Emirates ID","Passport","GCC National ID"],QO=["Yes","No"],ZO=["Resident","Non-Resident"],eP=["Male","Female"],tP=["Inheritance","Dividend"],rP=["Salary","Personal Savings","End of Services Funds","Loan from Friends and Family","Loan from Financial Institutions","Funds From Schemes and Raffles","Funds from Dividend Payouts","Other sources","LOANS","INVESTMENTS","Bank Statement","Bank - Cash withdrawal Slip","Business Proceeds","Bonuses","Pension","Retirement benefit payouts","Interest income on bonds","Dividend income","Return on investments","Proceeds of real-estate sale transaction","Inheritance or gifts","Winnings from lottery or casino","Lawsuit settlement","Divorce settlement","Sale of artworks","Sale of a fixed asset","Sale of products and services","Business income","Sale of investments and properties","Shares and securities","Royalties","Patents"],nP=["Trading","Manufacturing","Services","Real Estate","Financial Services","Technology","Healthcare","Education","Consulting","Retail","Wholesale","Construction","Transportation","Hospitality","Agriculture","Mining","Energy","Media","Entertainment","Other"],aP=["Commercial License","Industrial License","Professional License","Civil Organization License","Service License","Trading License","Business License","Certificate of Incorporation"],iP=["Category A","Category B","Category C","Category D","Category E","Special Category","General Category","Professional Category"],sP=["UAE","Dubai","Abu Dhabi","Sharjah","Ajman","Umm Al Quwain","Ras Al Khaimah","Fujairah","Free Zone","Offshore","Other"],oP=["Natural Person","Legal Entities","Trust"],lP=["Class A","Class B"],cP=["Discretionary","Charitable","Purpose"],uP=["Natural Person","Legal Entities"],dP=["Yes","No"],hP=e=>{let{formData:t,onInputChange:r,onFieldBlur:n,errors:a,touched:i}=e;return(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profession"}),(0,Zt.jsxs)("select",{className:"input",value:t.profession,onChange:e=>r("profession",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Profession"}),JO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{className:"input "+(a.firstName?"border-red-500":""),value:t.firstName,onChange:e=>r("firstName",e.target.value),onBlur:()=>n("firstName")}),a.firstName&&i.firstName&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.firstName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{className:"input",value:t.lastName,onChange:e=>r("lastName",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alias"}),(0,Zt.jsx)("input",{className:"input",value:t.alias,onChange:e=>r("alias",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Birth ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{type:"date",className:"input "+(a.dateOfBirth?"border-red-500":""),value:t.dateOfBirth,onChange:e=>r("dateOfBirth",e.target.value),onBlur:()=>n("dateOfBirth")}),a.dateOfBirth&&i.dateOfBirth&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:a.dateOfBirth})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nationality ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.nationality,onChange:e=>r("nationality",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Nationality"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Residency Status ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.residencyStatus,onChange:e=>r("residencyStatus",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Residency Status"}),ZO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID Type ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.idType,onChange:e=>r("idType",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select ID Type"}),XO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID Number ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{className:"input",value:t.idNumber,onChange:e=>r("idNumber",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),(0,Zt.jsx)("input",{type:"date",className:"input",value:t.issueDate,onChange:e=>r("issueDate",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,Zt.jsx)("input",{type:"date",className:"input",value:t.expiryDate,onChange:e=>r("expiryDate",e.target.value)})]}),(0,Zt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zt.jsx)("input",{type:"checkbox",id:"dual",checked:t.isDualNationality,onChange:e=>r("isDualNationality",e.target.checked)}),(0,Zt.jsx)("label",{htmlFor:"dual",children:"Is Dual Nationality?"})]}),t.isDualNationality&&(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dual Nationality"}),(0,Zt.jsxs)("select",{className:"input",value:t.dualNationality,onChange:e=>r("dualNationality",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Dual Nationality"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passport Number"}),(0,Zt.jsx)("input",{className:"input",value:t.dualPassportNumber,onChange:e=>r("dualPassportNumber",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passport Issue Date"}),(0,Zt.jsx)("input",{type:"date",className:"input",value:t.dualPassportIssueDate,onChange:e=>r("dualPassportIssueDate",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passport Expiry Date"}),(0,Zt.jsx)("input",{type:"date",className:"input",value:t.dualPassportExpiryDate,onChange:e=>r("dualPassportExpiryDate",e.target.value)})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{className:"input",value:t.address,onChange:e=>r("address",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Occupation ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.occupation,onChange:e=>r("occupation",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Occupation"}),GO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Source of Wealth ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.sourceOfWealth,onChange:e=>r("sourceOfWealth",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source of Wealth"}),tP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["PEP ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.pep,onChange:e=>r("pep",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select PEP Status"}),QO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Country of Birth ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.countryOfBirth,onChange:e=>r("countryOfBirth",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Country of Birth"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Source of Funds ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.sourceOfFunds,onChange:e=>r("sourceOfFunds",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source of Funds"}),rP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Box"}),(0,Zt.jsx)("input",{className:"input",value:t.poBox,onChange:e=>r("poBox",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Gender ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.gender,onChange:e=>r("gender",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Gender"}),eP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employer"}),(0,Zt.jsx)("input",{className:"input",value:t.employer,onChange:e=>r("employer",e.target.value)})]})]})},fP=e=>{let{formData:t,onInputChange:r}=e;const n=(e,n,a,i)=>{const s=t[e]||[];return(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i," ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:s.map((n,a)=>(0,Zt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n,(0,Zt.jsx)("button",{type:"button",onClick:()=>((e,n)=>{const a=t[e]||[];r(e,a.filter(e=>e!==n))})(e,n),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:text-blue-600 hover:bg-blue-200",children:"\xd7"})]},a))}),(0,Zt.jsxs)("select",{className:"input",value:"",onChange:n=>{n.target.value&&(((e,n)=>{const a=t[e]||[];a.includes(n)||r(e,[...a,n])})(e,n.target.value),n.target.value="")},children:[(0,Zt.jsx)("option",{value:"",children:a}),n.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]})};return(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,Zt.jsx)("div",{children:n("businessActivity",nP,"Select Business Activity","Business Activity")}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Legal Name ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{className:"input",value:t.legalName,onChange:e=>r("legalName",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alias"}),(0,Zt.jsx)("input",{className:"input",value:t.alias,onChange:e=>r("alias",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Incorporation ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{type:"date",className:"input",value:t.dateOfIncorporation,onChange:e=>r("dateOfIncorporation",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Country of Incorporation ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.countryOfIncorporation,onChange:e=>r("countryOfIncorporation",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Country of Incorporation"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["License Type ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.licenseType,onChange:e=>r("licenseType",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select License Type"}),aP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["License Number ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{className:"input",value:t.licenseNumber,onChange:e=>r("licenseNumber",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),(0,Zt.jsx)("input",{type:"date",className:"input",value:t.licenseIssueDate,onChange:e=>r("licenseIssueDate",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,Zt.jsx)("input",{type:"date",className:"input",value:t.licenseExpiryDate,onChange:e=>r("licenseExpiryDate",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registered Office Address"}),(0,Zt.jsx)("input",{className:"input",value:t.registeredOfficeAddress,onChange:e=>r("registeredOfficeAddress",e.target.value)})]}),(0,Zt.jsx)("div",{children:n("countriesSourceOfFunds",VO.map(e=>e.name),"Select Countries Source of Funds","Countries Source of Funds")}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Management Company"}),(0,Zt.jsx)("input",{className:"input",value:t.managementCompany,onChange:e=>r("managementCompany",e.target.value)})]}),(0,Zt.jsx)("div",{children:n("countriesOfOperation",VO.map(e=>e.name),"Select Countries of Operation","Countries of Operation")}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Jurisdiction ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.jurisdiction,onChange:e=>r("jurisdiction",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Jurisdiction"}),sP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Source of Funds ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.sourceOfFunds,onChange:e=>r("sourceOfFunds",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source of Funds"}),rP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Residency Status ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.residencyStatus,onChange:e=>r("residencyStatus",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Residency Status"}),ZO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Licensing Authority / Other Details"}),(0,Zt.jsx)("input",{className:"input",value:t.licensingAuthority,onChange:e=>r("licensingAuthority",e.target.value),placeholder:"Enter licensing authority or other details"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TRN"}),(0,Zt.jsx)("input",{className:"input",value:t.trn,onChange:e=>r("trn",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["License Category ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input",value:t.licenseCategory,onChange:e=>r("licenseCategory",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select License Category"}),iP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Expiry Date"}),(0,Zt.jsx)("input",{type:"date",className:"input",value:t.addressExpiryDate,onChange:e=>r("addressExpiryDate",e.target.value)})]})]})},pP=e=>{if(!e)return{countryCode:"+971",phone:""};const t=VO.map(e=>e.phone);let r="+971",n=e;for(const a of t)if(e.startsWith(a)){r=a,n=e.substring(a.length);break}return{countryCode:r,phone:n}},mP=e=>{var r,n,a;let{shareholders:i=[],onShareholdersChange:s,isEdit:o=!1,onDirectorCreate:l=null,onUboCreate:c=null}=e;const[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[g,y]=(0,t.useState)("Natural Person"),[v,b]=(0,t.useState)({}),[x,w]=(0,t.useState)({}),[N,_]=(0,t.useState)({type:"Natural Person",fullName:"",alias:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",sourceOfFunds:"",sourceOfWealth:"",occupation:"",expectedIncome:"",pep:"",shareholding:"",dualNationality:"",isDirector:!1,isUbo:!1}),S=e=>{w(t=>({...t,[e]:!0}));const t=((e,t)=>{let r="";switch(e){case"fullName":t&&t.length<2&&(r="Name must be at least 2 characters long");break;case"legalName":t&&t.length<2&&(r="Legal name must be at least 2 characters long");break;case"alias":t&&t.length<2&&(r="Alias must be at least 2 characters long");break;case"email":t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(r="Please enter a valid email address");break;case"phone":t&&t.length<7&&(r="Phone number must be at least 7 digits");break;case"dateOfBirth":if(t){const e=new Date(t),n=new Date;e>n&&(r="Date of birth cannot be in the future"),n.getFullYear()-e.getFullYear()>120&&(r="Date of birth seems invalid")}break;case"dateOfIncorporation":t&&new Date(t)>new Date&&(r="Date of incorporation cannot be in the future");break;case"licenseIssueDate":t&&new Date(t)>new Date&&(r="Issue date cannot be in the future");break;case"shareholding":if(t){const e=parseFloat(t);(isNaN(e)||e<0||e>100)&&(r="Shareholding must be between 0 and 100")}break;case"expectedIncome":t&&parseFloat(t)<0&&(r="Expected income cannot be negative");break;case"trustName":t&&t.length<2&&(r="Trust name must be at least 2 characters long")}return r})(e,N[e]);b(r=>({...r,[e]:t}))},j=(e,t)=>{_(r=>({...r,[e]:t})),v[e]&&b(t=>({...t,[e]:""}))};return(0,Zt.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,Zt.jsxs)("button",{type:"button",onClick:()=>d(!u),className:"w-full px-4 py-3 text-left bg-gray-50 hover:bg-gray-100 rounded-t-lg flex justify-between items-center",children:[(0,Zt.jsx)("span",{className:"font-medium text-gray-900",children:"Shareholder Details"}),(0,Zt.jsx)("svg",{className:"w-5 h-5 text-gray-500 transform transition-transform "+(u?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&(0,Zt.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[i.length>0&&(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h4",{className:"font-medium mb-4 text-gray-900",children:"Shareholders"}),(0,Zt.jsx)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:(0,Zt.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,Zt.jsx)("span",{className:"font-medium",children:"Total Shareholding:"})," ",i.reduce((e,t)=>e+(parseFloat(t.shareholding)||0),0).toFixed(2),"%"]})}),(0,Zt.jsx)("div",{className:"space-y-3",children:i.map((e,t)=>(0,Zt.jsxs)("div",{className:"p-3 bg-gray-50 rounded border",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Zt.jsx)("span",{className:"font-medium",children:e.fullName||e.legalName||e.trustName}),(0,Zt.jsxs)("div",{className:"flex space-x-2",children:[(0,Zt.jsx)("button",{type:"button",onClick:()=>(async e=>{const t=i[e];if(console.log("\ud83d\udd0d Editing shareholder:",t),t.id)try{const{success:r,data:n,error:a}=await kO.getShareholderById(t.id);if(r&&n){console.log("\ud83d\udd0d Fresh shareholder data from database:",n);const{countryCode:r,phone:a}=pP(n.phone||""),i={...n,countryCode:r||"+971",phone:a||"",type:n.type||t.type||"Natural Person"};console.log("\ud83d\udd0d Processed shareholder data:",i),y(n.type||t.type||"Natural Person"),_(i),m(e),console.log("\ud83d\udd0d Set shareholderType:",n.type||t.type||"Natural Person"),console.log("\ud83d\udd0d Set currentShareholder:",i)}else{console.error("\ud83d\udd0d Failed to fetch fresh shareholder data:",a);const{countryCode:r,phone:n}=pP(t.phone||""),i={...t,countryCode:r||"+971",phone:n||"",type:t.type||"Natural Person"};y(t.type||"Natural Person"),_(i),m(e)}}catch(r){console.error("\ud83d\udd0d Error fetching shareholder data:",r);const{countryCode:n,phone:a}=pP(t.phone||""),i={...t,countryCode:n||"+971",phone:a||"",type:t.type||"Natural Person"};y(t.type||"Natural Person"),_(i),m(e)}else{console.log("\ud83d\udd0d Editing new shareholder (no ID yet):",t);const{countryCode:r,phone:n}=pP(t.phone||""),a={...t,countryCode:r||"+971",phone:n||"",type:t.type||"Natural Person"};console.log("\ud83d\udd0d Processed new shareholder data:",a),y(t.type||"Natural Person"),_(a),m(e),console.log("\ud83d\udd0d Set shareholderType for new shareholder:",t.type||"Natural Person"),console.log("\ud83d\udd0d Set currentShareholder for new shareholder:",a)}})(t),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),(0,Zt.jsx)("button",{type:"button",onClick:()=>(async e=>{const t=i[e];if(console.log("\ud83d\uddd1\ufe0f Removing shareholder:",t),t.id)try{const{success:r,error:n}=await kO.deleteShareholderById(t.id);if(r){const t=i.filter((t,r)=>r!==e);s(t),console.log("\u2705 Shareholder removed from database and UI")}else console.error("\u274c Failed to delete shareholder from database:",n),alert(`Failed to remove shareholder: ${n||"Unknown error"}`)}catch(r){console.error("\u274c Error during shareholder removal:",r),alert(`Error removing shareholder: ${r.message||"Unknown error"}`)}else{console.log("\ud83d\uddd1\ufe0f Removing new shareholder (no ID yet):",t);const r=i.filter((t,r)=>r!==e);s(r),console.log("\u2705 New shareholder removed from UI")}})(t),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]}),(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Type: ",e.type]}),e.shareholding&&(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Shareholding: ",e.shareholding,"%"]})]},t))})]}),o&&(0,Zt.jsxs)("div",{className:"mb-6",children:[0===i.length&&(0,Zt.jsx)("p",{className:"text-gray-700 text-md font-medium mb-3 italic",children:"No Shareholders have been added yet"}),(0,Zt.jsx)("div",{className:"flex space-x-2",children:(0,Zt.jsx)("button",{type:"button",onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add New Shareholder"})})]}),(!o||h||null!==p)&&(0,Zt.jsxs)("div",{className:"mb-6 p-4 border rounded-lg "+(null!==p?"border-blue-300 bg-blue-50":"border-gray-200"),children:[(0,Zt.jsx)("h4",{className:"font-medium mb-4 "+(null!==p?"text-blue-700":"text-gray-900"),children:null!==p?`Edit Shareholder: ${(null===(r=i[p])||void 0===r?void 0:r.fullName)||(null===(n=i[p])||void 0===n?void 0:n.legalName)||(null===(a=i[p])||void 0===a?void 0:a.trustName)}`:"Add New Shareholder"}),(0,Zt.jsx)("div",{className:"w-full mb-4",children:(0,Zt.jsx)("select",{className:"input w-full",value:g,onChange:e=>y(e.target.value),children:oP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))})}),"Natural Person"===g&&(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,Zt.jsx)("input",{className:"input "+(v.fullName&&x.fullName?"border-red-500":""),value:N.fullName,onChange:e=>j("fullName",e.target.value),onBlur:()=>S("fullName")}),v.fullName&&x.fullName&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.fullName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alias"}),(0,Zt.jsx)("input",{className:"input "+(v.alias&&x.alias?"border-red-500":""),value:N.alias,onChange:e=>j("alias",e.target.value),onBlur:()=>S("alias")}),v.alias&&x.alias&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.alias})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country of Residence"}),(0,Zt.jsxs)("select",{className:"input",value:N.countryOfResidence,onChange:e=>_(t=>({...t,countryOfResidence:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Country of Residence"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),(0,Zt.jsxs)("select",{className:"input",value:N.nationality,onChange:e=>_(t=>({...t,nationality:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Nationality"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,Zt.jsx)("input",{type:"date",className:"input "+(v.dateOfBirth&&x.dateOfBirth?"border-red-500":""),value:N.dateOfBirth,onChange:e=>j("dateOfBirth",e.target.value),onBlur:()=>S("dateOfBirth")}),v.dateOfBirth&&x.dateOfBirth&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.dateOfBirth})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Place of Birth"}),(0,Zt.jsxs)("select",{className:"input",value:N.placeOfBirth,onChange:e=>_(t=>({...t,placeOfBirth:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Place of Birth"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-32",value:N.countryCode||"+971",onChange:e=>{_(t=>({...t,countryCode:e.target.value}))},children:VO.filter(e=>e.phone&&e.phone.length<=6).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Zt.jsxs)("option",{value:e.phone,children:[e.phone," (",e.code,")"]},e.code))}),(0,Zt.jsx)("input",{type:"tel",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm",value:N.phone||"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");_(e=>({...e,phone:t}))},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},placeholder:"Enter phone number",maxLength:15})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Zt.jsx)("input",{type:"email",className:"input "+(v.email&&x.email?"border-red-500":""),value:N.email,onChange:e=>j("email",e.target.value),onBlur:()=>S("email")}),v.email&&x.email&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.email})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Zt.jsx)("input",{className:"input",value:N.address,onChange:e=>_(t=>({...t,address:e.target.value}))})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source of Funds"}),(0,Zt.jsxs)("select",{className:"input",value:N.sourceOfFunds,onChange:e=>_(t=>({...t,sourceOfFunds:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source of Funds"}),rP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source of Wealth"}),(0,Zt.jsxs)("select",{className:"input",value:N.sourceOfWealth,onChange:e=>_(t=>({...t,sourceOfWealth:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source of Wealth"}),tP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation"}),(0,Zt.jsxs)("select",{className:"input",value:N.occupation,onChange:e=>_(t=>({...t,occupation:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Occupation"}),GO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Income Range Annually"}),(0,Zt.jsx)("input",{className:"input "+(v.expectedIncome&&x.expectedIncome?"border-red-500":""),value:N.expectedIncome,onChange:e=>j("expectedIncome",e.target.value),onBlur:()=>S("expectedIncome")}),v.expectedIncome&&x.expectedIncome&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.expectedIncome})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PEP"}),(0,Zt.jsxs)("select",{className:"input",value:N.pep,onChange:e=>_(t=>({...t,pep:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select PEP Status"}),dP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"% Shareholding"}),(0,Zt.jsx)("input",{className:"input "+(v.shareholding&&x.shareholding?"border-red-500":""),value:N.shareholding,onChange:e=>j("shareholding",e.target.value),onBlur:()=>S("shareholding")}),v.shareholding&&x.shareholding&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.shareholding})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dual Nationality"}),(0,Zt.jsxs)("select",{className:"input",value:N.dualNationality,onChange:e=>_(t=>({...t,dualNationality:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Dual Nationality"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zt.jsx)("input",{type:"checkbox",id:"isDirector",checked:N.isDirector,onChange:e=>_(t=>({...t,isDirector:e.target.checked}))}),(0,Zt.jsx)("label",{htmlFor:"isDirector",children:"Is Director?"})]}),(0,Zt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zt.jsx)("input",{type:"checkbox",id:"isUbo",checked:N.isUbo,onChange:e=>_(t=>({...t,isUbo:e.target.checked}))}),(0,Zt.jsx)("label",{htmlFor:"isUbo",children:"Is UBO?"})]})]}),"Legal Entities"===g&&(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Legal Name"}),(0,Zt.jsx)("input",{className:"input "+(v.legalName&&x.legalName?"border-red-500":""),value:N.legalName||N.fullName||"",onChange:e=>j("legalName",e.target.value),onBlur:()=>S("legalName")}),v.legalName&&x.legalName&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.legalName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alias"}),(0,Zt.jsx)("input",{className:"input",value:N.alias||"",onChange:e=>_(t=>({...t,alias:e.target.value}))})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Incorporation"}),(0,Zt.jsx)("input",{type:"date",className:"input "+(v.dateOfIncorporation&&x.dateOfIncorporation?"border-red-500":""),value:N.dateOfIncorporation||"",onChange:e=>j("dateOfIncorporation",e.target.value),onBlur:()=>S("dateOfIncorporation")}),v.dateOfIncorporation&&x.dateOfIncorporation&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.dateOfIncorporation})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country of Incorporation"}),(0,Zt.jsxs)("select",{className:"input",value:N.countryOfIncorporation||"",onChange:e=>_(t=>({...t,countryOfIncorporation:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Country of Incorporation"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,Zt.jsxs)("select",{className:"input",value:N.entityClass||"",onChange:e=>_(t=>({...t,entityClass:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Type"}),lP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Type"}),(0,Zt.jsxs)("select",{className:"input",value:N.licenseType||"",onChange:e=>_(t=>({...t,licenseType:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select License Type"}),(0,Zt.jsx)("option",{value:"Type 1",children:"Type 1"}),(0,Zt.jsx)("option",{value:"Type 2",children:"Type 2"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number"}),(0,Zt.jsx)("input",{className:"input",value:N.licenseNumber||"",onChange:e=>_(t=>({...t,licenseNumber:e.target.value}))})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),(0,Zt.jsx)("input",{type:"date",className:"input "+(v.licenseIssueDate&&x.licenseIssueDate?"border-red-500":""),value:N.licenseIssueDate||"",onChange:e=>j("licenseIssueDate",e.target.value),onBlur:()=>S("licenseIssueDate")}),v.licenseIssueDate&&x.licenseIssueDate&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.licenseIssueDate})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,Zt.jsx)("input",{type:"date",className:"input",value:N.licenseExpiryDate||"",onChange:e=>_(t=>({...t,licenseExpiryDate:e.target.value}))})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Activity"}),(0,Zt.jsxs)("select",{className:"input",value:N.businessActivity||"",onChange:e=>_(t=>({...t,businessActivity:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Business Activity"}),(0,Zt.jsx)("option",{value:"Trading",children:"Trading"}),(0,Zt.jsx)("option",{value:"Services",children:"Services"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Countries of Operation"}),(0,Zt.jsxs)("select",{className:"input",value:N.countriesOfOperation||"",onChange:e=>_(t=>({...t,countriesOfOperation:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Countries of Operation"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source of Funds"}),(0,Zt.jsxs)("select",{className:"input",value:N.sourceOfFunds||"",onChange:e=>_(t=>({...t,sourceOfFunds:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source of Funds"}),rP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registered Office Address"}),(0,Zt.jsx)("input",{className:"input",value:N.registeredOfficeAddress||"",onChange:e=>_(t=>({...t,registeredOfficeAddress:e.target.value}))})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Countries Source of Funds"}),(0,Zt.jsxs)("select",{className:"input",value:N.countriesSourceOfFunds||"",onChange:e=>_(t=>({...t,countriesSourceOfFunds:e.target.value})),children:[(0,Zt.jsx)("option",{value:"",children:"Select Countries Source of Funds"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Zt.jsx)("input",{type:"email",className:"input "+(v.email&&x.email?"border-red-500":""),value:N.email||"",onChange:e=>j("email",e.target.value),onBlur:()=>S("email")}),v.email&&x.email&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.email})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-32",value:N.countryCode||"+971",onChange:e=>{_(t=>({...t,countryCode:e.target.value}))},children:VO.filter(e=>e.phone&&e.phone.length<=6).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Zt.jsxs)("option",{value:e.phone,children:[e.phone," (",e.code,")"]},e.code))}),(0,Zt.jsx)("input",{type:"tel",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm "+(v.phone&&x.phone?"border-red-500":""),value:N.phone||"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");j("phone",t)},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},onBlur:()=>S("phone"),placeholder:"Enter phone number",maxLength:15})]}),v.phone&&x.phone&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.phone})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Other Details"}),(0,Zt.jsx)("input",{className:"input",rows:"3",value:N.otherDetails||"",onChange:e=>_(t=>({...t,otherDetails:e.target.value}))})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"% Shareholding"}),(0,Zt.jsx)("input",{className:"input "+(v.shareholding&&x.shareholding?"border-red-500":""),value:N.shareholding,onChange:e=>j("shareholding",e.target.value),onBlur:()=>S("shareholding")}),v.shareholding&&x.shareholding&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.shareholding})]})]}),"Trust"===g&&(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trust Name"}),(0,Zt.jsx)("input",{className:"input "+(v.trustName&&x.trustName?"border-red-500":""),value:N.trustName||"",onChange:e=>j("trustName",e.target.value),onBlur:()=>S("trustName")}),v.trustName&&x.trustName&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.trustName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alias"}),(0,Zt.jsx)("input",{className:"input",value:N.alias||"",onChange:e=>j("alias",e.target.value),onBlur:()=>S("alias")}),v.alias&&x.alias&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.alias})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trust Registered"}),(0,Zt.jsxs)("select",{className:"input",value:!0===N.trustRegistered?"Yes":!1===N.trustRegistered?"No":"",onChange:e=>j("trustRegistered","Yes"===e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Trust Registered Status"}),dP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type of Trust"}),(0,Zt.jsxs)("select",{className:"input",value:N.trustType||"",onChange:e=>j("trustType",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Type of Trust"}),cP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jurisdiction of Law"}),(0,Zt.jsxs)("select",{className:"input",value:N.jurisdictionOfLaw||"",onChange:e=>j("jurisdictionOfLaw",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Jurisdiction of Law"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registered Address"}),(0,Zt.jsx)("input",{className:"input",value:N.registeredAddress||"",onChange:e=>j("registeredAddress",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"% Shareholding"}),(0,Zt.jsx)("input",{className:"input "+(v.shareholding&&x.shareholding?"border-red-500":""),value:N.shareholding||"",onChange:e=>j("shareholding",e.target.value),onBlur:()=>S("shareholding")}),v.shareholding&&x.shareholding&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.shareholding})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name of Trustee"}),(0,Zt.jsx)("input",{className:"input",value:N.trusteeName||"",onChange:e=>j("trusteeName",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trustee Type"}),(0,Zt.jsxs)("select",{className:"input",value:N.trusteeType||"",onChange:e=>j("trusteeType",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Trustee Type"}),uP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Zt.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Zt.jsx)("button",{type:"button",onClick:()=>{if(console.log("\ud83d\udd0d Adding shareholder with type:",g),console.log("\ud83d\udd0d Current shareholder data:",N),N.shareholding){const e=i.reduce((e,t)=>null!==p&&i.indexOf(t)===p?e:e+(parseFloat(t.shareholding)||0),0),t=parseFloat(N.shareholding)||0,r=e+t;if(r>100)return void b(n=>({...n,shareholding:`Total shareholding cannot exceed 100%. Current total: ${e.toFixed(2)}%, adding ${t.toFixed(2)}% would make it ${r.toFixed(2)}%`}))}let e=!1;if("Natural Person"===g?(e=N.fullName&&N.fullName.trim(),console.log("\ud83d\udd0d Natural Person validation:",{fullName:N.fullName,hasRequiredFields:e})):"Legal Entities"===g?(e=N.legalName&&N.legalName.trim(),console.log("\ud83d\udd0d Legal Entities validation:",{legalName:N.legalName,hasRequiredFields:e})):"Trust"===g&&(e=N.trustName&&N.trustName.trim(),console.log("\ud83d\udd0d Trust validation:",{trustName:N.trustName,hasRequiredFields:e})),console.log("\ud83d\udd0d Final validation result:",e),e){const e=N.countryCode+N.phone,t={...N,type:g,phone:e};if(null!==p){const e=[...i];e[p]=t,s(e),m(null),y("Natural Person")}else s([...i,t]);if(t.isDirector&&l&&"Natural Person"===g){const e={firstName:t.fullName?t.fullName.split(" ")[0]:"",lastName:t.fullName?t.fullName.split(" ").slice(1).join(" "):"",alias:t.alias||"",countryOfResidence:t.countryOfResidence||"",nationality:t.nationality||"",dateOfBirth:t.dateOfBirth||"",placeOfBirth:t.placeOfBirth||"",phone:t.phone||"",email:t.email||"",address:t.address||"",city:"",occupation:t.occupation||"",pepStatus:t.pep||"",dualNationality:t.dualNationality||"",isCeo:!1,isRepresentative:!1};console.log("\ud83d\udc54 Filling director form with shareholder data:",e),l(e)}if(t.isUbo&&c&&"Natural Person"===g){const e={fullName:t.fullName||"",alias:t.alias||"",countryOfResidence:t.countryOfResidence||"",nationality:t.nationality||"",dateOfBirth:t.dateOfBirth||"",placeOfBirth:t.placeOfBirth||"",phone:t.phone||"",email:t.email||"",address:t.address||"",sourceOfFunds:t.sourceOfFunds||"",sourceOfWealth:t.sourceOfWealth||"",occupation:t.occupation||"",expectedIncome:t.expectedIncome||"",pep:t.pep||"",shareholding:t.shareholding||"",dualNationality:t.dualNationality||""};console.log("\ud83d\udc64 Filling UBO form with shareholder data:",e),c(e)}"Natural Person"===g?_({type:"Natural Person",fullName:"",alias:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",sourceOfFunds:"",sourceOfWealth:"",occupation:"",expectedIncome:"",pep:"",shareholding:"",dualNationality:"",isDirector:!1,isUbo:!1}):"Legal Entities"===g?_({type:"Legal Entities",legalName:"",alias:"",dateOfIncorporation:"",countryOfIncorporation:"",entityClass:"",licenseType:"",licenseNumber:"",licenseIssueDate:"",licenseExpiryDate:"",businessActivity:"",countriesOfOperation:"",registeredOfficeAddress:"",countriesSourceOfFunds:"",otherDetails:"",email:"",countryCode:"+971",phone:"",shareholding:""}):"Trust"===g&&_({type:"Trust",trustName:"",alias:"",trustRegistered:!1,trustType:"",jurisdictionOfLaw:"",registeredAddress:"",trusteeName:"",trusteeType:"",shareholding:""}),b({}),w({}),f(!1)}},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:null!==p?"Update Shareholder":"Add Shareholder"}),null!==p?(0,Zt.jsx)("button",{type:"button",onClick:()=>{m(null),y("Natural Person"),_({type:"Natural Person",fullName:"",alias:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",sourceOfFunds:"",sourceOfWealth:"",occupation:"",expectedIncome:"",pep:"",shareholding:"",dualNationality:"",isDirector:!1,isUbo:!1}),b({}),w({}),f(!1)},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel Edit"}):o?(0,Zt.jsx)("button",{type:"button",onClick:()=>f(!1),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Close"}):null]})]})]})]})},gP=e=>{if(!e)return{countryCode:"+971",phone:""};const t=VO.map(e=>e.phone);let r="+971",n=e;for(const a of t)if(e.startsWith(a)){r=a,n=e.substring(a.length);break}return{countryCode:r,phone:n}},yP=(0,t.forwardRef)((e,r)=>{var n,a;let{directors:i=[],onDirectorsChange:s,isEdit:o=!1,onDirectorFormFill:l=null}=e;const[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),[b,x]=(0,t.useState)({firstName:"",alias:"",lastName:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",city:"",occupation:"",pepStatus:"",dualNationality:"",isCeo:!1,isRepresentative:!1}),w=e=>{v(t=>({...t,[e]:!0}));const t=((e,t)=>{let r="";switch(e){case"firstName":t&&t.length<2&&(r="First name must be at least 2 characters long");break;case"lastName":t&&t.length<2&&(r="Last name must be at least 2 characters long");break;case"alias":t&&t.length<2&&(r="Alias must be at least 2 characters long");break;case"email":t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(r="Please enter a valid email address");break;case"phone":t&&t.length<7&&(r="Phone number must be at least 7 digits");break;case"dateOfBirth":if(t){const e=new Date(t),n=new Date;e>n&&(r="Date of birth cannot be in the future"),n.getFullYear()-e.getFullYear()>120&&(r="Date of birth seems invalid")}}return r})(e,b[e]);g(r=>({...r,[e]:t}))},N=(e,t)=>{x(r=>({...r,[e]:t})),m[e]&&g(t=>({...t,[e]:""}))},_=e=>{const{countryCode:t,phone:r}=gP(e.phone||"");x({firstName:e.firstName||"",alias:e.alias||"",lastName:e.lastName||"",countryOfResidence:e.countryOfResidence||"",nationality:e.nationality||"",dateOfBirth:e.dateOfBirth||"",placeOfBirth:e.placeOfBirth||"",countryCode:t||"+971",phone:r||"",email:e.email||"",address:e.address||"",city:e.city||"",occupation:e.occupation||"",pepStatus:e.pepStatus||"",dualNationality:e.dualNationality||"",isCeo:e.isCeo||!1,isRepresentative:e.isRepresentative||!1}),h(!0),p(null),console.log("\ud83d\udc54 Director form filled with data:",e)};return(0,t.useImperativeHandle)(r,()=>({fillForm:_}),[]),(0,Zt.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,Zt.jsxs)("button",{type:"button",onClick:()=>u(!c),className:"w-full px-4 py-3 text-left bg-gray-50 hover:bg-gray-100 rounded-t-lg flex justify-between items-center",children:[(0,Zt.jsx)("span",{className:"font-medium text-gray-900",children:"Director / Representative Details"}),(0,Zt.jsx)("svg",{className:"w-5 h-5 text-gray-500 transform transition-transform "+(c?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&(0,Zt.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[i.length>0&&(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h4",{className:"font-medium mb-4 text-gray-900",children:"Directors / Representatives"}),(0,Zt.jsx)("div",{className:"space-y-3",children:i.map((e,t)=>(0,Zt.jsxs)("div",{className:"p-3 bg-gray-50 rounded border",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Zt.jsxs)("span",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,Zt.jsxs)("div",{className:"flex space-x-2",children:[(0,Zt.jsx)("button",{type:"button",onClick:()=>(async e=>{const t=i[e];if(console.log("\ud83d\udd0d Editing director:",t),t.id)try{const{success:r,data:n,error:a}=await kO.getDirectorById(t.id);if(r&&n){console.log("\ud83d\udd0d Fresh director data from database:",n);const{countryCode:t,phone:r}=gP(n.phone||""),a={...n,countryCode:t||"+971",phone:r||""};console.log("\ud83d\udd0d Processed director data:",a);const o=[...i];o[e]=a,s(o),x(a),p(e),console.log("\ud83d\udd0d Set currentDirector:",a)}else{console.error("\ud83d\udd0d Failed to fetch fresh director data:",a);const{countryCode:r,phone:n}=gP(t.phone||""),i={...t,countryCode:r||"+971",phone:n||""};x(i),p(e)}}catch(r){console.error("\ud83d\udd0d Error fetching director data:",r);const{countryCode:n,phone:a}=gP(t.phone||""),i={...t,countryCode:n||"+971",phone:a||""};x(i),p(e)}else{console.log("\ud83d\udd0d Editing new director (no ID yet):",t);const{countryCode:r,phone:n}=gP(t.phone||""),a={...t,countryCode:r||"+971",phone:n||""};console.log("\ud83d\udd0d Processed new director data:",a),x(a),p(e),console.log("\ud83d\udd0d Set currentDirector for new director:",a)}})(t),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),(0,Zt.jsx)("button",{type:"button",onClick:()=>(async e=>{const t=i[e];if(console.log("\ud83d\uddd1\ufe0f Removing director:",t),t.id)try{const{success:r,error:n}=await kO.deleteDirectorById(t.id);if(r){const t=i.filter((t,r)=>r!==e);s(t),console.log("\u2705 Director removed from database and UI")}else console.error("\u274c Failed to delete director from database:",n),alert(`Failed to remove director: ${n||"Unknown error"}`)}catch(r){console.error("\u274c Error during director removal:",r),alert(`Error removing director: ${r.message||"Unknown error"}`)}else{console.log("\ud83d\uddd1\ufe0f Removing new director (no ID yet):",t);const r=i.filter((t,r)=>r!==e);s(r),console.log("\u2705 New director removed from UI")}})(t),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]}),(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Nationality: ",e.nationality]}),e.isCeo&&(0,Zt.jsx)("p",{className:"text-sm text-blue-600",children:"CEO/Managing Director"}),e.isRepresentative&&(0,Zt.jsx)("p",{className:"text-sm text-green-600",children:"Representative"})]},t))})]}),o&&(0,Zt.jsxs)("div",{className:"mb-6",children:[0===i.length&&(0,Zt.jsx)("p",{className:"text-gray-700 text-md font-medium mb-3 italic",children:"No Directors Or Representatives have been added yet"}),(0,Zt.jsx)("div",{className:"flex space-x-2",children:(0,Zt.jsx)("button",{type:"button",onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add New Director / Representative"})})]}),(!o||d||null!==f)&&(0,Zt.jsxs)("div",{className:"mb-6 p-4 border rounded-lg "+(null!==f?"border-blue-300 bg-blue-50":"border-gray-200"),children:[(0,Zt.jsx)("h4",{className:"font-medium mb-4 "+(null!==f?"text-blue-700":"text-gray-900"),children:null!==f?`Edit Director: ${null===(n=i[f])||void 0===n?void 0:n.firstName} ${null===(a=i[f])||void 0===a?void 0:a.lastName}`:"Add New Director/Representative"}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,Zt.jsx)("input",{className:"input "+(m.firstName&&y.firstName?"border-red-500":""),value:b.firstName,onChange:e=>N("firstName",e.target.value),onBlur:()=>w("firstName")}),m.firstName&&y.firstName&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.firstName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alias"}),(0,Zt.jsx)("input",{className:"input "+(m.alias&&y.alias?"border-red-500":""),value:b.alias,onChange:e=>N("alias",e.target.value),onBlur:()=>w("alias")}),m.alias&&y.alias&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.alias})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,Zt.jsx)("input",{className:"input "+(m.lastName&&y.lastName?"border-red-500":""),value:b.lastName,onChange:e=>N("lastName",e.target.value),onBlur:()=>w("lastName")}),m.lastName&&y.lastName&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.lastName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country of Residence"}),(0,Zt.jsxs)("select",{className:"input",value:b.countryOfResidence,onChange:e=>N("countryOfResidence",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Country of Residence"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),(0,Zt.jsxs)("select",{className:"input",value:b.nationality,onChange:e=>N("nationality",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Nationality"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,Zt.jsx)("input",{type:"date",className:"input "+(m.dateOfBirth&&y.dateOfBirth?"border-red-500":""),value:b.dateOfBirth,onChange:e=>N("dateOfBirth",e.target.value),onBlur:()=>w("dateOfBirth")}),m.dateOfBirth&&y.dateOfBirth&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.dateOfBirth})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-32",value:b.countryCode||"+971",onChange:e=>{x(t=>({...t,countryCode:e.target.value}))},children:VO.filter(e=>e.phone&&e.phone.length<=6).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Zt.jsxs)("option",{value:e.phone,children:[e.phone," (",e.code,")"]},e.code))}),(0,Zt.jsx)("input",{type:"tel",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm "+(m.phone&&y.phone?"border-red-500":""),value:b.phone||"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");N("phone",t)},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},onBlur:()=>w("phone"),placeholder:"Enter phone number",maxLength:15})]}),m.phone&&y.phone&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Place of Birth"}),(0,Zt.jsxs)("select",{className:"input",value:b.placeOfBirth,onChange:e=>N("placeOfBirth",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Place of Birth"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Zt.jsx)("input",{type:"email",className:"input "+(m.email&&y.email?"border-red-500":""),value:b.email,onChange:e=>N("email",e.target.value),onBlur:()=>w("email")}),m.email&&y.email&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Zt.jsx)("input",{className:"input",value:b.address,onChange:e=>N("address",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,Zt.jsx)("input",{className:"input",value:b.city,onChange:e=>N("city",e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation"}),(0,Zt.jsxs)("select",{className:"input",value:b.occupation,onChange:e=>N("occupation",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Occupation"}),GO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PEP"}),(0,Zt.jsxs)("select",{className:"input",value:b.pepStatus,onChange:e=>N("pepStatus",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select PEP Status"}),QO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dual Nationality"}),(0,Zt.jsxs)("select",{className:"input",value:b.dualNationality,onChange:e=>N("dualNationality",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Dual Nationality"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zt.jsx)("input",{type:"checkbox",id:"isCeo",checked:b.isCeo,onChange:e=>N("isCeo",e.target.checked)}),(0,Zt.jsx)("label",{htmlFor:"isCeo",children:"Is CEO/Managing Director?"})]}),(0,Zt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Zt.jsx)("input",{type:"checkbox",id:"isRepresentative",checked:b.isRepresentative,onChange:e=>N("isRepresentative",e.target.checked)}),(0,Zt.jsx)("label",{htmlFor:"isRepresentative",children:"Is Representative?"})]})]}),(0,Zt.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Zt.jsx)("button",{type:"button",onClick:()=>{console.log("\ud83d\udc54 Adding director:",b);if(b.firstName&&b.firstName.trim()&&b.lastName&&b.lastName.trim()){const e=b.countryCode+b.phone,t={...b,phone:e};if(null!==f){const e=[...i];e[f]=t,s(e),p(null)}else s([...i,t]);x({firstName:"",alias:"",lastName:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",city:"",occupation:"",pepStatus:"",dualNationality:"",isCeo:!1,isRepresentative:!1}),g({}),v({}),h(!1)}},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:null!==f?"Update Director":"Add Director"}),null!==f?(0,Zt.jsx)("button",{type:"button",onClick:()=>{p(null),x({firstName:"",alias:"",lastName:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",city:"",occupation:"",pepStatus:"",dualNationality:"",isCeo:!1,isRepresentative:!1}),g({}),v({}),h(!1)},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel Edit"}):o?(0,Zt.jsx)("button",{type:"button",onClick:()=>h(!1),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Close"}):null]})]})]})]})}),vP=yP,bP=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:"\u20ac"},{code:"GBP",name:"British Pound",symbol:"\xa3"},{code:"JPY",name:"Japanese Yen",symbol:"\xa5"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CHF",name:"Swiss Franc",symbol:"CHF"},{code:"CNY",name:"Chinese Yuan",symbol:"\xa5"},{code:"INR",name:"Indian Rupee",symbol:"\u20b9"},{code:"AED",name:"UAE Dirham",symbol:"\u062f.\u0625"},{code:"SAR",name:"Saudi Riyal",symbol:"\u0631.\u0633"},{code:"QAR",name:"Qatari Riyal",symbol:"\u0631.\u0642"},{code:"KWD",name:"Kuwaiti Dinar",symbol:"\u062f.\u0643"},{code:"BHD",name:"Bahraini Dinar",symbol:".\u062f.\u0628"},{code:"OMR",name:"Omani Rial",symbol:"\u0631.\u0639."},{code:"JOD",name:"Jordanian Dinar",symbol:"\u062f.\u0627"},{code:"EGP",name:"Egyptian Pound",symbol:"\u062c.\u0645"},{code:"TRY",name:"Turkish Lira",symbol:"\u20ba"},{code:"ILS",name:"Israeli Shekel",symbol:"\u20aa"},{code:"LBP",name:"Lebanese Pound",symbol:"\u0644.\u0644"},{code:"IQD",name:"Iraqi Dinar",symbol:"\u062f.\u0639"},{code:"IRR",name:"Iranian Rial",symbol:"\ufdfc"},{code:"AFN",name:"Afghan Afghani",symbol:"\u060b"},{code:"PKR",name:"Pakistani Rupee",symbol:"\u20a8"},{code:"BDT",name:"Bangladeshi Taka",symbol:"\u09f3"},{code:"LKR",name:"Sri Lankan Rupee",symbol:"\u20a8"},{code:"NPR",name:"Nepalese Rupee",symbol:"\u20a8"},{code:"MMK",name:"Myanmar Kyat",symbol:"K"},{code:"KHR",name:"Cambodian Riel",symbol:"\u17db"},{code:"LAK",name:"Lao Kip",symbol:"\u20ad"},{code:"MNT",name:"Mongolian Tugrik",symbol:"\u20ae"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"KRW",name:"South Korean Won",symbol:"\u20a9"},{code:"TWD",name:"Taiwan Dollar",symbol:"NT$"},{code:"THB",name:"Thai Baht",symbol:"\u0e3f"},{code:"MYR",name:"Malaysian Ringgit",symbol:"RM"},{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp"},{code:"PHP",name:"Philippine Peso",symbol:"\u20b1"},{code:"VND",name:"Vietnamese Dong",symbol:"\u20ab"},{code:"BND",name:"Brunei Dollar",symbol:"B$"},{code:"KZT",name:"Kazakhstani Tenge",symbol:"\u20b8"},{code:"UZS",name:"Uzbekistani Som",symbol:"so'm"},{code:"TJS",name:"Tajikistani Somoni",symbol:"\u0405M"},{code:"TMT",name:"Turkmenistan Manat",symbol:"T"},{code:"KGS",name:"Kyrgyzstani Som",symbol:"\u0441"},{code:"GEL",name:"Georgian Lari",symbol:"\u20be"},{code:"AMD",name:"Armenian Dram",symbol:"\u058f"},{code:"AZN",name:"Azerbaijani Manat",symbol:"\u20bc"},{code:"RUB",name:"Russian Ruble",symbol:"\u20bd"},{code:"PLN",name:"Polish Z\u0142oty",symbol:"z\u0142"},{code:"CZK",name:"Czech Koruna",symbol:"K\u010d"},{code:"HUF",name:"Hungarian Forint",symbol:"Ft"},{code:"RON",name:"Romanian Leu",symbol:"lei"},{code:"BGN",name:"Bulgarian Lev",symbol:"\u043b\u0432"},{code:"HRK",name:"Croatian Kuna",symbol:"kn"},{code:"RSD",name:"Serbian Dinar",symbol:"\u0434\u0438\u043d."},{code:"BAM",name:"Bosnia-Herzegovina Convertible Mark",symbol:"KM"},{code:"MKD",name:"Macedonian Denar",symbol:"\u0434\u0435\u043d"},{code:"ALL",name:"Albanian Lek",symbol:"L"},{code:"MDL",name:"Moldovan Leu",symbol:"L"},{code:"UAH",name:"Ukrainian Hryvnia",symbol:"\u20b4"},{code:"BYN",name:"Belarusian Ruble",symbol:"Br"},{code:"DKK",name:"Danish Krone",symbol:"kr"},{code:"NOK",name:"Norwegian Krone",symbol:"kr"},{code:"SEK",name:"Swedish Krona",symbol:"kr"},{code:"ISK",name:"Icelandic Kr\xf3na",symbol:"kr"},{code:"FIM",name:"Finnish Markka",symbol:"mk"},{code:"LVL",name:"Latvian Lats",symbol:"Ls"},{code:"LTL",name:"Lithuanian Litas",symbol:"Lt"},{code:"EEK",name:"Estonian Kroon",symbol:"kr"},{code:"SKK",name:"Slovak Koruna",symbol:"Sk"},{code:"SIT",name:"Slovenian Tolar",symbol:"SIT"},{code:"MTL",name:"Maltese Lira",symbol:"\u20a4"},{code:"CYP",name:"Cypriot Pound",symbol:"\xa3"},{code:"ZAR",name:"South African Rand",symbol:"R"},{code:"NGN",name:"Nigerian Naira",symbol:"\u20a6"},{code:"KES",name:"Kenyan Shilling",symbol:"KSh"},{code:"GHS",name:"Ghanaian Cedi",symbol:"\u20b5"},{code:"UGX",name:"Ugandan Shilling",symbol:"USh"},{code:"TZS",name:"Tanzanian Shilling",symbol:"TSh"},{code:"ETB",name:"Ethiopian Birr",symbol:"Br"},{code:"MAD",name:"Moroccan Dirham",symbol:"\u062f.\u0645."},{code:"TND",name:"Tunisian Dinar",symbol:"\u062f.\u062a"},{code:"DZD",name:"Algerian Dinar",symbol:"\u062f.\u062c"},{code:"LYD",name:"Libyan Dinar",symbol:"\u0644.\u062f"},{code:"SDG",name:"Sudanese Pound",symbol:"\u062c.\u0633."},{code:"SOS",name:"Somali Shilling",symbol:"Sh"},{code:"DJF",name:"Djiboutian Franc",symbol:"Fdj"},{code:"KMF",name:"Comorian Franc",symbol:"CF"},{code:"MUR",name:"Mauritian Rupee",symbol:"\u20a8"},{code:"SCR",name:"Seychellois Rupee",symbol:"\u20a8"},{code:"CDF",name:"Congolese Franc",symbol:"FC"},{code:"XAF",name:"Central African CFA Franc",symbol:"FCFA"},{code:"XOF",name:"West African CFA Franc",symbol:"CFA"},{code:"XPF",name:"CFP Franc",symbol:"\u20a3"},{code:"BWP",name:"Botswana Pula",symbol:"P"},{code:"NAD",name:"Namibian Dollar",symbol:"N$"},{code:"SZL",name:"Swazi Lilangeni",symbol:"L"},{code:"LSL",name:"Lesotho Loti",symbol:"L"},{code:"MZN",name:"Mozambican Metical",symbol:"MT"},{code:"ZMW",name:"Zambian Kwacha",symbol:"ZK"},{code:"MWK",name:"Malawian Kwacha",symbol:"MK"},{code:"ZWL",name:"Zimbabwean Dollar",symbol:"$"},{code:"BIF",name:"Burundian Franc",symbol:"FBu"},{code:"RWF",name:"Rwandan Franc",symbol:"FRw"},{code:"SSP",name:"South Sudanese Pound",symbol:"SSP"},{code:"ERN",name:"Eritrean Nakfa",symbol:"Nfk"},{code:"STD",name:"S\xe3o Tom\xe9 and Pr\xedncipe Dobra",symbol:"Db"},{code:"CVE",name:"Cape Verdean Escudo",symbol:"$"},{code:"GMD",name:"Gambian Dalasi",symbol:"D"},{code:"GNF",name:"Guinean Franc",symbol:"FG"},{code:"SLL",name:"Sierra Leonean Leone",symbol:"Le"},{code:"LRD",name:"Liberian Dollar",symbol:"$"},{code:"GIP",name:"Gibraltar Pound",symbol:"\xa3"},{code:"BRL",name:"Brazilian Real",symbol:"R$"},{code:"MXN",name:"Mexican Peso",symbol:"$"},{code:"CLP",name:"Chilean Peso",symbol:"$"},{code:"COP",name:"Colombian Peso",symbol:"$"},{code:"PEN",name:"Peruvian Sol",symbol:"S/"},{code:"ARS",name:"Argentine Peso",symbol:"$"},{code:"UYU",name:"Uruguayan Peso",symbol:"$"},{code:"PYG",name:"Paraguayan Guarani",symbol:"\u20b2"},{code:"BOB",name:"Bolivian Boliviano",symbol:"Bs"},{code:"GTQ",name:"Guatemalan Quetzal",symbol:"Q"},{code:"HNL",name:"Honduran Lempira",symbol:"L"},{code:"NIO",name:"Nicaraguan Cordoba",symbol:"C$"},{code:"CRC",name:"Costa Rican Colon",symbol:"\u20a1"},{code:"PAB",name:"Panamanian Balboa",symbol:"B/."},{code:"DOP",name:"Dominican Peso",symbol:"$"},{code:"JMD",name:"Jamaican Dollar",symbol:"$"},{code:"TTD",name:"Trinidad and Tobago Dollar",symbol:"$"},{code:"BBD",name:"Barbadian Dollar",symbol:"$"},{code:"XCD",name:"East Caribbean Dollar",symbol:"$"},{code:"AWG",name:"Aruban Florin",symbol:"\u0192"},{code:"ANG",name:"Netherlands Antillean Guilder",symbol:"\u0192"},{code:"GYD",name:"Guyanese Dollar",symbol:"$"},{code:"SRD",name:"Surinamese Dollar",symbol:"$"},{code:"BZD",name:"Belize Dollar",symbol:"$"},{code:"BMD",name:"Bermudian Dollar",symbol:"$"},{code:"KYD",name:"Cayman Islands Dollar",symbol:"$"},{code:"HTG",name:"Haitian Gourde",symbol:"G"},{code:"CUC",name:"Cuban Convertible Peso",symbol:"$"},{code:"CUP",name:"Cuban Peso",symbol:"$"},{code:"NZD",name:"New Zealand Dollar",symbol:"$"},{code:"FJD",name:"Fijian Dollar",symbol:"$"},{code:"PGK",name:"Papua New Guinean Kina",symbol:"K"},{code:"SBD",name:"Solomon Islands Dollar",symbol:"$"},{code:"VUV",name:"Vanuatu Vatu",symbol:"Vt"},{code:"WST",name:"Samoan Tala",symbol:"T"},{code:"TOP",name:"Tongan Pa'anga",symbol:"T$"},{code:"KID",name:"Kiribati Dollar",symbol:"$"},{code:"TVD",name:"Tuvaluan Dollar",symbol:"$"},{code:"XPF",name:"CFP Franc",symbol:"\u20a3"},{code:"XAU",name:"Gold Ounce",symbol:"XAU"},{code:"XAG",name:"Silver Ounce",symbol:"XAG"},{code:"XPT",name:"Platinum Ounce",symbol:"XPT"},{code:"XPD",name:"Palladium Ounce",symbol:"XPD"},{code:"BTC",name:"Bitcoin",symbol:"\u20bf"},{code:"ETH",name:"Ethereum",symbol:"\u039e"},{code:"USDT",name:"Tether",symbol:"\u20ae"},{code:"BNB",name:"Binance Coin",symbol:"BNB"},{code:"ADA",name:"Cardano",symbol:"\u20b3"},{code:"SOL",name:"Solana",symbol:"\u25ce"},{code:"DOT",name:"Polkadot",symbol:"DOT"},{code:"DOGE",name:"Dogecoin",symbol:"\xd0"},{code:"AVAX",name:"Avalanche",symbol:"AVAX"},{code:"MATIC",name:"Polygon",symbol:"MATIC"}],xP=e=>{var r;let{bankDetails:n=[],onBankDetailsChange:a,isEdit:i=!1}=e;const[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)({bankName:"",alias:"",accountType:"",currency:"",bankAccountDetails:"",accountNumber:"",iban:"",swift:"",modeOfSignatory:"",internetBanking:"",bankSignatories:""}),p=(e,t)=>{f(r=>({...r,[e]:t}))};return(0,Zt.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,Zt.jsxs)("button",{type:"button",onClick:()=>o(!s),className:"w-full px-4 py-3 text-left bg-gray-50 hover:bg-gray-100 rounded-t-lg flex justify-between items-center",children:[(0,Zt.jsx)("span",{className:"font-medium text-gray-900",children:"Bank Details"}),(0,Zt.jsx)("svg",{className:"w-5 h-5 text-gray-500 transform transition-transform "+(s?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&(0,Zt.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[n.length>0&&(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h4",{className:"font-medium mb-3",children:"Added Bank Details:"}),(0,Zt.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>(0,Zt.jsxs)("div",{className:"p-3 bg-gray-50 rounded border",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Zt.jsx)("span",{className:"font-medium",children:e.bankName}),(0,Zt.jsxs)("div",{className:"flex space-x-2",children:[(0,Zt.jsx)("button",{type:"button",onClick:()=>(e=>{const t=n[e];f({...t}),d(e)})(t),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),(0,Zt.jsx)("button",{type:"button",onClick:()=>(e=>{const t=n.filter((t,r)=>r!==e);a(t)})(t),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]}),(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Account: ",e.accountNumber]}),(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Type: ",e.accountType]}),(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Currency: ",e.currency]})]},t))})]}),i&&(0,Zt.jsxs)("div",{className:"mb-6",children:[0===n.length&&(0,Zt.jsx)("p",{className:"text-gray-700 text-md font-medium mb-3 italic",children:"No bank details have been added yet"}),(0,Zt.jsx)("div",{className:"flex space-x-2",children:(0,Zt.jsx)("button",{type:"button",onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add New Bank Detail"})})]}),(!i||l||null!==u)&&(0,Zt.jsxs)("div",{className:"mb-6 p-4 border rounded-lg "+(null!==u?"border-blue-300 bg-blue-50":"border-gray-200"),children:[(0,Zt.jsx)("h4",{className:"font-medium mb-4 "+(null!==u?"text-blue-700":"text-gray-900"),children:null!==u?`Edit Bank Detail: ${null===(r=n[u])||void 0===r?void 0:r.bankName}`:"Add New Bank Detail"}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),(0,Zt.jsx)("input",{className:"input",value:h.bankName,onChange:e=>p("bankName",e.target.value),placeholder:"Enter bank name"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alias"}),(0,Zt.jsx)("input",{className:"input",value:h.alias,onChange:e=>p("alias",e.target.value),placeholder:"Enter alias (optional)"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),(0,Zt.jsxs)("select",{className:"input",value:h.accountType,onChange:e=>p("accountType",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Account Type"}),(0,Zt.jsx)("option",{value:"call",children:"Call"}),(0,Zt.jsx)("option",{value:"fixed",children:"Fixed"}),(0,Zt.jsx)("option",{value:"current",children:"Current"}),(0,Zt.jsx)("option",{value:"savings",children:"Savings"}),(0,Zt.jsx)("option",{value:"checking",children:"Checking"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,Zt.jsxs)("select",{className:"input",value:h.currency,onChange:e=>p("currency",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Currency"}),bP.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Account Details"}),(0,Zt.jsx)("input",{className:"input",value:h.bankAccountDetails,onChange:e=>p("bankAccountDetails",e.target.value),placeholder:"Enter additional account details (optional)"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),(0,Zt.jsx)("input",{className:"input",value:h.accountNumber,onChange:e=>p("accountNumber",e.target.value),placeholder:"Enter account number"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IBAN"}),(0,Zt.jsx)("input",{className:"input",value:h.iban,onChange:e=>p("iban",e.target.value),placeholder:"Enter IBAN (optional)"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SWIFT"}),(0,Zt.jsx)("input",{className:"input",value:h.swift,onChange:e=>p("swift",e.target.value),placeholder:"Enter SWIFT code (optional)"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode of Signatory"}),(0,Zt.jsxs)("select",{className:"input",value:h.modeOfSignatory,onChange:e=>p("modeOfSignatory",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Mode of Signatory"}),(0,Zt.jsx)("option",{value:"single",children:"Single"}),(0,Zt.jsx)("option",{value:"dual",children:"Dual"}),(0,Zt.jsx)("option",{value:"multiple",children:"Multiple"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internet Banking"}),(0,Zt.jsxs)("select",{className:"input",value:h.internetBanking,onChange:e=>p("internetBanking",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Internet Banking Status"}),dP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Signatories"}),(0,Zt.jsxs)("select",{className:"input",value:h.bankSignatories,onChange:e=>p("bankSignatories",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Bank Signatory"}),(0,Zt.jsx)("option",{value:"signatory1",children:"Signatory 1"}),(0,Zt.jsx)("option",{value:"signatory2",children:"Signatory 2"}),(0,Zt.jsx)("option",{value:"signatory3",children:"Signatory 3"})]})]})]}),(0,Zt.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Zt.jsx)("button",{type:"button",onClick:()=>{if(null!==u){const e=[...n];e[u]={...h},a(e),d(null)}else a([...n,{...h}]);f({bankName:"",alias:"",accountType:"",currency:"",bankAccountDetails:"",accountNumber:"",iban:"",swift:"",modeOfSignatory:"",internetBanking:"",bankSignatories:""}),c(!1)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:null!==u?"Update Bank Detail":"Add Bank Detail"}),(null!==u||l)&&(0,Zt.jsx)("button",{type:"button",onClick:()=>{d(null),f({bankName:"",alias:"",accountType:"",currency:"",bankAccountDetails:"",accountNumber:"",iban:"",swift:"",modeOfSignatory:"",internetBanking:"",bankSignatories:""}),c(!1)},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})]})},wP=e=>{if(!e)return{countryCode:"+971",phone:""};const t=VO.map(e=>e.phone);let r="+971",n=e;for(const a of t)if(e.startsWith(a)){r=a,n=e.substring(a.length);break}return{countryCode:r,phone:n}},NP=(0,t.forwardRef)((e,r)=>{var n;let{ubos:a=[],onUbosChange:i,isEdit:s=!1}=e;const[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)({}),[m,g]=(0,t.useState)({}),[y,v]=(0,t.useState)({fullName:"",alias:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",sourceOfFunds:"",sourceOfWealth:"",occupation:"",expectedIncome:"",pep:"",shareholding:"",dualNationality:""}),b=e=>{const t=y[e],r=((e,t)=>{let r="";switch(e){case"fullName":t&&t.length<2&&(r="Full name must be at least 2 characters long");break;case"alias":t&&t.length<2&&(r="Alias must be at least 2 characters long");break;case"email":t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(r="Please enter a valid email address");break;case"phone":t&&t.length<7&&(r="Phone number must be at least 7 digits");break;case"dateOfBirth":if(t){const e=new Date(t),n=new Date;if(e>n)r="Date of birth cannot be in the future";else if(n.getFullYear()-e.getFullYear()>120)r="Date of birth seems invalid";else{let t=n.getFullYear()-e.getFullYear();const a=n.getMonth()-e.getMonth(),i=n.getDate()-e.getDate();(a<0||0===a&&i<0)&&t--,t<18&&(r="UBO must be at least 18 years old")}}break;case"shareholding":if(t){const e=parseFloat(t);(isNaN(e)||e<0||e>100)&&(r="Shareholding percentage must be between 0 and 100")}break;case"expectedIncome":t&&t.length<3&&(r="Expected income description must be at least 3 characters")}return r})(e,t);p(t=>({...t,[e]:r})),g(t=>({...t,[e]:!0}))},x=(e,t)=>{v(r=>({...r,[e]:t})),f[e]&&p(t=>({...t,[e]:""}))},w=e=>{const{countryCode:t,phone:r}=wP(e.phone||"");v({fullName:e.fullName||"",alias:e.alias||"",countryOfResidence:e.countryOfResidence||"",nationality:e.nationality||"",dateOfBirth:e.dateOfBirth||"",placeOfBirth:e.placeOfBirth||"",countryCode:t||"+971",phone:r||"",email:e.email||"",address:e.address||"",sourceOfFunds:e.sourceOfFunds||"",sourceOfWealth:e.sourceOfWealth||"",occupation:e.occupation||"",expectedIncome:e.expectedIncome||"",pep:e.pep||"",shareholding:e.shareholding||"",dualNationality:e.dualNationality||""}),u(!0),h(null),console.log("\ud83d\udc64 UBO form filled with data:",e)};return(0,t.useImperativeHandle)(r,()=>({fillForm:w}),[]),(0,Zt.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,Zt.jsxs)("button",{type:"button",onClick:()=>l(!o),className:"w-full px-4 py-3 text-left bg-gray-50 hover:bg-gray-100 rounded-t-lg flex justify-between items-center",children:[(0,Zt.jsx)("span",{className:"font-medium text-gray-900",children:"Ultimate Beneficial Owner (UBO) Details"}),(0,Zt.jsx)("svg",{className:"w-5 h-5 text-gray-500 transform transition-transform "+(o?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&(0,Zt.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[a.length>0&&(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h4",{className:"font-medium mb-3",children:"Added UBOs:"}),(0,Zt.jsx)("div",{className:"space-y-3",children:a.map((e,t)=>(0,Zt.jsxs)("div",{className:"p-3 bg-gray-50 rounded border",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Zt.jsx)("span",{className:"font-medium",children:e.fullName}),(0,Zt.jsxs)("div",{className:"flex space-x-2",children:[(0,Zt.jsx)("button",{type:"button",onClick:()=>(e=>{const t=a[e];if(t.phone){const{countryCode:e,phone:r}=wP(t.phone);v({...t,countryCode:e,phone:r})}else v({...t});h(e),p({}),g({})})(t),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),(0,Zt.jsx)("button",{type:"button",onClick:()=>(e=>{const t=a.filter((t,r)=>r!==e);i(t)})(t),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]}),(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Nationality: ",e.nationality]}),e.shareholding&&(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Shareholding: ",e.shareholding,"%"]})]},t))})]}),s&&(0,Zt.jsxs)("div",{className:"mb-6",children:[0===a.length&&(0,Zt.jsx)("p",{className:"text-gray-700 text-md font-medium mb-3 italic",children:"No UBOs have been added yet"}),(0,Zt.jsx)("div",{className:"flex space-x-2",children:(0,Zt.jsx)("button",{type:"button",onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add New UBO"})})]}),(!s||c||null!==d)&&(0,Zt.jsxs)("div",{className:"mb-6 p-4 border rounded-lg "+(null!==d?"border-blue-300 bg-blue-50":"border-gray-200"),children:[(0,Zt.jsx)("h4",{className:"font-medium mb-4 "+(null!==d?"text-blue-700":"text-gray-900"),children:null!==d?`Edit UBO: ${null===(n=a[d])||void 0===n?void 0:n.fullName}`:"Add New UBO"}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,Zt.jsx)("input",{className:"input "+(f.fullName&&m.fullName?"border-red-500":""),value:y.fullName,onChange:e=>x("fullName",e.target.value),onBlur:()=>b("fullName"),placeholder:"Enter full name"}),f.fullName&&m.fullName&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.fullName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alias"}),(0,Zt.jsx)("input",{className:"input "+(f.alias&&m.alias?"border-red-500":""),value:y.alias,onChange:e=>x("alias",e.target.value),onBlur:()=>b("alias"),placeholder:"Enter alias (optional)"}),f.alias&&m.alias&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.alias})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country of Residence"}),(0,Zt.jsxs)("select",{className:"input",value:y.countryOfResidence,onChange:e=>x("countryOfResidence",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Country of Residence"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),(0,Zt.jsxs)("select",{className:"input",value:y.nationality,onChange:e=>x("nationality",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Nationality"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,Zt.jsx)("input",{type:"date",className:"input "+(f.dateOfBirth&&m.dateOfBirth?"border-red-500":""),value:y.dateOfBirth,onChange:e=>x("dateOfBirth",e.target.value),onBlur:()=>b("dateOfBirth")}),f.dateOfBirth&&m.dateOfBirth&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.dateOfBirth})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Place of Birth"}),(0,Zt.jsxs)("select",{className:"input",value:y.placeOfBirth,onChange:e=>x("placeOfBirth",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Place of Birth"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-32",value:y.countryCode||"+971",onChange:e=>{v(t=>({...t,countryCode:e.target.value}))},children:VO.filter(e=>e.phone&&e.phone.length<=6).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Zt.jsxs)("option",{value:e.phone,children:[e.phone," (",e.code,")"]},e.code))}),(0,Zt.jsx)("input",{type:"tel",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm "+(f.phone&&m.phone?"border-red-500":""),value:y.phone||"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");x("phone",t)},onBlur:()=>b("phone"),onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},placeholder:"Enter phone number",maxLength:15})]}),f.phone&&m.phone&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.phone})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Zt.jsx)("input",{type:"email",className:"input "+(f.email&&m.email?"border-red-500":""),value:y.email,onChange:e=>x("email",e.target.value),onBlur:()=>b("email"),placeholder:"Enter email address"}),f.email&&m.email&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.email})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Zt.jsx)("input",{className:"input",value:y.address,onChange:e=>x("address",e.target.value),placeholder:"Enter address"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source of Funds"}),(0,Zt.jsxs)("select",{className:"input",value:y.sourceOfFunds,onChange:e=>x("sourceOfFunds",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source of Funds"}),rP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source of Wealth"}),(0,Zt.jsxs)("select",{className:"input",value:y.sourceOfWealth,onChange:e=>x("sourceOfWealth",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source of Wealth"}),tP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation"}),(0,Zt.jsxs)("select",{className:"input",value:y.occupation,onChange:e=>x("occupation",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Occupation"}),GO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Income Range Annually"}),(0,Zt.jsx)("input",{className:"input "+(f.expectedIncome&&m.expectedIncome?"border-red-500":""),value:y.expectedIncome,onChange:e=>x("expectedIncome",e.target.value),onBlur:()=>b("expectedIncome"),placeholder:"Enter expected income range"}),f.expectedIncome&&m.expectedIncome&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.expectedIncome})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PEP"}),(0,Zt.jsxs)("select",{className:"input",value:y.pep,onChange:e=>x("pep",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select PEP Status"}),QO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"% Shareholding"}),(0,Zt.jsx)("input",{className:"input "+(f.shareholding&&m.shareholding?"border-red-500":""),value:y.shareholding,onChange:e=>x("shareholding",e.target.value),onBlur:()=>b("shareholding"),placeholder:"Enter shareholding percentage"}),f.shareholding&&m.shareholding&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.shareholding})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dual Nationality"}),(0,Zt.jsxs)("select",{className:"input",value:y.dualNationality,onChange:e=>x("dualNationality",e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Dual Nationality"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]})]})]}),(0,Zt.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Zt.jsx)("button",{type:"button",onClick:()=>{const e=y.countryCode+y.phone,t={...y,phone:e};if(null!==d){const e=[...a];e[d]=t,i(e),h(null)}else i([...a,t]);v({fullName:"",alias:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",sourceOfFunds:"",sourceOfWealth:"",occupation:"",expectedIncome:"",pep:"",shareholding:"",dualNationality:""}),p({}),g({}),u(!1)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:null!==d?"Update UBO":"Add UBO"}),(null!==d||c)&&(0,Zt.jsx)("button",{type:"button",onClick:()=>{h(null),v({fullName:"",alias:"",countryOfResidence:"",nationality:"",dateOfBirth:"",placeOfBirth:"",countryCode:"+971",phone:"",email:"",address:"",sourceOfFunds:"",sourceOfWealth:"",occupation:"",expectedIncome:"",pep:"",shareholding:"",dualNationality:""}),p({}),g({}),u(!1)},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})]})}),_P=NP,SP=e=>{let{isEdit:r=!1,initialData:n=null,onSubmit:a=null,onCancel:i=null}=e;const s=re(),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(()=>{if(r&&n){const{countryCode:e,phone:t}=(e=>{if(!e)return{countryCode:"+971",phone:""};const t=VO.map(e=>e.phone);let r="+971",n=e;for(const a of t)if(e.startsWith(a)){r=a,n=e.substring(a.length);break}return console.log("\ud83d\udcde Parsed phone:",{fullPhone:e,countryCode:r,number:n}),{countryCode:r,phone:n}})(n.phone);return{coreSystemId:n.core_system_id||"",customerType:n.customer_type||"Natural Person",email:n.email||"",countryCode:e,phone:t,city:n.city||"",channel:n.channel||"",transactionProduct:n.transaction_product||"",sourceOfFunds:n.sourceoffunds||"",residencyStatus:n.residencystatus||"",transactionAmountLimit:n.transaction_amount_limit||"",transactionLimit:n.transaction_limit||"",profession:n.profession||"",firstName:n.firstname||"",lastName:n.lastname||"",alias:n.alias||"",dateOfBirth:n.dateofbirth||"",nationality:n.nationality||"",idType:n.idtype||"",idNumber:n.idnumber||"",issueDate:n.issuedate||"",expiryDate:n.expirydate||"",address:n.address||"",occupation:n.occupation||"",sourceOfWealth:n.sourceofwealth||"",pep:n.pep||"",countryOfBirth:n.countryofbirth||"",isDualNationality:n.isdualnationality||!1,poBox:n.pobox||"",gender:n.gender||"",employer:n.employer||"",dualNationality:n.dualinationality||"",dualPassportNumber:n.dualpassportnumber||"",dualPassportIssueDate:n.dualpassportissuedate||"",dualPassportExpiryDate:n.dualpassportexpirydate||"",sourceOfFunds:n.sourceoffunds||"",residencyStatus:n.residencystatus||"",businessActivity:n.businessactivity||"",legalName:n.legalname||"",dateOfIncorporation:n.dateofincorporation||"",countryOfIncorporation:n.countryofincorporation||"",licenseType:n.licensetype||"",licenseNumber:n.licensenumber||"",licenseIssueDate:n.licenseissuedate||"",licenseExpiryDate:n.licenseexpirydate||"",registeredOfficeAddress:n.registeredofficeaddress||"",countriesSourceOfFunds:n.countriessourceoffunds||"",managementCompany:n.managementcompany||"",countriesOfOperation:n.countriesofoperation||"",jurisdiction:n.jurisdiction||"",trn:n.trn||"",licensingAuthority:n.licensingauthority||"",licenseCategory:n.licensecategory||"",addressExpiryDate:n.addressexpirydate||"",sourceOfFunds:n.sourceoffunds||"",residencyStatus:n.residencystatus||""}}return{coreSystemId:"",customerType:"Natural Person",email:"",countryCode:"+971",phone:"",city:"",channel:"",transactionProduct:"",sourceOfFunds:"",residencyStatus:"",transactionAmountLimit:"",transactionLimit:"",profession:"",firstName:"",lastName:"",alias:"",dateOfBirth:"",nationality:"",idType:"",idNumber:"",issueDate:"",expiryDate:"",address:"",occupation:"",sourceOfWealth:"",pep:"",countryOfBirth:"",isDualNationality:!1,poBox:"",gender:"",employer:"",dualNationality:"",dualPassportNumber:"",dualPassportIssueDate:"",dualPassportExpiryDate:"",sourceOfFunds:"",residencyStatus:"",businessActivity:"",legalName:"",dateOfIncorporation:"",countryOfIncorporation:"",licenseType:"",licenseNumber:"",licenseIssueDate:"",licenseExpiryDate:"",registeredOfficeAddress:"",countriesSourceOfFunds:"",managementCompany:"",countriesOfOperation:"",jurisdiction:"",trn:"",licensingAuthority:"",licenseCategory:"",addressExpiryDate:"",sourceOfFunds:"",residencyStatus:""}}),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),b=(0,t.useRef)(),x=(0,t.useRef)();(0,t.useEffect)(()=>{r&&n&&(n.shareholders&&(console.log("\ud83d\udc65 Initializing shareholders:",n.shareholders),h(n.shareholders)),n.directors&&(console.log("\ud83d\udc54 Initializing directors:",n.directors),p(n.directors)),n.bankDetails&&(console.log("\ud83c\udfe6 Initializing bank details:",n.bankDetails),g(n.bankDetails)),n.ubos&&(console.log("\ud83d\udc64 Initializing UBOs:",n.ubos),v(n.ubos)))},[r,n]);const[w,N]=(0,t.useState)({}),[_,S]=(0,t.useState)({}),j=e=>{if(!e)return!0;return new Date(e)>new Date},k=(e,t)=>{let r=null;switch(e){case"dateOfBirth":r=(e=>{if(!e)return null;const t=new Date,r=new Date(e);let n=t.getFullYear()-r.getFullYear();const a=t.getMonth()-r.getMonth();return(a<0||0===a&&t.getDate()<r.getDate())&&n--,n>=18?null:"Person must be at least 18 years old"})(t);break;case"issueDate":case"licenseIssueDate":t&&j(t)&&(r="Issue date cannot be in the future");break;case"expiryDate":case"licenseExpiryDate":case"addressExpiryDate":t&&!j(t)&&(r="Expiry date must be in the future");break;case"dualPassportIssueDate":case"dualPassportExpiryDate":t&&!j(t)&&(r="Passport date must be in the future");break;case"transactionAmountLimit":case"transactionLimit":t?(isNaN(t)||parseFloat(t)<=0)&&(r="Must be a positive number"):r="This field is required";break;case"email":t?/\S+@\S+\.\S+/.test(t)||(r="Email is invalid"):r="Email is required";break;case"phone":t?t.replace(/[^0-9]/g,"").length<7?r="Phone number must be at least 7 digits":t.replace(/[^0-9]/g,"").length>15&&(r="Phone number cannot exceed 15 digits"):r="Phone number is required";break;case"city":t||(r="City is required");break;case"channel":t||(r="Channel is required");break;case"transactionProduct":t||(r="Transaction product is required");break;case"coreSystemId":t||(r="Core System ID is required");break;case"firstName":t||(r="First name is required");break;case"lastName":t||(r="Last name is required");break;case"nationality":t||(r="Nationality is required");break;case"idType":t||(r="ID type is required");break;case"idNumber":t||(r="ID number is required");break;case"address":t||(r="Address is required");break;case"occupation":t||(r="Occupation is required");break;case"sourceOfWealth":t||(r="Source of wealth is required");break;case"pep":t||(r="PEP status is required");break;case"countryOfBirth":t||(r="Country of birth is required");break;case"sourceOfFunds":t||(r="Source of funds is required");break;case"gender":t||(r="Gender is required");break;case"residencyStatus":t||(r="Residency status is required");break;case"businessActivity":(!t||Array.isArray(t)&&0===t.length)&&(r="Business activity is required");break;case"legalName":t||(r="Legal name is required");break;case"dateOfIncorporation":t||(r="Date of incorporation is required");break;case"countryOfIncorporation":t||(r="Country of incorporation is required");break;case"licenseType":t||(r="License type is required");break;case"licenseNumber":t||(r="License number is required");break;case"countriesSourceOfFunds":(!t||Array.isArray(t)&&0===t.length)&&(r="Countries source of funds is required");break;case"countriesOfOperation":(!t||Array.isArray(t)&&0===t.length)&&(r="Countries of operation is required");break;case"jurisdiction":(!t||Array.isArray(t)&&0===t.length)&&(r="Jurisdiction is required");break;case"licenseCategory":(!t||Array.isArray(t)&&0===t.length)&&(r="License category is required")}return r},A=e=>{const t=k(e,c[e]);N(r=>({...r,[e]:t})),S(t=>({...t,[e]:!0}))},C=(e,t)=>{u(r=>({...r,[e]:t})),w[e]&&N(t=>({...t,[e]:null}))};return(0,Zt.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow",children:[!r&&(0,Zt.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Customer Onboarding Form"}),(0,Zt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e={},t=["email","phone","city","channel","transactionProduct","transactionAmountLimit","transactionLimit"];if("Natural Person"===c.customerType){const r=["firstName","lastName","dateOfBirth","nationality","idType","idNumber","address","occupation","sourceOfWealth","pep","countryOfBirth","sourceOfFunds","gender","residencyStatus"];[...t,...r].forEach(t=>{const r=k(t,c[t]);r&&(e[t]=r)})}else if("Legal Entities"===c.customerType){const r=["businessActivity","legalName","dateOfIncorporation","countryOfIncorporation","licenseType","licenseNumber","countriesSourceOfFunds","countriesOfOperation","jurisdiction","sourceOfFunds","residencyStatus","licenseCategory"];[...t,...r].forEach(t=>{const r=k(t,c[t]);r&&(e[t]=r)})}return Object.keys(e).length>0&&(console.log("Validation errors found:",e),console.log("Total validation errors:",Object.keys(e).length),console.log("Failed fields:",Object.keys(e)),console.log("Form data:",c)),N(e),0===Object.keys(e).length})())return console.log("Form validation failed. Current errors:",w),void qt.error("Please fix the validation errors before submitting");if(!r&&c.coreSystemId){if(await(async e=>{try{return(await kO.checkCoreSystemIdExists(e)).exists}catch(t){return console.error("Error checking core system ID:",t),!1}})(c.coreSystemId))return void qt.error("Core System ID already exists. Please use a unique ID.")}l(!0);try{const e={core_system_id:c.coreSystemId,customer_type:c.customerType,email:c.email,phone:c.countryCode+c.phone,channel:c.channel,transaction_product:c.transactionProduct,transaction_amount_limit:c.transactionAmountLimit,transaction_limit:c.transactionLimit,risk_score:0,risk_level:"Low",kyc_status:"Pending",due_diligence_level:"Standard",status:"Active"};let n=null;if(console.log("\ud83d\udd0d Form data for detail preparation:",c),"Natural Person"===c.customerType?(n={profession:c.profession,firstname:c.firstName,lastname:c.lastName,alias:c.alias,dateofbirth:c.dateOfBirth||null,nationality:c.nationality,residencystatus:c.residencyStatus,idtype:c.idType,idnumber:c.idNumber,issuedate:c.issueDate||null,expirydate:c.expiryDate||null,isdualnationality:c.isDualNationality,dualnationality:c.isDualNationality?c.dualNationality:null,dualpassportnumber:c.isDualNationality?c.dualPassportNumber:null,dualpassportissuedate:c.isDualNationality?c.dualPassportIssueDate:null,dualpassportexpirydate:c.isDualNationality?c.dualPassportExpiryDate:null,countryofbirth:c.countryOfBirth,address:c.address,city:c.city,occupation:c.occupation,sourceofwealth:c.sourceOfWealth,pep:c.pep,sourceoffunds:c.sourceOfFunds,pobox:c.poBox,gender:c.gender,employer:c.employer},console.log("\ud83d\udc64 Natural Person detail data prepared:",n)):"Legal Entities"===c.customerType&&(console.log("\ud83d\udd0d Legal Entity form data:",{businessActivity:c.businessActivity,legalName:c.legalName,alias:c.alias,dateOfIncorporation:c.dateOfIncorporation,countryOfIncorporation:c.countryOfIncorporation,licenseType:c.licenseType,licenseNumber:c.licenseNumber,licenseIssueDate:c.licenseIssueDate,licenseExpiryDate:c.licenseExpiryDate,registeredOfficeAddress:c.registeredOfficeAddress,city:c.city,countriesSourceOfFunds:c.countriesSourceOfFunds,managementCompany:c.managementCompany,countriesOfOperation:c.countriesOfOperation,jurisdiction:c.jurisdiction,sourceOfFunds:c.sourceOfFunds,residencyStatus:c.residencyStatus,licensingAuthority:c.licensingAuthority,trn:c.trn,licenseCategory:c.licenseCategory,addressExpiryDate:c.addressExpiryDate}),n={businessactivity:Array.isArray(c.businessActivity)?JSON.stringify(c.businessActivity):c.businessActivity,legalname:c.legalName,alias:c.alias,dateofincorporation:c.dateOfIncorporation||null,countryofincorporation:c.countryOfIncorporation,licensetype:c.licenseType,licensenumber:c.licenseNumber,licenseissuedate:c.licenseIssueDate||null,licenseexpirydate:c.licenseExpiryDate||null,registeredofficeaddress:c.registeredOfficeAddress,city:c.city,countriessourceoffunds:Array.isArray(c.countriesSourceOfFunds)?JSON.stringify(c.countriesSourceOfFunds):c.countriesSourceOfFunds,managementcompany:c.managementCompany,countriesofoperation:Array.isArray(c.countriesOfOperation)?JSON.stringify(c.countriesOfOperation):c.countriesOfOperation,jurisdiction:c.jurisdiction,sourceoffunds:c.sourceOfFunds,residencystatus:c.residencyStatus,licensingauthority:c.licensingAuthority,trn:c.trn,licensecategory:c.licenseCategory,addressexpirydate:c.addressExpiryDate||null},console.log("\ud83c\udfe2 Legal Entity detail data prepared:",n),console.log("\ud83c\udfe2 Detail data keys:",Object.keys(n)),console.log("\ud83c\udfe2 Detail data values:",Object.values(n))),r&&a){const t={...e,...n,shareholders:d,directors:f,bankDetails:m,ubos:y};console.log("\ud83d\udd04 Edit mode - sending update data:",t);const r=await a(t);r&&r.success?(qt.success("Customer updated successfully!"),s("/customer/list")):qt.error((null===r||void 0===r?void 0:r.error)||"Failed to update customer")}else{const r=await kO.createCustomer(e);if(r.success){const a=r.data.id;try{if(console.log("\ud83d\udd0d Detail data check:",n),console.log("\ud83d\udd0d Detail data type:",typeof n),console.log("\ud83d\udd0d Detail data length:",n?Object.keys(n).length:"undefined"),n){if(console.log("\ud83d\udcbe Attempting to save detail data:",n),"Natural Person"===c.customerType){console.log("\ud83d\udc64 Saving Natural Person details...");const e=await kO.saveNaturalPersonDetails(a,n);if(console.log("\ud83d\udc64 Natural Person save result:",e),!e.success)throw new Error(`Failed to save Natural Person details: ${e.error}`)}else if("Legal Entities"===c.customerType){console.log("\ud83c\udfe2 Saving Legal Entity details...");const e=await kO.saveLegalEntityDetails(a,n);if(console.log("\ud83c\udfe2 Legal Entity save result:",e),!e.success)throw new Error(`Failed to save Legal Entity details: ${e.error}`)}}else console.log("\u26a0\ufe0f No detail data to save");d.length>0&&await kO.saveShareholders(a,d),f.length>0&&await kO.saveDirectors(a,f),m.length>0&&await kO.saveBankDetails(a,m),y.length>0&&await kO.saveUbos(a,y);const t={...e,...n,shareholders:d,directors:f,bankDetails:m,ubos:y},r=await kO.calculateAndUpdateRiskScore(a,t);r.success&&console.log("Risk score calculated and updated:",r.data),qt.success("Customer onboarded successfully!"),s("/customer/list")}catch(t){console.error("Error saving detail or section data:",t),qt.error("Customer created but failed to save some details"),s("/customer/list")}}else qt.error(r.error||"Failed to onboard customer")}}catch(t){console.error("Error creating customer:",t),qt.error("An error occurred while creating the customer")}finally{l(!1)}},children:[(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Core System ID ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{className:`input ${w.coreSystemId&&_.coreSystemId?"border-red-500":""} ${r?"bg-gray-100 cursor-not-allowed":""}`,value:c.coreSystemId,onChange:e=>!r&&C("coreSystemId",e.target.value),onBlur:()=>!r&&A("coreSystemId"),disabled:r}),w.coreSystemId&&_.coreSystemId&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:w.coreSystemId})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Customer Type ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input "+(r?"bg-gray-100 cursor-not-allowed":""),value:c.customerType,onChange:e=>!r&&C("customerType",e.target.value),disabled:r,children:[(0,Zt.jsx)("option",{value:"Natural Person",children:"Natural Person"}),(0,Zt.jsx)("option",{value:"Legal Entities",children:"Legal Entities"})]})]})]}),"Natural Person"===c.customerType?(0,Zt.jsx)(hP,{formData:c,onInputChange:C,onFieldBlur:A,errors:w,touched:_}):(0,Zt.jsx)(fP,{formData:c,onInputChange:C,onFieldBlur:A,errors:w,touched:_}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{type:"email",className:"input "+(w.email&&_.email?"border-red-500":""),value:c.email,onChange:e=>C("email",e.target.value),onBlur:()=>A("email")}),w.email&&_.email&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:w.email})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-32",value:c.countryCode||"+971",onChange:e=>{u(t=>({...t,countryCode:e.target.value}))},children:VO.filter(e=>e.phone&&e.phone.length<=6).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Zt.jsxs)("option",{value:e.phone,children:[e.phone," (",e.code,")"]},e.code))}),(0,Zt.jsx)("input",{type:"tel",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm "+(w.phone&&_.phone?"border-red-500":""),value:c.phone||"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");C("phone",t)},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},placeholder:"Enter phone number",maxLength:15})]}),w.phone&&_.phone&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:w.phone})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{className:"input "+(w.city&&_.city?"border-red-500":""),value:c.city,onChange:e=>C("city",e.target.value),onBlur:()=>A("city")}),w.city&&_.city&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:w.city})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Channel ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input "+(w.channel&&_.channel?"border-red-500":""),value:c.channel,onChange:e=>C("channel",e.target.value),onBlur:()=>A("channel"),children:[(0,Zt.jsx)("option",{value:"",children:"Select Channel"}),(0,Zt.jsx)("option",{value:"Face to Face",children:"Face to Face"}),(0,Zt.jsx)("option",{value:"Non Face to Face",children:"Non Face to Face"})]}),w.channel&&_.channel&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:w.channel})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Transaction Product ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsxs)("select",{className:"input "+(w.transactionProduct&&_.transactionProduct?"border-red-500":""),value:c.transactionProduct,onChange:e=>C("transactionProduct",e.target.value),onBlur:()=>A("transactionProduct"),children:[(0,Zt.jsx)("option",{value:"",children:"Select Transaction Product"}),(0,Zt.jsx)("option",{value:"Standard Project",children:"Standard Project"}),(0,Zt.jsx)("option",{value:"Capital Markets",children:"Capital Markets"}),(0,Zt.jsx)("option",{value:"Commercial Dispute Resolution Notes",children:"Commercial Dispute Resolution Notes"}),(0,Zt.jsx)("option",{value:"Commercial",children:"Commercial"}),(0,Zt.jsx)("option",{value:"Competition",children:"Competition"}),(0,Zt.jsx)("option",{value:"Corporate Intelligence",children:"Corporate Intelligence"}),(0,Zt.jsx)("option",{value:"Employment",children:"Employment"}),(0,Zt.jsx)("option",{value:"Criminal Litigation",children:"Criminal Litigation"}),(0,Zt.jsx)("option",{value:"Gold Bars",children:"Gold Bars"}),(0,Zt.jsx)("option",{value:"Silver Bars",children:"Silver Bars"}),(0,Zt.jsx)("option",{value:"Gold Grains",children:"Gold Grains"}),(0,Zt.jsx)("option",{value:"Silver Grains",children:"Silver Grains"}),(0,Zt.jsx)("option",{value:"GOLD",children:"GOLD"}),(0,Zt.jsx)("option",{value:"SILVER",children:"SILVER"}),(0,Zt.jsx)("option",{value:"DIAMOND",children:"DIAMOND"}),(0,Zt.jsx)("option",{value:"JEWELLERY",children:"JEWELLERY"}),(0,Zt.jsx)("option",{value:"OffPlan property",children:"OffPlan property"}),(0,Zt.jsx)("option",{value:"Secondary property",children:"Secondary property"}),(0,Zt.jsx)("option",{value:"PLATINUM",children:"PLATINUM"})]}),w.transactionProduct&&_.transactionProduct&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:w.transactionProduct})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Transaction Amount Limit ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{type:"number",step:"0.01",min:"0",className:"input "+(w.transactionAmountLimit&&_.transactionAmountLimit?"border-red-500":""),value:c.transactionAmountLimit,onChange:e=>C("transactionAmountLimit",e.target.value),onBlur:()=>A("transactionAmountLimit"),placeholder:"Enter amount limit per transaction"}),w.transactionAmountLimit&&_.transactionAmountLimit&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:w.transactionAmountLimit})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Transaction Limit ",(0,Zt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Zt.jsx)("input",{type:"number",step:"0.01",min:"0",className:"input "+(w.transactionLimit&&_.transactionLimit?"border-red-500":""),value:c.transactionLimit,onChange:e=>C("transactionLimit",e.target.value),onBlur:()=>A("transactionLimit"),placeholder:"Enter total amount limit per year"}),w.transactionLimit&&_.transactionLimit&&(0,Zt.jsx)("p",{className:"text-red-500 text-sm mt-1",children:w.transactionLimit})]})]}),(0,Zt.jsxs)("div",{className:"mt-6 space-y-4",children:["Legal Entities"===c.customerType&&(0,Zt.jsx)(mP,{shareholders:d,onShareholdersChange:e=>{h(e)},isEdit:r,onDirectorCreate:e=>{if(console.log("\ud83d\udc54 Filling director form with shareholder data:",e),b.current&&b.current.fillForm(e),e.firstName&&e.lastName){const t=`${e.firstName} ${e.lastName}`.trim();t&&qt.success(`Director form filled with data from "${t}"! Complete remaining fields and click "Add Director".`)}},onUboCreate:e=>{console.log("\ud83d\udc64 Filling UBO form with shareholder data:",e),x.current&&x.current.fillForm(e),e.fullName&&qt.success(`UBO form filled with data from "${e.fullName}"! Complete remaining fields and click "Add UBO".`)}}),"Legal Entities"===c.customerType&&(0,Zt.jsx)(vP,{ref:b,directors:f,onDirectorsChange:e=>{p(e)},isEdit:r}),(0,Zt.jsx)(xP,{bankDetails:m,onBankDetailsChange:e=>{g(e)},isEdit:r}),"Legal Entities"===c.customerType&&(0,Zt.jsx)(_P,{ref:x,ubos:y,onUbosChange:e=>{v(e)},isEdit:r})]}),(0,Zt.jsx)("div",{className:"mt-6",children:(0,Zt.jsxs)("div",{className:"flex gap-4",children:[r&&i&&(0,Zt.jsx)("button",{type:"button",onClick:i,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition duration-200",children:"Cancel"}),(0,Zt.jsx)("button",{type:"submit",disabled:o,className:(r?"flex-1":"w-full")+" bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:o?(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Zt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Zt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r?"Update Customer":"Create Customer"})]})})]})]})},jP=()=>{const e=re(),[r,n]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[s,o]=(0,t.useState)({risk:"",kyc:""}),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(new Set),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(!1),[N,_]=(0,t.useState)(!1),[S,j]=(0,t.useState)(null),[k,A]=(0,t.useState)(!1),C=e=>{i(t=>t===e?"":e)};(0,t.useEffect)(()=>{(async()=>{try{d(!0);const e=await kO.getCustomers();e.success?c(e.data):f(e.error||"Failed to fetch customers")}catch(h){console.error("Error fetching customers:",h),f("Failed to fetch customers")}finally{d(!1)}})()},[]);const O=(e,t)=>{o(r=>({...r,[e]:t}))},P=l.map(e=>{console.log("\ud83d\udd0d Transforming customer:",e),console.log("\ud83d\udccb Customer type:",e.customer_type),console.log("\ud83d\udc64 Natural person details:",e.natural_person_details),console.log("\ud83c\udfe2 Legal entity details:",e.legal_entity_details),console.log("\ud83d\udd0d Customer type comparison:",{isNaturalPerson:"Natural Person"===e.customer_type,isLegalEntities:"Legal Entities"===e.customer_type,hasNaturalPersonDetails:!!e.natural_person_details,hasLegalEntityDetails:!!e.legal_entity_details});let t="Unnamed Customer";if("Natural Person"===e.customer_type&&e.natural_person_details){t=`${e.natural_person_details.firstname||""} ${e.natural_person_details.lastname||""}`.trim(),console.log("\ud83d\udc64 Natural person name:",t)}else"Legal Entities"===e.customer_type&&e.legal_entity_details&&(t=e.legal_entity_details.legalname||"Legal Entity",console.log("\ud83c\udfe2 Legal entity name:",t));"Unnamed Customer"!==t&&""!==t.trim()||(e.first_name&&e.last_name?(t=`${e.first_name} ${e.last_name}`.trim(),console.log("\ud83d\udd0d Fallback to old fields:",t)):e.first_name?(t=e.first_name,console.log("\ud83d\udd0d Fallback to first_name only:",t)):e.alias&&(t=e.alias,console.log("\ud83d\udd0d Fallback to alias:",t)));const r={id:e.id,name:t||"Unnamed Customer",customer_type:e.customer_type,risk:e.risk_level||"Low",kyc:e.kyc_status||"Pending",date:e.created_at?new Date(e.created_at).toISOString().split("T")[0]:"N/A",email:e.email,phone:e.phone};return console.log("\u2705 Final result:",r),r}).filter(e=>e.name.toLowerCase().includes(r.toLowerCase())).filter(e=>!s.risk||e.risk===s.risk).filter(e=>!s.kyc||e.kyc===s.kyc).sort((e,t)=>a?"date"===a?new Date(t.date)-new Date(e.date):e[a].localeCompare(t[a]):0);return(0,Zt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Zt.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Customer List"}),u&&(0,Zt.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Zt.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading customers..."})]}),h&&(0,Zt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Zt.jsxs)("div",{className:"flex",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Zt.jsxs)("div",{className:"ml-3",children:[(0,Zt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading customers"}),(0,Zt.jsx)("div",{className:"mt-2 text-sm text-red-700",children:h})]})]})}),(0,Zt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search customer...",value:r,onChange:e=>n(e.target.value),className:"w-full sm:w-64 border border-gray-300 rounded-lg px-4 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,Zt.jsxs)("button",{onClick:()=>e("/customer/onboarding"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition duration-200 flex items-center gap-2 shadow-sm",children:[(0,Zt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Customer"]}),(0,Zt.jsx)("button",{onClick:async()=>{try{m(!0);const e=await kO.reEvaluateAllRiskScores();if(e.success){const t=await kO.getCustomers();t.success&&c(t.data),qt.success(`\u2705 ${e.message}\nUpdated: ${e.updatedCount} customers\nErrors: ${e.errorCount}`)}else qt.error(`\u274c Error: ${e.error}`)}catch(h){console.error("Error re-evaluating risk scores:",h),qt.error("\u274c Failed to re-evaluate risk scores")}finally{m(!1)}},disabled:u||p,className:"bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg font-medium transition duration-200 flex items-center gap-2 shadow-sm",children:p?(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Re-evaluating..."]}):(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Re-evaluate Risk"]})})]}),(0,Zt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Zt.jsxs)("select",{value:s.risk,onChange:e=>O("risk",e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-400",children:[(0,Zt.jsx)("option",{value:"",children:"All Risks"}),(0,Zt.jsx)("option",{value:"High",children:"High Risk"}),(0,Zt.jsx)("option",{value:"Medium",children:"Medium Risk"}),(0,Zt.jsx)("option",{value:"Low",children:"Low Risk"})]}),(0,Zt.jsxs)("select",{value:s.kyc,onChange:e=>O("kyc",e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-400",children:[(0,Zt.jsx)("option",{value:"",children:"All KYC"}),(0,Zt.jsx)("option",{value:"Verified",children:"Verified"}),(0,Zt.jsx)("option",{value:"Pending",children:"Pending"}),(0,Zt.jsx)("option",{value:"Rejected",children:"Rejected"})]})]})]}),!u&&!h&&(0,Zt.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",P.length," of ",l.length," customers"]}),!u&&!h&&(0,Zt.jsxs)("div",{className:"overflow-auto bg-white rounded-xl shadow border",children:[(0,Zt.jsxs)("table",{className:"min-w-full text-sm text-left",children:[(0,Zt.jsx)("thead",{children:(0,Zt.jsxs)("tr",{className:"bg-gray-100 text-gray-700 border-b",children:[(0,Zt.jsx)("th",{className:"p-4 font-medium cursor-pointer hover:text-blue-600",onClick:()=>C("name"),children:"Name"}),(0,Zt.jsx)("th",{className:"p-4 font-medium cursor-pointer hover:text-blue-600",onClick:()=>C("customer_type"),children:"Type"}),(0,Zt.jsx)("th",{className:"p-4 font-medium cursor-pointer hover:text-blue-600",onClick:()=>C("risk"),children:"Risk Level"}),(0,Zt.jsx)("th",{className:"p-4 font-medium cursor-pointer hover:text-blue-600",onClick:()=>C("kyc"),children:"KYC Status"}),(0,Zt.jsx)("th",{className:"p-4 font-medium cursor-pointer hover:text-blue-600",onClick:()=>C("date"),children:"Date Added"})]})}),(0,Zt.jsx)("tbody",{children:P.map((r,n)=>(0,Zt.jsxs)(t.Fragment,{children:[(0,Zt.jsxs)("tr",{onClick:()=>{return e=r.id,void y(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r});var e},className:"border-b hover:bg-gray-50 transition duration-200 cursor-pointer "+(g.has(r.id)?"bg-blue-50":""),children:[(0,Zt.jsx)("td",{className:"p-4 font-semibold text-gray-800",children:r.name}),(0,Zt.jsx)("td",{className:"p-4",children:(0,Zt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:r.customer_type})}),(0,Zt.jsx)("td",{className:"p-4",children:(0,Zt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("High"===r.risk?"bg-red-100 text-red-700":"Medium"===r.risk?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:r.risk})}),(0,Zt.jsx)("td",{className:"p-4 text-gray-700",children:r.kyc}),(0,Zt.jsx)("td",{className:"p-4 text-gray-600",children:r.date})]}),g.has(r.id)&&(0,Zt.jsx)("tr",{className:"bg-gray-50 border-b",children:(0,Zt.jsx)("td",{colSpan:"5",className:"p-4",children:(0,Zt.jsxs)("div",{className:"flex gap-3",children:[(0,Zt.jsx)("button",{onClick:e=>{e.stopPropagation(),(async e=>{try{const t=await kO.getCustomerById(e.id);if(!t)return void console.error("Failed to fetch customer data for editing");console.log("\ud83d\udd0d Full customer data for editing:",t);const r={id:t.id,core_system_id:t.core_system_id,customer_type:t.customer_type,email:t.email,phone:t.phone,channel:t.channel,transaction_product:t.transaction_product,transaction_amount_limit:t.transaction_amount_limit,transaction_limit:t.transaction_limit,risk_score:t.risk_score,risk_level:t.risk_level,kyc_status:t.kyc_status,kyc_remarks:t.kyc_remarks,due_diligence_level:t.due_diligence_level,status:t.status,created_at:t.created_at,updated_at:t.updated_at,...t.natural_person_details&&{profession:t.natural_person_details.profession,firstname:t.natural_person_details.firstname,lastname:t.natural_person_details.lastname,alias:t.natural_person_details.alias,dateofbirth:t.natural_person_details.dateofbirth,nationality:t.natural_person_details.nationality,residencystatus:t.natural_person_details.residencystatus,idtype:t.natural_person_details.idtype,idnumber:t.natural_person_details.idnumber,issuedate:t.natural_person_details.issuedate,expirydate:t.natural_person_details.expirydate,isdualnationality:t.natural_person_details.isdualnationality,dualnationality:t.natural_person_details.dualinationality,dualpassportnumber:t.natural_person_details.dualpassportnumber,dualpassportissuedate:t.natural_person_details.dualpassportissuedate,dualpassportexpirydate:t.natural_person_details.dualpassportexpirydate,countryofbirth:t.natural_person_details.countryofbirth,address:t.natural_person_details.address,city:t.natural_person_details.city,occupation:t.natural_person_details.occupation,sourceofwealth:t.natural_person_details.sourceofwealth,pep:t.natural_person_details.pep,sourceoffunds:t.natural_person_details.sourceoffunds,pobox:t.natural_person_details.pobox,gender:t.natural_person_details.gender,employer:t.natural_person_details.employer},...t.legal_entity_details&&{businessactivity:t.legal_entity_details.businessactivity?"string"===typeof t.legal_entity_details.businessactivity?JSON.parse(t.legal_entity_details.businessactivity):t.legal_entity_details.businessactivity:[],legalname:t.legal_entity_details.legalname,alias:t.legal_entity_details.alias,dateofincorporation:t.legal_entity_details.dateofincorporation,countryofincorporation:t.legal_entity_details.countryofincorporation,licensetype:t.legal_entity_details.licensetype,licensenumber:t.legal_entity_details.licensenumber,licenseissuedate:t.legal_entity_details.licenseissuedate,licenseexpirydate:t.legal_entity_details.licenseexpirydate,registeredofficeaddress:t.legal_entity_details.registeredofficeaddress,city:t.legal_entity_details.city,countriessourceoffunds:t.legal_entity_details.countriessourceoffunds?"string"===typeof t.legal_entity_details.countriessourceoffunds?JSON.parse(t.legal_entity_details.countriessourceoffunds):t.legal_entity_details.countriessourceoffunds:[],managementcompany:t.legal_entity_details.managementcompany,countriesofoperation:t.legal_entity_details.countriesofoperation?"string"===typeof t.legal_entity_details.countriesofoperation?JSON.parse(t.legal_entity_details.countriesofoperation):t.legal_entity_details.countriesofoperation:[],jurisdiction:t.legal_entity_details.jurisdiction,sourceoffunds:t.legal_entity_details.sourceoffunds,residencystatus:t.legal_entity_details.residencystatus,licensingauthority:t.legal_entity_details.licensingauthority,trn:t.legal_entity_details.trn,licensecategory:t.legal_entity_details.licensecategory,addressexpirydate:t.legal_entity_details.addressexpirydate},shareholders:(t.shareholders||[]).map(e=>({id:e.id,type:e.type,fullName:e.fullName,alias:e.alias,nationality:e.nationality,countryOfResidence:e.countryOfResidence,dateOfBirth:e.dateOfBirth,placeOfBirth:e.placeOfBirth,phone:e.phone,email:e.email,address:e.address,sourceOfFunds:e.sourceOfFunds,sourceOfWealth:e.sourceOfWealth,occupation:e.occupation,expectedIncome:e.expectedIncome,pep:e.pep,shareholding:e.shareholding,dualNationality:e.dualNationality,isDirector:e.isDirector,isUbo:e.isUbo,legalName:e.legalName,dateOfIncorporation:e.dateOfIncorporation,countryOfIncorporation:e.countryOfIncorporation,entityClass:e.entityClass,licenseType:e.licenseType,licenseNumber:e.licenseNumber,licenseIssueDate:e.licenseIssueDate,licenseExpiryDate:e.licenseExpiryDate,businessActivity:e.businessActivity,countriesOfOperation:e.countriesOfOperation,registeredOfficeAddress:e.registeredOfficeAddress,countriesSourceOfFunds:e.countriesSourceOfFunds,otherDetails:e.otherDetails,trustName:e.trustName,trustRegistered:e.trustRegistered,trustType:e.trustType,jurisdictionOfLaw:e.jurisdictionOfLaw,registeredAddress:e.registeredAddress,trusteeName:e.trusteeName,trusteeType:e.trusteeType})),directors:(t.customer_directors||[]).map(e=>({firstName:e.first_name,alias:e.alias,lastName:e.last_name,countryOfResidence:e.country_of_residence,nationality:e.nationality,dateOfBirth:e.date_of_birth,phone:e.phone,placeOfBirth:e.place_of_birth,email:e.email,address:e.address,city:e.city,occupation:e.occupation,pepStatus:e.pep_status,isCeo:e.is_ceo,isRepresentative:e.is_representative,dualNationality:e.dual_nationality})),bankDetails:(t.customer_bank_details||[]).map(e=>({bankName:e.bank_name,alias:e.alias,accountType:e.account_type,currency:e.currency,bankAccountDetails:e.bank_account_details,accountNumber:e.account_number,iban:e.iban,swift:e.swift,modeOfSignatory:e.mode_of_signatory,internetBanking:e.internet_banking,bankSignatories:e.bank_signatories})),ubos:(t.ubos||[]).map(e=>({id:e.id,fullName:e.fullName,alias:e.alias,nationality:e.nationality,countryOfResidence:e.countryOfResidence,dateOfBirth:e.dateOfBirth,placeOfBirth:e.placeOfBirth,phone:e.phone,email:e.email,address:e.address,sourceOfFunds:e.sourceOfFunds,sourceOfWealth:e.sourceOfWealth,occupation:e.occupation,expectedIncome:e.expectedIncome,pep:e.pep,shareholding:e.shareholding,dualNationality:e.dualNationality}))};console.log("\u2705 Flattened customer data for editing:",r),b(r),w(!0),y(new Set)}catch(h){console.error("Error preparing customer data for editing:",h),qt.error("Failed to load customer data for editing. Please try again.")}})(r)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition duration-200",children:"Edit Customer"}),(0,Zt.jsx)("button",{onClick:t=>{var n;t.stopPropagation(),n=r.id,e(`/customer/kyc/${n}`),y(new Set)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition duration-200",children:"KYC Review"}),(0,Zt.jsx)("button",{onClick:t=>{var n;t.stopPropagation(),n=r.id,e(`/customer/risk-profile/${n}`),y(new Set)},className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition duration-200",children:"Risk Profile"}),(0,Zt.jsx)("button",{onClick:e=>{e.stopPropagation(),j(r),_(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition duration-200",children:"Delete Customer"}),(0,Zt.jsx)("button",{onClick:e=>{e.stopPropagation(),y(e=>{const t=new Set(e);return t.delete(r.id),t})},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition duration-200",children:"Close"})]})})})]},r.id))})]}),0===P.length&&(0,Zt.jsx)("div",{className:"p-6 text-gray-500 text-center",children:"No customers found."})]}),x&&v&&(0,Zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:(0,Zt.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"}),(0,Zt.jsx)("button",{onClick:()=>{w(!1),b(null)},className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100 transition duration-200",children:(0,Zt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Zt.jsx)("div",{className:"border-t border-gray-200 pt-4",children:(0,Zt.jsx)(SP,{isEdit:!0,initialData:v,onSubmit:async e=>{try{if(!v)return{success:!1,error:"No customer selected"};const t=await kO.updateCustomer(v.id,e);if(t.success){const e=await kO.getCustomers();return e.success&&c(e.data),w(!1),b(null),{success:!0,message:"Customer updated successfully!"}}return{success:!1,error:t.error||"Failed to update customer"}}catch(h){return console.error("Error updating customer:",h),{success:!1,error:h.message||"Failed to update customer"}}},onCancel:()=>{w(!1),b(null)}})})]})}),N&&S&&(0,Zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Zt.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Zt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Zt.jsx)("div",{className:"ml-3",children:(0,Zt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Customer"})})]}),(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Are you sure you want to delete ",(0,Zt.jsx)("span",{className:"font-semibold text-gray-900",children:S.name}),"?"]}),(0,Zt.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"\u26a0\ufe0f This action cannot be undone."})]}),(0,Zt.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,Zt.jsx)("button",{onClick:()=>{_(!1),j(null)},disabled:k,className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg font-medium transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Zt.jsx)("button",{onClick:async()=>{if(S)try{A(!0);const e=await kO.deleteCustomer(S.id);if(e.success){const e=await kO.getCustomers();e.success&&c(e.data),_(!1),j(null),qt.success("Customer deleted successfully!")}else qt.error(`\u274c Error: ${e.error||"Failed to delete customer"}`)}catch(h){console.error("Error deleting customer:",h),qt.error(`\u274c Error: ${h.message||"Failed to delete customer"}`)}finally{A(!1)}},disabled:k,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:k?(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Deleting..."]}):(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})})]})]})})]})},kP=e=>{let{label:t,value:r}=e;return(0,Zt.jsxs)("div",{className:"mb-4",children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:t}),(0,Zt.jsx)("div",{className:"mt-1 text-gray-900",children:r&&""!==r.trim()?r:"\u2014"})]})},AP=e=>{let{label:t,value:r,onChange:n}=e;return(0,Zt.jsxs)("div",{className:"mb-4 col-span-2",children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,Zt.jsx)("textarea",{className:"w-full border border-gray-300 rounded-md p-2",rows:3,value:r,onChange:n})]})},CP=e=>{let{label:t,value:r,onChange:n,options:a}=e;return(0,Zt.jsxs)("div",{className:"mb-4 col-span-2",children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,Zt.jsx)("select",{className:"w-full border border-gray-300 rounded-md p-2",value:r,onChange:n,children:a.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))})]})},OP=e=>{let{title:t,children:r}=e;return(0,Zt.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[(0,Zt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:t}),(0,Zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r})]})},PP=()=>{var e,r,n,a;const{customerId:i}=ne(),s=re(),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{i&&(async()=>{try{u(!0);const e=await kO.getCustomerById(i);e?l(e):h("Customer not found")}catch(d){console.error("Error fetching customer:",d),h("Failed to fetch customer data")}finally{u(!1)}})()},[i]),(0,t.useEffect)(()=>{o&&(w(o.kyc_status||"Pending"),_(o.kyc_remarks||""),j(o.due_diligence_level||"Standard"),f())},[o]);const f=async()=>{if(null!==o&&void 0!==o&&o.id)try{const e=await KO.loadVerificationChecks(o.id);e.success?A(e.data):console.error("Error loading verification checks:",e.error)}catch(d){console.error("Error loading verification checks:",d)}},[p,m]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[x,w]=(0,t.useState)("Pending"),[N,_]=(0,t.useState)(""),[S,j]=(0,t.useState)("Standard"),[k,A]=(0,t.useState)({});return c?(0,Zt.jsx)("div",{className:"p-6 max-w-6xl mx-auto",children:(0,Zt.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Zt.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading customer data..."})]})}):d||!o?(0,Zt.jsx)("div",{className:"p-6 max-w-6xl mx-auto",children:(0,Zt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Zt.jsxs)("div",{className:"flex",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Zt.jsxs)("div",{className:"ml-3",children:[(0,Zt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading customer"}),(0,Zt.jsx)("div",{className:"mt-2 text-sm text-red-700",children:d||"Customer not found"}),(0,Zt.jsx)("button",{onClick:()=>s("/customer/list"),className:"mt-3 bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700",children:"Back to Customer List"})]})]})})}):(0,Zt.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,Zt.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,Zt.jsxs)("button",{onClick:()=>s("/customer/list"),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[(0,Zt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Customer List"]})}),(0,Zt.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6 mb-6 flex justify-between items-center",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h2",{className:"text-2xl font-bold",children:"Natural Person"===o.customer_type?`${o.first_name||""} ${o.last_name||""}`.trim():o.first_name||o.alias||"Legal Entity"}),(0,Zt.jsxs)("p",{className:"text-gray-600",children:[o.nationality," | ",o.customer_type]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+("Approved"===x?"bg-green-100 text-green-800":"Rejected"===x?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:x}),(0,Zt.jsxs)("span",{className:"ml-4 bg-gray-100 px-3 py-1 rounded-full text-sm text-gray-700",children:["Risk: ",o.risk_level||"Low"]})]})]}),(0,Zt.jsxs)(OP,{title:"Personal Information",children:[(0,Zt.jsx)(kP,{label:"Full Name",value:"Natural Person"===o.customer_type?`${o.first_name||""} ${o.last_name||""}`.trim():o.first_name||o.alias||"Legal Entity"}),(0,Zt.jsx)(kP,{label:"Profession",value:o.profession}),(0,Zt.jsx)(kP,{label:"Nationality",value:o.nationality}),(0,Zt.jsx)(kP,{label:"Customer Type",value:o.customer_type})]}),(0,Zt.jsxs)(OP,{title:"Contact Information",children:[(0,Zt.jsx)(kP,{label:"Email",value:o.email}),(0,Zt.jsx)(kP,{label:"Phone Number",value:o.phone})]}),(0,Zt.jsxs)(OP,{title:"ID Information",children:[(0,Zt.jsx)(kP,{label:"ID Type",value:o.id_type}),(0,Zt.jsx)(kP,{label:"ID Number",value:o.id_number})]}),(0,Zt.jsxs)(OP,{title:"Funds & Wealth",children:[(0,Zt.jsx)(kP,{label:"Source of Wealth",value:o.source_of_wealth}),(0,Zt.jsx)(kP,{label:"Source of Funds",value:o.source_of_funds})]}),(0,Zt.jsxs)(OP,{title:"Other Info",children:[(0,Zt.jsx)(kP,{label:"PEP Status",value:o.pep_status}),(0,Zt.jsx)(kP,{label:"Residency Status",value:o.residency_status}),(0,Zt.jsx)(kP,{label:"Gender",value:o.gender})]}),(0,Zt.jsx)(OP,{title:"Bank Information",children:(null===(e=o.customer_bank_details)||void 0===e?void 0:e.length)>0?o.customer_bank_details.map((e,t)=>(0,Zt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 mb-2 col-span-2",children:[(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Bank Name:"})," ",e.bank_name]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Account Type:"})," ",e.account_type]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Currency:"})," ",e.currency]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Account Number:"})," ",e.account_number]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"IBAN:"})," ",e.iban]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"SWIFT:"})," ",e.swift]})]},t)):(0,Zt.jsx)("div",{className:"col-span-2 text-gray-500 italic",children:"No bank details available"})}),(0,Zt.jsx)(OP,{title:"Directors/Representatives",children:(null===(r=o.customer_directors)||void 0===r?void 0:r.length)>0?o.customer_directors.map((e,t)=>(0,Zt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 mb-2 col-span-2",children:[(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Name:"})," ",e.first_name," ",e.last_name]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Nationality:"})," ",e.nationality]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Position:"})," ",e.position]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"PEP Status:"})," ",e.pep_status]})]},t)):(0,Zt.jsx)("div",{className:"col-span-2 text-gray-500 italic",children:"No directors/representatives information available"})}),(0,Zt.jsx)(OP,{title:"Ultimate Beneficial Owners (UBOs)",children:(null===(n=o.customer_ubos)||void 0===n?void 0:n.length)>0?o.customer_ubos.map((e,t)=>(0,Zt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 mb-2 col-span-2",children:[(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Name:"})," ",e.ubo_name]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Type:"})," ",e.ubo_type]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Nationality:"})," ",e.nationality]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Shareholding:"})," ",e.shareholding_percentage,"%"]})]},t)):(0,Zt.jsx)("div",{className:"col-span-2 text-gray-500 italic",children:"No UBO information available"})}),(0,Zt.jsx)(OP,{title:"Shareholders",children:(null===(a=o.customer_shareholders)||void 0===a?void 0:a.length)>0?o.customer_shareholders.map((e,t)=>(0,Zt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 mb-2 col-span-2",children:[(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Name:"})," ",e.full_name||e.entity_name]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Type:"})," ",e.entity_type]}),(0,Zt.jsxs)("p",{children:[(0,Zt.jsx)("strong",{children:"Ownership:"})," ",e.shareholding_percentage,"%"]})]},t)):(0,Zt.jsx)("div",{className:"col-span-2 text-gray-500 italic",children:"No shareholders information available"})}),(0,Zt.jsx)(OP,{title:"Due Diligence",children:(0,Zt.jsxs)("div",{className:"mb-4 col-span-2",children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Diligence Level"}),(0,Zt.jsxs)("select",{className:"w-full border border-gray-300 rounded-md p-2",value:S,onChange:e=>j(e.target.value),children:[(0,Zt.jsx)("option",{value:"Simplified Due Diligence (SDD)",children:"Simplified Due Diligence (SDD)"}),(0,Zt.jsx)("option",{value:"Customer Due Diligence (CDD)",children:"Customer Due Diligence (CDD)"}),(0,Zt.jsx)("option",{value:"Enhanced Due Diligence (EDD)",children:"Enhanced Due Diligence (EDD)"})]})]})}),(0,Zt.jsx)(OP,{title:"Background & Verification Checks",children:KO.getDefaultQuestions().map(e=>{var t,r,n,a;let{label:i,key:s}=e;return(0,Zt.jsxs)("div",{className:"col-span-2 mb-4",children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),(0,Zt.jsxs)("div",{className:"flex items-center space-x-6 mb-2",children:[(0,Zt.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Zt.jsx)("input",{type:"radio",name:s,value:"yes",checked:"yes"===(null===(t=k[s])||void 0===t?void 0:t.answer),onChange:()=>A(e=>{var t;return{...e,[s]:{answer:"yes",notes:(null===(t=e[s])||void 0===t?void 0:t.notes)||""}}})}),(0,Zt.jsx)("span",{children:"Yes"})]}),(0,Zt.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Zt.jsx)("input",{type:"radio",name:s,value:"no",checked:"no"===(null===(r=k[s])||void 0===r?void 0:r.answer),onChange:()=>A(e=>({...e,[s]:{answer:"no",notes:""}}))}),(0,Zt.jsx)("span",{children:"No"})]})]}),"yes"===(null===(n=k[s])||void 0===n?void 0:n.answer)&&(0,Zt.jsx)("textarea",{className:"w-full border border-gray-300 rounded-md p-2",rows:3,placeholder:"Add justification or notes...",value:(null===(a=k[s])||void 0===a?void 0:a.notes)||"",onChange:e=>A(t=>({...t,[s]:{...t[s],notes:e.target.value}}))})]},s)})}),(0,Zt.jsxs)(OP,{title:"Final KYC Assessment",children:[(0,Zt.jsx)(CP,{label:"KYC Status",value:x,onChange:e=>w(e.target.value),options:["Pending","Approved","Rejected"]}),(0,Zt.jsx)(AP,{label:"Remarks",value:N,onChange:e=>_(e.target.value)})]}),(0,Zt.jsx)("div",{className:"text-right mt-6",children:(0,Zt.jsx)("button",{className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",onClick:async()=>{try{const e=await KO.saveVerificationChecks(o.id,k);if(!e.success)return void qt.error(`Failed to save verification checks: ${e.error}`);const t={kyc_status:x,kyc_remarks:N,due_diligence_level:S};console.log("Final KYC Decision:",t);const r=await kO.updateCustomer(o.id,t);r.success?(qt.success("KYC assessment saved successfully!"),s("/customer/list")):qt.error(r.error||"Failed to save KYC assessment")}catch(d){console.error("Error saving KYC assessment:",d),qt.error("Failed to save KYC assessment")}},children:"Save KYC Assessment"})})]})},EP=()=>{const{customerId:e}=ne(),r=re(),[n,a]=(0,t.useState)(null),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("Low"),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[b,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{const t=async()=>{try{s(!0);const t=await kO.getCustomerById(e);if(t){a(t);const r=(e=>{const t=_O(e),r=SO(t),n=jO(e);return{score:t,level:r,triggeredRules:n,breakdown:{totalScore:t,ruleCount:n.length,categories:n.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+t.score,e),{})}}})(t),n=jO(t);p(r.score),h(r.level);const i=n.map(e=>({factor:e.name,value:"Yes",risk:SO(e.score),score:e.score}));if(t.nationality){const e=["IR","KP","CU","VE","SY"].includes(t.nationality)?30:0;i.push({factor:"Nationality",value:t.nationality,risk:e>0?"High":"Low",score:e})}if(t.source_of_funds){const e=["Unknown","Cash"].includes(t.source_of_funds)?20:0;i.push({factor:"Source of Funds",value:t.source_of_funds,risk:e>0?"Medium":"Low",score:e})}if(t.occupation){const e=["Politician","Government Official","Military","Cash Business"].includes(t.occupation)?25:0;i.push({factor:"Occupation",value:t.occupation,risk:e>0?"High":"Low",score:e})}if(t.source_of_wealth){const e=["Unknown","Cash Business"].includes(t.source_of_wealth)?20:0;i.push({factor:"Source of Wealth",value:t.source_of_wealth,risk:e>0?"Medium":"Low",score:e})}if(t.pep_status){const e="Yes"===t.pep_status?40:0;i.push({factor:"PEP Status",value:t.pep_status,risk:e>0?"High":"Low",score:e})}u(i);try{const t=await WO.getRiskProfileOverride(e);t&&(x(t),g(t.override_risk_level),v(t.justification))}catch(o){console.error("Error loading risk override:",o)}}else l("Customer not found")}catch(o){console.error("Error fetching customer:",o),l("Failed to fetch customer data")}finally{s(!1)}};e&&t()},[e]);return i?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Zt.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading customer data..."})]})}):o||!n?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Zt.jsxs)("div",{className:"flex",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Zt.jsxs)("div",{className:"ml-3",children:[(0,Zt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading customer"}),(0,Zt.jsx)("div",{className:"mt-2 text-sm text-red-700",children:o||"Customer not found"}),(0,Zt.jsx)("button",{onClick:()=>r("/customer/list"),className:"mt-3 bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700",children:"Back to Customer List"})]})]})})}):(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,Zt.jsxs)("button",{onClick:()=>r("/customer/list"),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[(0,Zt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Customer List"]})}),(0,Zt.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Risk Profile"}),(0,Zt.jsxs)("p",{className:"text-gray-600 mb-6",children:["Customer: ",(0,Zt.jsx)("span",{className:"font-medium",children:"Natural Person"===n.customer_type?`${n.first_name||""} ${n.last_name||""}`.trim():n.first_name||n.alias||"Legal Entity"})]}),(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Risk Factors Summary"}),(0,Zt.jsxs)("table",{className:"w-full border text-sm",children:[(0,Zt.jsx)("thead",{className:"bg-gray-100 text-left",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"p-2 border",children:"Factor"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Value"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Risk Level"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Score"})]})}),(0,Zt.jsx)("tbody",{children:c.map((e,t)=>(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("td",{className:"p-2 border",children:e.factor}),(0,Zt.jsx)("td",{className:"p-2 border",children:e.value}),(0,Zt.jsx)("td",{className:"p-2 border font-medium "+("High"===e.risk?"text-red-600":"Medium"===e.risk?"text-yellow-600":"text-green-600"),children:e.risk}),(0,Zt.jsx)("td",{className:"p-2 border text-center font-medium",children:e.score>0?e.score:"N/A"})]},t))})]})]}),(0,Zt.jsxs)("div",{className:"text-center my-6",children:[(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Calculated Risk Level"}),(0,Zt.jsxs)("div",{className:"text-3xl font-bold "+("High"===d?"text-red-600":"Medium"===d?"text-yellow-500":"text-green-600"),children:[d," Risk"]}),(0,Zt.jsxs)("div",{className:"text-sm text-gray-600",children:["Score: ",f," / 100"]})]}),(0,Zt.jsxs)("div",{className:"my-6",children:[(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Manual Override"}),b&&(0,Zt.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[(0,Zt.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Zt.jsx)("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Zt.jsx)("span",{className:"font-medium text-yellow-800",children:"Existing Override Applied"})]}),(0,Zt.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,Zt.jsx)("strong",{children:"Original Level:"})," ",b.original_risk_level," \u2192",(0,Zt.jsx)("strong",{children:" Override Level:"})," ",b.override_risk_level]}),(0,Zt.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:[(0,Zt.jsx)("strong",{children:"Justification:"})," ",b.justification]})]}),(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Override Risk Level"}),(0,Zt.jsxs)("select",{className:"w-full p-2 border rounded mb-3",value:m,onChange:e=>g(e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"-- Select --"}),(0,Zt.jsx)("option",{value:"Low",children:"Low"}),(0,Zt.jsx)("option",{value:"Medium",children:"Medium"}),(0,Zt.jsx)("option",{value:"High",children:"High"})]}),(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Justification"}),(0,Zt.jsx)("textarea",{className:"w-full p-2 border rounded",rows:3,value:y,onChange:e=>v(e.target.value),placeholder:"Explain why you're overriding the system's decision"})]}),(0,Zt.jsx)("div",{className:"text-right",children:(0,Zt.jsx)("button",{onClick:async()=>{try{const e={risk_level:m||d,risk_score:f},t=await kO.updateCustomer(n.id,e);if(!t.success)return void qt.error(t.error||"Failed to update customer risk profile");if(m&&y)try{const e={original_risk_level:d,override_risk_level:m,justification:y};await WO.updateRiskProfileOverride(n.id,e)}catch(o){return console.error("Error saving risk override:",o),void qt.error("Failed to save risk override: "+o.message)}qt.success("Risk profile saved successfully!"),r("/customer/list")}catch(o){console.error("Error saving risk profile:",o),qt.error("Failed to save risk profile")}},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Save Risk Profile"})})]})};var LP=r(2284),TP=Uint8Array,DP=Uint16Array,IP=Int32Array,RP=new TP([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),MP=new TP([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),FP=new TP([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BP=function(e,t){for(var r=new DP(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var a=new IP(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},zP=BP(RP,2),UP=zP.b,qP=zP.r;UP[28]=258,qP[258]=28;for(var $P=BP(MP,0),WP=$P.b,HP=$P.r,KP=new DP(32768),VP=0;VP<32768;++VP){var GP=(43690&VP)>>1|(21845&VP)<<1;GP=(61680&(GP=(52428&GP)>>2|(13107&GP)<<2))>>4|(3855&GP)<<4,KP[VP]=((65280&GP)>>8|(255&GP)<<8)>>1}var YP=function(e,t,r){for(var n=e.length,a=0,i=new DP(t);a<n;++a)e[a]&&++i[e[a]-1];var s,o=new DP(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;if(r){s=new DP(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],d=o[e[a]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[KP[d]>>l]=c}else for(s=new DP(n),a=0;a<n;++a)e[a]&&(s[a]=KP[o[e[a]-1]++]>>15-e[a]);return s},JP=new TP(288);for(VP=0;VP<144;++VP)JP[VP]=8;for(VP=144;VP<256;++VP)JP[VP]=9;for(VP=256;VP<280;++VP)JP[VP]=7;for(VP=280;VP<288;++VP)JP[VP]=8;var XP=new TP(32);for(VP=0;VP<32;++VP)XP[VP]=5;var QP=YP(JP,9,0),ZP=YP(JP,9,1),eE=YP(XP,5,0),tE=YP(XP,5,1),rE=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},nE=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},aE=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},iE=function(e){return(e+7)/8|0},sE=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new TP(e.subarray(t,r))},oE=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],lE=function(e,t,r){var n=new Error(t||oE[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,lE),!r)throw n;return n},cE=function(e,t,r,n){var a=e.length,i=n?n.length:0;if(!a||t.f&&!t.l)return r||new TP(0);var s=!r,o=s||2!=t.i,l=t.i;s&&(r=new TP(3*a));var c=function(e){var t=r.length;if(e>t){var n=new TP(Math.max(2*t,e));n.set(r),r=n}},u=t.f||0,d=t.p||0,h=t.b||0,f=t.l,p=t.d,m=t.m,g=t.n,y=8*a;do{if(!f){u=nE(e,d,1);var v=nE(e,d+1,3);if(d+=3,!v){var b=e[(P=iE(d)+4)-4]|e[P-3]<<8,x=P+b;if(x>a){l&&lE(0);break}o&&c(h+b),r.set(e.subarray(P,x),h),t.b=h+=b,t.p=d=8*x,t.f=u;continue}if(1==v)f=ZP,p=tE,m=9,g=5;else if(2==v){var w=nE(e,d,31)+257,N=nE(e,d+10,15)+4,_=w+nE(e,d+5,31)+1;d+=14;for(var S=new TP(_),j=new TP(19),k=0;k<N;++k)j[FP[k]]=nE(e,d+3*k,7);d+=3*N;var A=rE(j),C=(1<<A)-1,O=YP(j,A,1);for(k=0;k<_;){var P,E=O[nE(e,d,C)];if(d+=15&E,(P=E>>4)<16)S[k++]=P;else{var L=0,T=0;for(16==P?(T=3+nE(e,d,3),d+=2,L=S[k-1]):17==P?(T=3+nE(e,d,7),d+=3):18==P&&(T=11+nE(e,d,127),d+=7);T--;)S[k++]=L}}var D=S.subarray(0,w),I=S.subarray(w);m=rE(D),g=rE(I),f=YP(D,m,1),p=YP(I,g,1)}else lE(1);if(d>y){l&&lE(0);break}}o&&c(h+131072);for(var R=(1<<m)-1,M=(1<<g)-1,F=d;;F=d){var B=(L=f[aE(e,d)&R])>>4;if((d+=15&L)>y){l&&lE(0);break}if(L||lE(2),B<256)r[h++]=B;else{if(256==B){F=d,f=null;break}var z=B-254;if(B>264){var U=RP[k=B-257];z=nE(e,d,(1<<U)-1)+UP[k],d+=U}var q=p[aE(e,d)&M],$=q>>4;q||lE(3),d+=15&q;I=WP[$];if($>3){U=MP[$];I+=aE(e,d)&(1<<U)-1,d+=U}if(d>y){l&&lE(0);break}o&&c(h+131072);var W=h+z;if(h<I){var H=i-I,K=Math.min(I,W);for(H+h<0&&lE(3);h<K;++h)r[h]=n[H+h]}for(;h<W;++h)r[h]=r[h-I]}}t.l=f,t.p=F,t.b=h,t.f=u,f&&(u=1,t.m=m,t.d=p,t.n=g)}while(!u);return h!=r.length&&s?sE(r,0,h):r.subarray(0,h)},uE=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},dE=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},hE=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:bE,l:0};if(1==a){var s=new TP(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};var h=i[0].s;for(n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var f=new DP(h+1),p=fE(r[u-1],f,0);if(p>t){n=0;var m=0,g=p-t,y=1<<g;for(i.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});n<a;++n){var v=i[n].s;if(!(f[v]>t))break;m+=y-(1<<p-f[v]),f[v]=t}for(m>>=g;m>0;){var b=i[n].s;f[b]<t?m-=1<<t-f[b]++-1:++n}for(;n>=0&&m;--n){var x=i[n].s;f[x]==t&&(--f[x],++m)}p=t}return{t:new TP(f),l:p}},fE=function(e,t,r){return-1==e.s?Math.max(fE(e.l,t,r+1),fE(e.r,t,r+1)):t[e.s]=r},pE=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new DP(++t),n=0,a=e[0],i=1,s=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},mE=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},gE=function(e,t,r){var n=r.length,a=iE(t+2);e[a]=255&n,e[a+1]=n>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<n;++i)e[a+i+4]=r[i];return 8*(a+4+n)},yE=function(e,t,r,n,a,i,s,o,l,c,u){uE(t,u++,r),++a[256];for(var d=hE(a,15),h=d.t,f=d.l,p=hE(i,15),m=p.t,g=p.l,y=pE(h),v=y.c,b=y.n,x=pE(m),w=x.c,N=x.n,_=new DP(19),S=0;S<v.length;++S)++_[31&v[S]];for(S=0;S<w.length;++S)++_[31&w[S]];for(var j=hE(_,7),k=j.t,A=j.l,C=19;C>4&&!k[FP[C-1]];--C);var O,P,E,L,T=c+5<<3,D=mE(a,JP)+mE(i,XP)+s,I=mE(a,h)+mE(i,m)+s+14+3*C+mE(_,k)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&T<=D&&T<=I)return gE(t,u,e.subarray(l,l+c));if(uE(t,u,1+(I<D)),u+=2,I<D){O=YP(h,f,0),P=h,E=YP(m,g,0),L=m;var R=YP(k,A,0);uE(t,u,b-257),uE(t,u+5,N-1),uE(t,u+10,C-4),u+=14;for(S=0;S<C;++S)uE(t,u+3*S,k[FP[S]]);u+=3*C;for(var M=[v,w],F=0;F<2;++F){var B=M[F];for(S=0;S<B.length;++S){var z=31&B[S];uE(t,u,R[z]),u+=k[z],z>15&&(uE(t,u,B[S]>>5&127),u+=B[S]>>12)}}}else O=QP,P=JP,E=eE,L=XP;for(S=0;S<o;++S){var U=n[S];if(U>255){dE(t,u,O[(z=U>>18&31)+257]),u+=P[z+257],z>7&&(uE(t,u,U>>23&31),u+=RP[z]);var q=31&U;dE(t,u,E[q]),u+=L[q],q>3&&(dE(t,u,U>>5&8191),u+=MP[q])}else dE(t,u,O[U]),u+=P[U]}return dE(t,u,O[256]),u+P[256]},vE=new IP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bE=new TP(0),xE=function(e,t,r,n,a,i){var s=i.z||e.length,o=new TP(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=7&(i.r||0);if(t){u&&(l[0]=i.r>>3);for(var d=vE[t-1],h=d>>13,f=8191&d,p=(1<<r)-1,m=i.p||new DP(32768),g=i.h||new DP(p+1),y=Math.ceil(r/3),v=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<v)&p},x=new IP(25e3),w=new DP(288),N=new DP(32),_=0,S=0,j=i.i||0,k=0,A=i.w||0,C=0;j+2<s;++j){var O=b(j),P=32767&j,E=g[O];if(m[P]=E,g[O]=P,A<=j){var L=s-j;if((_>7e3||k>24576)&&(L>423||!c)){u=yE(e,l,0,x,w,N,S,k,C,j-C,u),k=_=S=0,C=j;for(var T=0;T<286;++T)w[T]=0;for(T=0;T<30;++T)N[T]=0}var D=2,I=0,R=f,M=P-E&32767;if(L>2&&O==b(j-M))for(var F=Math.min(h,L)-1,B=Math.min(32767,j),z=Math.min(258,L);M<=B&&--R&&P!=E;){if(e[j+D]==e[j+D-M]){for(var U=0;U<z&&e[j+U]==e[j+U-M];++U);if(U>D){if(D=U,I=M,U>F)break;var q=Math.min(M,U-2),$=0;for(T=0;T<q;++T){var W=j-M+T&32767,H=W-m[W]&32767;H>$&&($=H,E=W)}}}M+=(P=E)-(E=m[P])&32767}if(I){x[k++]=268435456|qP[D]<<18|HP[I];var K=31&qP[D],V=31&HP[I];S+=RP[K]+MP[V],++w[257+K],++N[V],A=j+D,++_}else x[k++]=e[j],++w[e[j]]}}for(j=Math.max(j,A);j<s;++j)x[k++]=e[j],++w[e[j]];u=yE(e,l,c,x,w,N,S,k,C,j-C,u),c||(i.r=7&u|l[u/8|0]<<3,u-=7,i.h=g,i.p=m,i.i=j,i.w=A)}else{for(j=i.w||0;j<s+c;j+=65535){var G=j+65535;G>=s&&(l[u/8|0]=c,G=s),u=gE(l,u+1,e.subarray(j,G))}i.i=s}return sE(o,0,n+iE(u)+a)},wE=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=0|r.length,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(65535&n)+15*(n>>16),a=(65535&a)+15*(a>>16)}e=n,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},NE=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new TP(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return xE(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,a)},_E=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},SE=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=wE();a.p(t.dictionary),_E(e,2,a.d())}},jE=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&lE(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&lE(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function kE(e,t){t||(t={});var r=wE();r.p(e);var n=NE(e,t,t.dictionary?6:2,4);return SE(n,t),_E(n,n.length-4,r.d()),n}function AE(e,t){return cE(e.subarray(jE(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var CE="undefined"!=typeof TextDecoder&&new TextDecoder;try{CE.decode(bE,{stream:!0})}catch(eR){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var OE=function(){return"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:this}();function PE(){OE.console&&"function"==typeof OE.console.log&&OE.console.log.apply(OE.console,arguments)}var EE={log:PE,warn:function(e){OE.console&&("function"==typeof OE.console.warn?OE.console.warn.apply(OE.console,arguments):PE.call(null,arguments))},error:function(e){OE.console&&("function"==typeof OE.console.error?OE.console.error.apply(OE.console,arguments):PE(e))}};function LE(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ME(n.response,t,r)},n.onerror=function(){EE.error("could not download file")},n.send()}function TE(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function DE(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(ht){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var IE,RE,ME=OE.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,LP.A)(window))||window!==OE?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=OE.URL||OE.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?TE(a.href)?LE(e,t,r):DE(a,a.target="_blank"):DE(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){DE(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"==typeof e)if(TE(e))LE(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){DE(n)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,LP.A)(t)&&(EE.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return LE(e,t,r);var a="application/octet-stream"===e.type,i=/constructor/i.test(OE.HTMLElement)||OE.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,LP.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},o.readAsDataURL(e)}else{var l=OE.URL||OE.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function FE(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}function BE(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=UE(r,n,a,i,t[0],7,-680876936),i=UE(i,r,n,a,t[1],12,-389564586),a=UE(a,i,r,n,t[2],17,606105819),n=UE(n,a,i,r,t[3],22,-1044525330),r=UE(r,n,a,i,t[4],7,-176418897),i=UE(i,r,n,a,t[5],12,1200080426),a=UE(a,i,r,n,t[6],17,-1473231341),n=UE(n,a,i,r,t[7],22,-45705983),r=UE(r,n,a,i,t[8],7,1770035416),i=UE(i,r,n,a,t[9],12,-1958414417),a=UE(a,i,r,n,t[10],17,-42063),n=UE(n,a,i,r,t[11],22,-1990404162),r=UE(r,n,a,i,t[12],7,1804603682),i=UE(i,r,n,a,t[13],12,-40341101),a=UE(a,i,r,n,t[14],17,-1502002290),r=qE(r,n=UE(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=qE(i,r,n,a,t[6],9,-1069501632),a=qE(a,i,r,n,t[11],14,643717713),n=qE(n,a,i,r,t[0],20,-373897302),r=qE(r,n,a,i,t[5],5,-701558691),i=qE(i,r,n,a,t[10],9,38016083),a=qE(a,i,r,n,t[15],14,-660478335),n=qE(n,a,i,r,t[4],20,-405537848),r=qE(r,n,a,i,t[9],5,568446438),i=qE(i,r,n,a,t[14],9,-1019803690),a=qE(a,i,r,n,t[3],14,-187363961),n=qE(n,a,i,r,t[8],20,1163531501),r=qE(r,n,a,i,t[13],5,-1444681467),i=qE(i,r,n,a,t[2],9,-51403784),a=qE(a,i,r,n,t[7],14,1735328473),r=$E(r,n=qE(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=$E(i,r,n,a,t[8],11,-2022574463),a=$E(a,i,r,n,t[11],16,1839030562),n=$E(n,a,i,r,t[14],23,-35309556),r=$E(r,n,a,i,t[1],4,-1530992060),i=$E(i,r,n,a,t[4],11,1272893353),a=$E(a,i,r,n,t[7],16,-155497632),n=$E(n,a,i,r,t[10],23,-1094730640),r=$E(r,n,a,i,t[13],4,681279174),i=$E(i,r,n,a,t[0],11,-358537222),a=$E(a,i,r,n,t[3],16,-722521979),n=$E(n,a,i,r,t[6],23,76029189),r=$E(r,n,a,i,t[9],4,-640364487),i=$E(i,r,n,a,t[12],11,-421815835),a=$E(a,i,r,n,t[15],16,530742520),r=WE(r,n=$E(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=WE(i,r,n,a,t[7],10,1126891415),a=WE(a,i,r,n,t[14],15,-1416354905),n=WE(n,a,i,r,t[5],21,-57434055),r=WE(r,n,a,i,t[12],6,1700485571),i=WE(i,r,n,a,t[3],10,-1894986606),a=WE(a,i,r,n,t[10],15,-1051523),n=WE(n,a,i,r,t[1],21,-2054922799),r=WE(r,n,a,i,t[8],6,1873313359),i=WE(i,r,n,a,t[15],10,-30611744),a=WE(a,i,r,n,t[6],15,-1560198380),n=WE(n,a,i,r,t[13],21,1309151649),r=WE(r,n,a,i,t[4],6,-145523070),i=WE(i,r,n,a,t[11],10,-1120210379),a=WE(a,i,r,n,t[2],15,718787259),n=WE(n,a,i,r,t[9],21,-343485551),e[0]=QE(r,e[0]),e[1]=QE(n,e[1]),e[2]=QE(a,e[2]),e[3]=QE(i,e[3])}function zE(e,t,r,n,a,i){return t=QE(QE(t,e),QE(n,i)),QE(t<<a|t>>>32-a,r)}function UE(e,t,r,n,a,i,s){return zE(t&r|~t&n,e,t,a,i,s)}function qE(e,t,r,n,a,i,s){return zE(t&n|r&~n,e,t,a,i,s)}function $E(e,t,r,n,a,i,s){return zE(t^r^n,e,t,a,i,s)}function WE(e,t,r,n,a,i,s){return zE(r^(t|~n),e,t,a,i,s)}function HE(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)BE(n,KE(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(BE(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,BE(n,a),n}function KE(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}IE=OE.atob.bind(OE),RE=OE.btoa.bind(OE);var VE="0123456789abcdef".split("");function GE(e){for(var t="",r=0;r<4;r++)t+=VE[e>>8*r+4&15]+VE[e>>8*r&15];return t}function YE(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function JE(e){return HE(e).map(YE).join("")}var XE="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=GE(e[t]);return e.join("")}(HE("hello"));function QE(e,t){if(XE){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function ZE(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var d=t.length,h=0,f=0,p="";for(l=0;l<d;l++)f=(f+(u=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=u,s=o[(o[h]+o[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^s);return p}var eL={print:4,modify:8,copy:16,"annot-forms":32};function tL(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==eL.perm)throw new Error("Invalid permission: "+e);a+=eL[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=JE(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ZE(this.encryptionKey,this.padding)}function rL(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function nL(e){if("object"!==(0,LP.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof r||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[r,!!n],a},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],0===Object.keys(t[r]).length&&delete t[r],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(r){OE.console&&EE.error("jsPDF PubSub Error",r.message,r)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function aL(e){if(!(this instanceof aL))return new aL(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function iL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function sL(e,t,r,n,a){if(!(this instanceof sL))return new sL(e,t,r,n,a);this.type="axial"===e?2:3,this.coords=t,this.colors=r,iL.call(this,n,a)}function oL(e,t,r,n,a){if(!(this instanceof oL))return new oL(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,iL.call(this,n,a)}function lL(e){var t,r="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;"object"===(0,LP.A)(e=e||{})&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(!0===i?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=nL;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(e){p=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var y=f.__private__.getPageFormat=function(e){return g[e]};a=a||"a4";var v="compat",b="advanced",x=v;function w(){this.saveGraphicsState(),X(new Ee(he,0,0,-he,0,cr()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",x=b}function N(){this.restoreGraphicsState(),c="S",x=v}var _=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=x===v;return t&&w.call(this),"function"!=typeof e||(e(this),t&&N.call(this)),this},f.compatAPI=function(e){var t=x===b;return t&&N.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},f.isAdvancedAPI=function(){return x===b};var S,j=function(e){if(x!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=f.roundToPrecision=f.__private__.roundToPrecision=function(e,r){var n=t||r;if(isNaN(e)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(n).replace(/0+$/,"")};S=f.hpf=f.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,16)};var A=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return k(e,2)},C=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return k(e,3)},O=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return x===v?e*he:x===b?e:void 0},P=function(e){return O(function(e){return x===v?cr()-e:x===b?e:void 0}(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var E,L="00000000000000000000000000000000",T=f.__private__.getFileId=function(){return L},D=f.__private__.setFileId=function(e){return L=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(bt=new tL(u.userPermissions,u.userPassword,u.ownerPassword,L)),L};f.setFileId=function(e){return D(e),this},f.getFileId=function(){return T()};var I=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",n=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),i=[r,z(n),"'",z(a),"'"].join("");return["D:",e.getFullYear(),z(e.getMonth()+1),z(e.getDate()),z(e.getHours()),z(e.getMinutes()),z(e.getSeconds()),i].join("")},R=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,n=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,r,n,a,i,s,0)},M=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=I(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return E=t},F=f.__private__.getCreationDate=function(e){var t=E;return"jsDate"===e&&(t=R(E)),t};f.setCreationDate=function(e){return M(e),this},f.getCreationDate=function(e){return F(e)};var B,z=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,$=[],W=[],H=0,K=[],V=[],G=!1,Y=W;f.__private__.setCustomOutputDestination=function(e){G=!0,Y=e};var J=function(e){G||(Y=e)};f.__private__.resetCustomOutputDestination=function(){G=!1,Y=W};var X=f.__private__.out=function(e){return e=e.toString(),H+=e.length+1,Y.push(e),Y},Q=f.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);t--;)n[t]=e.charCodeAt(t);return r},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return te=x===b?e/he:e,this};var re,ne=f.__private__.getFontSize=f.getFontSize=function(){return x===v?te:te*he},ae=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return ae=e,this},f.__private__.getR2L=f.getR2L=function(){return ae};var ie,se=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};f.__private__.getZoomMode=function(){return re};var oe,le=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ie=e};f.__private__.getPageMode=function(){return ie};var ce=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};f.__private__.getLayoutMode=function(){return oe},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,r){return se(e),ce(t),le(r),this};var ue={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ue[e]},f.__private__.getDocumentProperties=function(){return ue},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in ue)ue.hasOwnProperty(t)&&e[t]&&(ue[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ue[e]=t};var de,he,fe,pe,me,ge={},ye={},ve=[],be={},xe={},we={},Ne={},_e=null,Se=0,je=[],ke=new nL(f),Ae=e.hotfixes||[],Ce={},Oe={},Pe=[],Ee=function e(t,r,n,a,i,s){if(!(this instanceof e))return new e(t,r,n,a,i,s);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(a)&&(a=1),isNaN(i)&&(i=0),isNaN(s)&&(s=0),this._matrix=[t,r,n,a,i,s]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ee.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(e)},Ee.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,r=e.sx*this.shy+e.shy*this.sy,n=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,i=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ee(t,r,n,a,i,s)},Ee.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,a=this.tx,i=this.ty,s=Math.sqrt(e*e+t*t),o=(e/=s)*r+(t/=s)*n;r-=e*o,n-=t*o;var l=Math.sqrt(r*r+n*n);return o/=l,e*(n/=l)<t*(r/=l)&&(e=-e,t=-t,o=-o,s=-s),{scale:new Ee(s,0,0,l,0,0),translate:new Ee(1,0,0,1,a,i),rotate:new Ee(e,t,-t,e,0,0),skew:new Ee(1,0,o,1,0,0)}},Ee.prototype.toString=function(e){return this.join(" ")},Ee.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,a=this.tx,i=this.ty,s=1/(e*n-t*r),o=n*s,l=-t*s,c=-r*s,u=e*s;return new Ee(o,l,c,u,-o*a-c*i,-l*a-u*i)},Ee.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,r=e.x*this.shy+e.y*this.sy+this.ty;return new rr(t,r)},Ee.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new rr(e.x+e.w,e.y+e.h));return new nr(t.x,t.y,r.x-t.x,r.y-t.y)},Ee.prototype.clone=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,a=this.tx,i=this.ty;return new Ee(e,t,r,n,a,i)},f.Matrix=Ee;var Le=f.matrixMult=function(e,t){return t.multiply(e)},Te=new Ee(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Te;var De=function(e,t){if(!xe[e]){var r=(t instanceof sL?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=r,xe[e]=r,be[r]=t,ke.publish("addPattern",t)}};f.ShadingPattern=sL,f.TilingPattern=oL,f.addShadingPattern=function(e,t){return j("addShadingPattern()"),De(e,t),this},f.beginTilingPattern=function(e){j("beginTilingPattern()"),ir(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){j("endTilingPattern()"),t.stream=V[B].join("\n"),De(e,t),ke.publish("endTilingPattern",t),Pe.pop().restore()};var Ie,Re=f.__private__.newObject=function(){var e=Me();return Fe(e,!0),e},Me=f.__private__.newObjectDeferred=function(){return q++,$[q]=function(){return H},q},Fe=function(e,t){return t="boolean"==typeof t&&t,$[e]=H,t&&X(e+" 0 obj"),e},Be=f.__private__.newAdditionalObject=function(){var e={objId:Me(),content:""};return K.push(e),e},ze=Me(),Ue=Me(),qe=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var n="#",a=0;a<3;a++)n+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return n},$e=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var r=e.ch1,n=e.ch2,a=e.ch3,i=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof r&&"#"!==r.charAt(0)){var o=new FE(r);if(o.ok)r=o.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var l=parseInt(r.substr(1),16);r=l>>16&255,n=l>>8&255,a=255&l}if(void 0===n||void 0===i&&r===n&&n===a)if("string"==typeof r)t=r+" "+s[0];else if(2===e.precision)t=A(r/255)+" "+s[0];else t=C(r/255)+" "+s[0];else if(void 0===i||"object"===(0,LP.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",s[1]].join(" ");if("string"==typeof r)t=[r,n,a,s[1]].join(" ");else if(2===e.precision)t=[A(r/255),A(n/255),A(a/255),s[1]].join(" ");else t=[C(r/255),C(n/255),C(a/255),s[1]].join(" ")}else if("string"==typeof r)t=[r,n,a,i,s[2]].join(" ");else if(2===e.precision)t=[A(r),A(n),A(a),A(i),s[2]].join(" ");else t=[C(r),C(n),C(a),C(i),s[2]].join(" ");return t},We=f.__private__.getFilters=function(){return s},He=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||We(),n=e.alreadyAppliedFilters||[],a=e.addLength1||!1,i=t.length,s=e.objectId,o=function(e){return e};if(null!==u&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(o=bt.encryptor(s,0));var l={};!0===r&&(r=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(l=void 0!==lL.API.processDataByFilters?lL.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:i})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[h].value),c[h].value="["+f.join(" ")+"]"}}X("<<");for(var m=0;m<c.length;m++)X("/"+c[m].key+" "+c[m].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},Ke=f.__private__.putPage=function(e){var t=e.number,r=e.data,n=e.objId,a=e.contentsObjId;Fe(n,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(S(e.mediaBox.bottomLeftX))+" "+parseFloat(S(e.mediaBox.bottomLeftY))+" "+S(e.mediaBox.topRightX)+" "+S(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+S(e.cropBox.bottomLeftX)+" "+S(e.cropBox.bottomLeftY)+" "+S(e.cropBox.topRightX)+" "+S(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+S(e.bleedBox.bottomLeftX)+" "+S(e.bleedBox.bottomLeftY)+" "+S(e.bleedBox.topRightX)+" "+S(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+S(e.trimBox.bottomLeftX)+" "+S(e.trimBox.bottomLeftY)+" "+S(e.trimBox.topRightX)+" "+S(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+S(e.artBox.bottomLeftX)+" "+S(e.artBox.bottomLeftY)+" "+S(e.artBox.topRightX)+" "+S(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),ke.publish("putPage",{objId:n,pageContext:je[t],pageNumber:t,page:r}),X("/Contents "+a+" 0 R"),X(">>"),X("endobj");var i=r.join("\n");return x===b&&(i+="\nQ"),Fe(a,!0),He({data:i,filters:We(),objectId:a}),X("endobj"),n},Ve=f.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=Se;e++)je[e].objId=Me(),je[e].contentsObjId=Me();for(e=1;e<=Se;e++)r.push(Ke({number:e,data:V[e],objId:je[e].objId,contentsObjId:je[e].contentsObjId,mediaBox:je[e].mediaBox,cropBox:je[e].cropBox,bleedBox:je[e].bleedBox,trimBox:je[e].trimBox,artBox:je[e].artBox,userUnit:je[e].userUnit,rootDictionaryObjId:ze,resourceDictionaryObjId:Ue}));Fe(ze,!0),X("<</Type /Pages");var n="/Kids [";for(t=0;t<Se;t++)n+=r[t]+" 0 R ";X(n+"]"),X("/Count "+Se),X(">>"),X("endobj"),ke.publish("postPutPages")},Ge=function(e){ke.publish("putFont",{font:e,out:X,newObject:Re,putStream:He}),!0!==e.isAlreadyPutted&&(e.objectNumber=Re(),X("<<"),X("/Type /Font"),X("/BaseFont /"+rL(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ye=function(e){e.objectNumber=Re();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[S(e.x),S(e.y),S(e.x+e.width),S(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var r=e.pages[1].join("\n");He({data:r,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var r=Re(),n=function(e,t){var r,n=[],a=1/(t-1);for(r=0;r<1;r+=a)n.push(r);if(n.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var o="",l=0,c=0;c<n.length;c++){for(r=n[c];r>e[l+1].offset;)l++;var u=e[l].offset,d=(r-u)/(e[l+1].offset-u),h=e[l].color,f=e[l+1].color;o+=U(Math.round((1-d)*h[0]+d*f[0]).toString(16))+U(Math.round((1-d)*h[1]+d*f[1]).toString(16))+U(Math.round((1-d)*h[2]+d*f[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:n,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),X("endobj"),e.objectNumber=Re(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var i="/Coords ["+S(parseFloat(e.coords[0]))+" "+S(parseFloat(e.coords[1]))+" ";2===e.type?i+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3])):i+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3]))+" "+S(parseFloat(e.coords[4]))+" "+S(parseFloat(e.coords[5])),X(i+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+r+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var r=Me(),n=Re();t.push({resourcesOid:r,objectOid:n}),e.objectNumber=n;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(S).join(" ")+"]"}),a.push({key:"XStep",value:S(e.xStep)}),a.push({key:"YStep",value:S(e.yStep)}),a.push({key:"Resources",value:r+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),He({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),X("endobj")},Qe=function(e){for(var t in e.objectNumber=Re(),X("<<"),e)switch(t){case"opacity":X("/ca "+A(e[t]));break;case"stroke-opacity":X("/CA "+A(e[t]))}X(">>"),X("endobj")},Ze=function(e){Fe(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===d||!0===d&&h.hasOwnProperty(e))&&X("/"+e+" "+ge[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(be).length>0){for(var e in X("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof sL&&be[e].objectNumber>=0&&X("/"+e+" "+be[e].objectNumber+" 0 R");ke.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(be).length>0){for(var t in X("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof f.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&X("/"+t+" "+be[t].objectNumber+" 0 R");ke.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");ke.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Ce)Ce.hasOwnProperty(e)&&Ce[e].objectNumber>=0&&X("/"+e+" "+Ce[e].objectNumber+" 0 R");ke.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(){var e=[];(function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===d||!0===d&&h.hasOwnProperty(e))&&Ge(ge[e])})(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Qe(we[e])}(),function(){for(var e in Ce)Ce.hasOwnProperty(e)&&Ye(Ce[e])}(),function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof sL?Je(be[t]):be[t]instanceof oL&&Xe(be[t],e))}(e),ke.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),ke.publish("postPutResources")},tt=function(e){ye[e.fontName]=ye[e.fontName]||{},ye[e.fontName][e.fontStyle]=e.id},rt=function(e,t,r,n,a){var i={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:n,isStandardFont:a||!1,metadata:{}};return ke.publish("addFont",{font:i,instance:this}),ge[i.id]=i,tt(i),i.id},nt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return function(e,t){var r,n,a,i,s,o,l,c,u;if(a=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&ge[de].metadata&&ge[de].metadata[a]&&ge[de].metadata[a].encoding&&(i=ge[de].metadata[a].encoding,!s&&ge[de].encoding&&(s=ge[de].encoding),!s&&i.codePages&&(s=i.codePages[0]),"string"==typeof s&&(s=i[s]),s)){for(l=!1,o=[],r=0,n=e.length;r<n;r++)(c=s[e.charCodeAt(r)])?o.push(String.fromCharCode(c)):o.push(e[r]),o[r].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(r=e.length;void 0===l&&0!==r;)e.charCodeAt(r-1)>>8&&(l=!0),r--;if(!l)return e;for(o=t.noBOM?[]:[254,255],r=0,n=e.length;r<n;r++){if((u=(c=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(u),o.push(c-(u<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},at=f.__private__.beginPage=function(e){V[++Se]=[],je[Se]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(Se),J(V[B])},it=function(e,t){var n,i,s;switch(r=t||r,"string"==typeof e&&(n=y(e.toLowerCase()),Array.isArray(n)&&(i=n[0],s=n[1])),Array.isArray(e)&&(i=e[0]*he,s=e[1]*he),isNaN(i)&&(i=a[0],s=a[1]),(i>14400||s>14400)&&(EE.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),a=[i,s],r.substr(0,1)){case"l":s>i&&(a=[s,i]);break;case"p":i>s&&(a=[s,i])}at(a),Bt(Mt),X(Vt),0!==Zt&&X(Zt+" J"),0!==er&&X(er+" j"),ke.publish("addPage",{pageNumber:Se})},st=function(e){e>0&&e<=Se&&(V.splice(e,1),je.splice(e,1),Se--,B>Se&&(B=Se),this.setPage(B))},ot=function(e){e>0&&e<=Se&&(B=e)},lt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return V.length-1},ct=function(e,t,r){var n,a=void 0;return r=r||{},e=void 0!==e?e:ge[de].fontName,t=void 0!==t?t:ge[de].fontStyle,n=e.toLowerCase(),void 0!==ye[n]&&void 0!==ye[n][t]?a=ye[n][t]:void 0!==ye[e]&&void 0!==ye[e][t]?a=ye[e][t]:!1===r.disableWarning&&EE.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||r.noFallback||null==(a=ye.times[t])&&(a=ye.times.normal),a},ut=f.__private__.putInfo=function(){var e=Re(),t=function(e){return e};for(var r in null!==u&&(t=bt.encryptor(e,0)),X("<<"),X("/Producer ("+nt(t("jsPDF "+lL.version))+")"),ue)ue.hasOwnProperty(r)&&ue[r]&&X("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+nt(t(ue[r]))+")");X("/CreationDate ("+nt(t(E))+")"),X(">>"),X("endobj")},dt=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||ze;switch(Re(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+re;"%"===r.substr(r.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&X("/OpenAction [3 0 R /XYZ null null "+A(re)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}ie&&X("/PageMode /"+ie),ke.publish("putCatalog"),X(">>"),X("endobj")},ht=f.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(q+1)),X("/Root "+q+" 0 R"),X("/Info "+(q-1)+" 0 R"),null!==u&&X("/Encrypt "+bt.oid+" 0 R"),X("/ID [ <"+L+"> <"+L+"> ]"),X(">>")},ft=f.__private__.putHeader=function(){X("%PDF-"+p),X("%\xba\xdf\xac\xe0")},pt=f.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(q+1)),X("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof $[t]?X((e+$[t]()).slice(-10)+" 00000 n "):void 0!==$[t]?X((e+$[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},mt=f.__private__.buildDocument=function(){q=0,H=0,W=[],$=[],K=[],ze=Me(),Ue=Me(),J(W),ke.publish("buildDocument"),ft(),Ve(),function(){ke.publish("putAdditionalObjects");for(var e=0;e<K.length;e++){var t=K[e];Fe(t.objId,!0),X(t.content),X("endobj")}ke.publish("postPutAdditionalObjects")}(),et(),null!==u&&(bt.oid=Re(),X("<<"),X("/Filter /Standard"),X("/V "+bt.v),X("/R "+bt.r),X("/U <"+bt.toHexString(bt.U)+">"),X("/O <"+bt.toHexString(bt.O)+">"),X("/P "+bt.P),X(">>"),X("endobj")),ut(),dt();var e=H;return pt(),ht(),X("startxref"),X(""+e),X("%%EOF"),J(V[B]),W.join("\n")},gt=f.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},yt=f.output=f.__private__.output=(Ie=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return mt();case"save":f.save(t.filename);break;case"arraybuffer":return Z(mt());case"blob":return gt(mt());case"bloburi":case"bloburl":if(void 0!==OE.URL&&"function"==typeof OE.URL.createObjectURL)return OE.URL&&OE.URL.createObjectURL(gt(mt()))||void 0;EE.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",n=mt();try{r=RE(n)}catch(e){r=RE(unescape(encodeURIComponent(n)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(OE)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,i="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=OE.open();return null!==o&&o.document.write(s),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(OE)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=OE.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(OE))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=OE.open();if(null!==h&&(h.document.write(d),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return OE.document.location.href=this.output("datauristring",t);default:return null}},Ie.foo=function(){try{return Ie.apply(this,arguments)}catch(Ie){var e=Ie.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Ie.message;if(!OE.console)throw new Error(t);OE.console.error(t,Ie),OE.alert&&alert(t)}},Ie.foo.bar=Ie,Ie.foo),vt=function(e){return!0===Array.isArray(Ae)&&Ae.indexOf(e)>-1};switch(n){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==vt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof n)throw new Error("Invalid unit: "+n);he=n}var bt=null;M(),D();var xt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:je[e].objId,pageNumber:e,pageContext:je[e]}},wt=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in je)if(je[t].objId===e)break;return xt(t)},Nt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:je[B].objId,pageNumber:B,pageContext:je[B]}};f.addPage=function(){return it.apply(this,arguments),this},f.setPage=function(){return ot.apply(this,arguments),J.call(this,V[B]),this},f.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},f.movePage=function(e,t){var r,n;if(e>t){r=V[e],n=je[e];for(var a=e;a>t;a--)V[a]=V[a-1],je[a]=je[a-1];V[t]=r,je[t]=n,this.setPage(t)}else if(e<t){r=V[e],n=je[e];for(var i=e;i<t;i++)V[i]=V[i+1],je[i]=je[i+1];V[t]=r,je[t]=n,this.setPage(t)}return this},f.deletePage=function(){return st.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,r,n,a){var i,s,o,l,c,u,d,f,p,m=(n=n||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof r||Array.isArray(r))){var g=r;r=t,t=e,e=g}if(arguments[3]instanceof Ee==0?(o=arguments[4],l=arguments[5],"object"===(0,LP.A)(d=arguments[3])&&null!==d||("string"==typeof o&&(l=o,o=null),"string"==typeof d&&(l=d,d=null),"number"==typeof d&&(o=d,d=null),n={flags:d,angle:o,align:l})):(j("The transform parameter of text() with a Matrix value"),p=a),isNaN(t)||isNaN(r)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var y,v="",w="number"==typeof n.lineHeightFactor?n.lineHeightFactor:Rt,N=m.internal.scaleFactor;function _(e){return e=e.split("\t").join(Array(n.TabLen||9).join(" ")),nt(e,d)}function k(e){for(var t,r=e.concat(),n=[],a=r.length;a--;)"string"==typeof(t=r.shift())?n.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?n.push(t[0]):n.push([t[0],t[1],t[2]]);return n}function A(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var n,a,i=e.concat(),s=[],o=i.length;o--;)"string"==typeof(n=i.shift())?s.push(t(n)[0]):Array.isArray(n)&&"string"==typeof n[0]&&(a=t(n[0],n[1],n[2]),s.push([a[0],a[1],a[2]]));r=s}return r}var C=!1,P=!0;if("string"==typeof e)C=!0;else if(Array.isArray(e)){var E=e.concat();s=[];for(var L,T=E.length;T--;)("string"!=typeof(L=E.shift())||Array.isArray(L)&&"string"!=typeof L[0])&&(P=!1);C=P}if(!1===C)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var D=te/m.internal.scaleFactor,I=D*(w-1);switch(n.baseline){case"bottom":r-=I;break;case"top":r+=D-I;break;case"hanging":r+=D-2*I;break;case"middle":r+=D/2-I}if((u=n.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(m.splitTextToSize(t,u))},[]))),i={text:e,x:t,y:r,options:n,mutex:{pdfEscape:nt,activeFontKey:de,fonts:ge,activeFontSize:te}},ke.publish("preProcessText",i),e=i.text,o=(n=i.options).angle,p instanceof Ee==0&&o&&"number"==typeof o){o*=Math.PI/180,0===n.rotationDirection&&(o=-o),x===b&&(o=-o);var R=Math.cos(o),M=Math.sin(o);p=new Ee(R,M,-M,R,0,0)}else o&&o instanceof Ee&&(p=o);x!==b||p||(p=Te),void 0!==(c=n.charSpace||Xt)&&(v+=S(O(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=n.horizontalScale)&&(v+=S(100*f)+" Tz\n"),n.lang;var F=-1,B=void 0!==n.renderingMode?n.renderingMode:n.stroke,z=m.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var U=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==F?v+=F+" Tr\n":-1!==U&&(v+="0 Tr\n"),-1!==F&&(z.usedRenderingMode=F),l=n.align||"left";var q,$=te*w,W=m.internal.pageSize.getWidth(),H=ge[de];c=n.charSpace||Xt,u=n.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},n.flags);var K=[],V=function(e){return m.getStringUnitWidth(e,{font:H,charSpace:c,fontSize:te,doKerning:!1})*te/N};if("[object Array]"===Object.prototype.toString.call(e)){var G;s=k(e),"left"!==l&&(q=s.map(V));var Y,J=0;if("right"===l){t-=q[0],e=[],T=s.length;for(var Q=0;Q<T;Q++)0===Q?(Y=$t(t),G=Wt(r)):(Y=O(J-q[Q]),G=-$),e.push([s[Q],Y,G]),J=q[Q]}else if("center"===l){t-=q[0]/2,e=[],T=s.length;for(var Z=0;Z<T;Z++)0===Z?(Y=$t(t),G=Wt(r)):(Y=O((J-q[Z])/2),G=-$),e.push([s[Z],Y,G]),J=q[Z]}else if("left"===l){e=[],T=s.length;for(var ee=0;ee<T;ee++)e.push(s[ee])}else if("justify"===l&&"Identity-H"===H.encoding){e=[],T=s.length,u=0!==u?u:W;for(var re=0,ne=0;ne<T;ne++)if(G=0===ne?Wt(r):-$,Y=0===ne?$t(t):re,ne<T-1){var ie=O((u-q[ne])/(s[ne].split(" ").length-1)),se=s[ne].split(" ");e.push([se[0]+" ",Y,G]),re=0;for(var oe=1;oe<se.length;oe++){var le=(V(se[oe-1]+" "+se[oe])-V(se[oe]))*N+ie;oe==se.length-1?e.push([se[oe],le,0]):e.push([se[oe]+" ",le,0]),re-=le}}else e.push([s[ne],Y,G]);e.push(["",re,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],T=s.length,u=0!==u?u:W,ne=0;ne<T;ne++)G=0===ne?Wt(r):-$,Y=0===ne?$t(t):0,ne<T-1?K.push(S(O((u-q[ne])/(s[ne].split(" ").length-1)))):K.push(0),e.push([s[ne],Y,G])}}!0===("boolean"==typeof n.R2L?n.R2L:ae)&&(e=A(e,function(e,t,r){return[e.split("").reverse().join(""),t,r]})),i={text:e,x:t,y:r,options:n,mutex:{pdfEscape:nt,activeFontKey:de,fonts:ge,activeFontSize:te}},ke.publish("postProcessText",i),e=i.text,y=i.mutex.isHex||!1;var ce=ge[de].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=A(e,function(e,t,r){return[_(e),t,r]})),s=k(e),e=[];for(var ue,he,fe,pe=Array.isArray(s[0])?1:0,me="",ye=function(e,t,r){var a="";return r instanceof Ee?(r="number"==typeof n.angle?Le(r,new Ee(1,0,0,1,e,t)):Le(new Ee(1,0,0,1,e,t),r),x===b&&(r=Le(new Ee(1,0,0,-1,0,0),r)),a=r.join(" ")+" Tm\n"):a=S(e)+" "+S(t)+" Td\n",a},ve=0;ve<s.length;ve++){switch(me="",pe){case 1:fe=(y?"<":"(")+s[ve][0]+(y?">":")"),ue=parseFloat(s[ve][1]),he=parseFloat(s[ve][2]);break;case 0:fe=(y?"<":"(")+s[ve]+(y?">":")"),ue=$t(t),he=Wt(r)}void 0!==K&&void 0!==K[ve]&&(me=K[ve]+" Tw\n"),0===ve?e.push(me+ye(ue,he,p)+fe):0===pe?e.push(me+fe):1===pe&&e.push(me+ye(ue,he,p)+fe)}e=0===pe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var be="BT\n/";return be+=de+" "+te+" Tf\n",be+=S(te*w)+" TL\n",be+=Yt+"\n",be+=v,be+=e,X(be+="ET"),h[de]=!0,m};var _t=f.__private__.clip=f.clip=function(e){return X("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return _t("evenodd")},f.__private__.discardPath=f.discardPath=function(){return X("n"),this};var St=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return St(e)&&(c=e),this};var jt=f.__private__.getStyle=f.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},kt=f.close=function(){return X("h"),this};f.stroke=function(){return X("S"),this},f.fill=function(e){return At("f",e),this},f.fillEvenOdd=function(e){return At("f*",e),this},f.fillStroke=function(e){return At("B",e),this},f.fillStrokeEvenOdd=function(e){return At("B*",e),this};var At=function(e,t){"object"===(0,LP.A)(t)?Pt(t,e):X(e)},Ct=function(e){null===e||x===b&&void 0===e||(e=jt(e),X(e))};function Ot(e,t,r,n,a){var i=new oL(t||this.boundingBox,r||this.xStep,n||this.yStep,this.gState,a||this.matrix);i.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return De(s,i),i}var Pt=function(e,t){var r=xe[e.key],n=be[r];if(n instanceof sL)X("q"),X(Et(t)),n.gState&&f.setGState(n.gState),X(e.matrix.toString()+" cm"),X("/"+r+" sh"),X("Q");else if(n instanceof oL){var a=new Ee(1,0,0,-1,0,cr());e.matrix&&(a=a.multiply(e.matrix||Te),r=Ot.call(n,e.key,e.boundingBox,e.xStep,e.yStep,a).id),X("q"),X("/Pattern cs"),X("/"+r+" scn"),n.gState&&f.setGState(n.gState),X(t),X("Q")}},Et=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lt=f.moveTo=function(e,t){return X(S(O(e))+" "+S(P(t))+" m"),this},Tt=f.lineTo=function(e,t){return X(S(O(e))+" "+S(P(t))+" l"),this},Dt=f.curveTo=function(e,t,r,n,a,i){return X([S(O(e)),S(P(t)),S(O(r)),S(P(n)),S(O(a)),S(P(i)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,r,n,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!St(a))throw new Error("Invalid arguments passed to jsPDF.line");return x===v?this.lines([[r-e,n-t]],e,t,[1,1],a||"S"):this.lines([[r-e,n-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,r,n,a,i){var s,o,l,c,u,d,h,f,p,m,g,y;if("number"==typeof e&&(y=r,r=t,t=e,e=y),n=n||[1,1],i=i||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(n)||!St(a)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Lt(t,r),s=n[0],o=n[1],c=e.length,m=t,g=r,l=0;l<c;l++)2===(u=e[l]).length?(m=u[0]*s+m,g=u[1]*o+g,Tt(m,g)):(d=u[0]*s+m,h=u[1]*o+g,f=u[2]*s+m,p=u[3]*o+g,m=u[4]*s+m,g=u[5]*o+g,Dt(d,h,f,p,m,g));return i&&kt(),Ct(a),this},f.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.c;switch(r.op){case"m":Lt(n[0],n[1]);break;case"l":Tt(n[0],n[1]);break;case"c":Dt.apply(this,n);break;case"h":kt()}}return this},f.__private__.rect=f.rect=function(e,t,r,n,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!St(a))throw new Error("Invalid arguments passed to jsPDF.rect");return x===v&&(n=-n),X([S(O(e)),S(P(t)),S(O(r)),S(O(n)),"re"].join(" ")),Ct(a),this},f.__private__.triangle=f.triangle=function(e,t,r,n,a,i,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(a)||isNaN(i)||!St(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,n-t],[a-r,i-n],[e-a,t-i]],e,t,[1,1],s,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,r,n,a,i,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(a)||isNaN(i)||!St(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*r),i=Math.min(i,.5*n),this.lines([[r-2*a,0],[a*o,0,a,i-i*o,a,i],[0,n-2*i],[0,i*o,-a*o,i,-a,i],[2*a-r,0],[-a*o,0,-a,-i*o,-a,-i],[0,2*i-n],[0,-i*o,a*o,-i,a,-i]],e+a,t,[1,1],s,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,r,n,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!St(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*r,s=4/3*(Math.SQRT2-1)*n;return Lt(e+r,t),Dt(e+r,t-s,e+i,t-n,e,t-n),Dt(e-i,t-n,e-r,t-s,e-r,t),Dt(e-r,t+s,e-i,t+n,e,t+n),Dt(e+i,t+n,e+r,t+s,e+r,t),Ct(a),this},f.__private__.circle=f.circle=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||!St(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,n)},f.setFont=function(e,t,r){return r&&(t=_(t,r)),de=ct(e,t,{disableWarning:!1}),this};var It=f.__private__.getFont=f.getFont=function(){return ge[ct.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,r={};for(e in ye)if(ye.hasOwnProperty(e))for(t in r[e]=[],ye[e])ye[e].hasOwnProperty(t)&&r[e].push(t);return r},f.addFont=function(e,t,r,n,a){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(r=_(r,n)),rt.call(this,e,t,r,a=a||"Identity-H")};var Rt,Mt=e.lineWidth||.200025,Ft=f.__private__.getLineWidth=f.getLineWidth=function(){return Mt},Bt=f.__private__.setLineWidth=f.setLineWidth=function(e){return Mt=e,X(S(O(e))+" w"),this};f.__private__.setLineDash=lL.API.setLineDash=lL.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return S(O(e))}).join(" "),t=S(O(t)),X("["+e+"] "+t+" d"),this};var zt=f.__private__.getLineHeight=f.getLineHeight=function(){return te*Rt};f.__private__.getLineHeight=f.getLineHeight=function(){return te*Rt};var Ut=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Rt=e),this},qt=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Rt};Ut(e.lineHeight);var $t=f.__private__.getHorizontalCoordinate=function(e){return O(e)},Wt=f.__private__.getVerticalCoordinate=function(e){return x===b?e:je[B].mediaBox.topRightY-je[B].mediaBox.bottomLeftY-O(e)},Ht=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return S($t(e))},Kt=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return S(Wt(e))},Vt=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return qe(Vt)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,r,n){return Vt=$e({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"draw",precision:2}),X(Vt),this};var Gt=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return qe(Gt)},f.__private__.setFillColor=f.setFillColor=function(e,t,r,n){return Gt=$e({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"fill",precision:2}),X(Gt),this};var Yt=e.textColor||"0 g",Jt=f.__private__.getTextColor=f.getTextColor=function(){return qe(Yt)};f.__private__.setTextColor=f.setTextColor=function(e,t,r,n){return Yt=$e({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"text",precision:3}),this};var Xt=e.charSpace,Qt=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Xt||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xt=e,this};var Zt=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" J"),this};var er=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return er=t,X(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(S(O(e))+" M"),this},f.GState=aL,f.setGState=function(e){(e="string"==typeof e?we[Ne[e]]:tr(null,e)).equals(_e)||(X("/"+e.id+" gs"),_e=e)};var tr=function(e,t){if(!e||!Ne[e]){var r=!1;for(var n in we)if(we.hasOwnProperty(n)&&we[n].equals(t)){r=!0;break}if(r)t=we[n];else{var a="GS"+(Object.keys(we).length+1).toString(10);we[a]=t,t.id=a}return e&&(Ne[e]=t.id),ke.publish("addGState",t),t}};f.addGState=function(e,t){return tr(e,t),this},f.saveGraphicsState=function(){return X("q"),ve.push({key:de,size:te,color:Yt}),this},f.restoreGraphicsState=function(){X("Q");var e=ve.pop();return de=e.key,te=e.size,Yt=e.color,_e=null,this},f.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},f.comment=function(e){return X("#"+e),this};var rr=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var n=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},nr=function(e,t,r,n){rr.call(this,e,t),this.type="rect";var a=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var i=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},ar=function(){this.page=Se,this.currentPage=B,this.pages=V.slice(0),this.pagesContext=je.slice(0),this.x=fe,this.y=pe,this.matrix=me,this.width=or(B),this.height=cr(B),this.outputDestination=Y,this.id="",this.objectNumber=-1};ar.prototype.restore=function(){Se=this.page,B=this.currentPage,je=this.pagesContext,V=this.pages,fe=this.x,pe=this.y,me=this.matrix,lr(B,this.width),ur(B,this.height),Y=this.outputDestination};var ir=function(e,t,r,n,a){Pe.push(new ar),Se=B=0,V=[],fe=e,pe=t,me=a,at([r,n])};for(var sr in f.beginFormObject=function(e,t,r,n,a){return ir(e,t,r,n,a),this},f.endFormObject=function(e){return function(e){if(Oe[e])Pe.pop().restore();else{var t=new ar,r="Xo"+(Object.keys(Ce).length+1).toString(10);t.id=r,Oe[e]=r,Ce[r]=t,ke.publish("addFormObject",t),Pe.pop().restore()}}(e),this},f.doFormObject=function(e,t){var r=Ce[Oe[e]];return X("q"),X(t.toString()+" cm"),X("/"+r.id+" Do"),X("Q"),this},f.getFormObject=function(e){var t=Ce[Oe[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(ME(gt(mt()),e),"function"==typeof ME.unload&&OE.setTimeout&&setTimeout(ME.unload,911),this):new Promise(function(t,r){try{var n=ME(gt(mt()),e);"function"==typeof ME.unload&&OE.setTimeout&&setTimeout(ME.unload,911),t(n)}catch(e){r(e.message)}})},lL.API)lL.API.hasOwnProperty(sr)&&("events"===sr&&lL.API.events.length?function(e,t){var r,n,a;for(a=t.length-1;-1!==a;a--)r=t[a][0],n=t[a][1],e.subscribe.apply(e,[r].concat("function"==typeof n?[n]:n))}(ke,lL.API.events):f[sr]=lL.API[sr]);var or=f.getPageWidth=function(e){return(je[e=e||B].mediaBox.topRightX-je[e].mediaBox.bottomLeftX)/he},lr=f.setPageWidth=function(e,t){je[e].mediaBox.topRightX=t*he+je[e].mediaBox.bottomLeftX},cr=f.getPageHeight=function(e){return(je[e=e||B].mediaBox.topRightY-je[e].mediaBox.bottomLeftY)/he},ur=f.setPageHeight=function(e,t){je[e].mediaBox.topRightY=t*he+je[e].mediaBox.bottomLeftY};return f.internal={pdfEscape:nt,getStyle:jt,getFont:It,getFontSize:ne,getCharSpace:Qt,getTextColor:Jt,getLineHeight:zt,getLineHeightFactor:qt,getLineWidth:Ft,write:Q,getHorizontalCoordinate:$t,getVerticalCoordinate:Wt,getCoordinateString:Ht,getVerticalCoordinateString:Kt,collections:{},newObject:Re,newAdditionalObject:Be,newObjectDeferred:Me,newObjectDeferredBegin:Fe,getFilters:We,putStream:He,events:ke,scaleFactor:he,pageSize:{getWidth:function(){return or(B)},setWidth:function(e){lr(B,e)},getHeight:function(){return cr(B)},setHeight:function(e){ur(B,e)}},encryptionOptions:u,encryption:bt,getEncryptor:function(e){return null!==u?bt.encryptor(e,0):function(e){return e}},output:yt,getNumberOfPages:lt,pages:V,out:X,f2:A,f3:C,getPageInfo:xt,getPageInfoByObjId:wt,getCurrentPageInfo:Nt,getPDFVersion:m,Point:rr,Rectangle:nr,Matrix:Ee,hasHotfix:vt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return or(B)},set:function(e){lr(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return cr(B)},set:function(e){ur(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,r=ee.length;t<r;t++){var n=rt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===d&&(h[n]=!0);var a=e[t][0].split("-");tt({id:n,fontName:a[0],fontStyle:a[1]||""})}ke.publish("addFonts",{fonts:ge,dictionary:ye})}.call(f,ee),de="F1",it(a,r),ke.publish("initialized"),f}tL.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},tL.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tL.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},tL.prototype.processOwnerPassword=function(e,t){return ZE(JE(t).substr(0,5),e)},tL.prototype.encryptor=function(e,t){var r=JE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return ZE(r,e)}},aL.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||(0,LP.A)(e)!==(0,LP.A)(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return 0===n},lL.API={events:[]},lL.version="3.0.1";var cL=lL.API,uL=1,dL=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hL=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fL=function(e){return e.toFixed(2)},pL=function(e){return e.toFixed(5)};cL.__acroform__={};var mL=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},gL=function(e){return e*uL},yL=function(e){var t=new DL,r=GL.internal.getHeight(e)||0,n=GL.internal.getWidth(e)||0;return t.BBox=[0,0,Number(fL(n)),Number(fL(r))],t},vL=cL.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},bL=cL.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},xL=cL.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},wL=cL.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xL(e,t-1)},NL=cL.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vL(e,t-1)},_L=cL.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bL(e,t-1)},SL=cL.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(fL(l.lowerLeft_X)),Number(fL(l.lowerLeft_Y)),Number(fL(l.upperRight_X)),Number(fL(l.upperRight_Y))]},jL=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=kL(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+fL(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=yL(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},kL=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var i=r,s=GL.internal.getHeight(e)||0;s=s<0?-s:s;var o=GL.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,r,n){if(t+1<a.length){var i=r+" "+a[t+1][0];return AL(i,e,n).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,d=AL("3",e,i).height,h=e.multiline?s-i:(s-d)/2,f=h+=2,p=0,m=0,g=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+AL(t,e,i=12).width+", FieldWidth:"+o+"\n";break}for(var y="",v=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var x=!1;if(1!==a[b].length&&g!==a[b].length-1){if((d+2)*(v+2)+2>s)continue e;y+=a[b][g],x=!0,m=b,b--}else{y=" "==(y+=a[b][g]+" ").substr(y.length-1)?y.substr(0,y.length-1):y;var w=parseInt(b),N=l(w,y,i),_=b>=a.length-1;if(N&&!_){y+=" ",g=0;continue}if(N||_){if(_)m=w;else if(e.multiline&&(d+2)*(v+2)+2>s)continue e}else{if(!e.multiline)continue e;if((d+2)*(v+2)+2>s)continue e;m=w}}for(var S="",j=p;j<=m;j++){var k=a[j];if(e.multiline){if(j===m){S+=k[g]+" ",g=(g+1)%k.length;continue}if(j===p){S+=k[k.length-1]+" ";continue}}S+=k[0]+" "}switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,u=AL(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=fL(c)+" "+fL(f)+" Td\n",t+="("+dL(S)+") Tj\n",t+=-fL(c)+" 0 Td\n",f=-(i+2),u=0,p=x?m:m+1,v++,y=""}break}return n.text=t,n.fontSize=i,n},AL=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},CL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},OL=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===r.type&&e.object===r.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},PL=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(RL.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(CL)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");uL=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new IL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n.objId=void 0,n.hasAnnotation&&OL(n,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var r=!e;for(var n in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(n)){var a=e[n],i=[],s=a.Rect;if(a.Rect&&(a.Rect=SL(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=GL.createDefaultAppearanceStream(a),"object"===(0,LP.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(i=a.getKeyValueListForStream()),a.Rect=s,a.hasAppearanceStream&&!a.appearanceStreamContent){var o=jL(a);i.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var u=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var n in u)if(u.hasOwnProperty(n)){var d=u[n];"function"==typeof d&&(d=d.call(t,a)),l+="/"+n+" "+d+" ",t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else"function"==typeof(d=u)&&(d=d.call(t,a)),l+="/"+n+" "+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:a.objId}),t.internal.out("endobj")}r&&function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,LP.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[n]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},EL=cL.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(e){return e};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(0!==i&&(a+=" "),(0,LP.A)(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&r&&(n=r.internal.getEncryptor(t)),a+="("+dL(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},LL=function(e,t,r){var n=function(e){return e};return void 0!==t&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+dL(n(e))+")"},TL=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};TL.prototype.toString=function(){return this.objId+" 0 R"},TL.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},TL.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:EL(a,this.objId,this.scope)}):a instanceof TL?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:n,value:a}))}return e};var DL=function(){TL.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};mL(DL,TL);var IL=function(){TL.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+dL(t(e))+")"}},set:function(t){e=t}})};mL(IL,TL);var RL=function e(){TL.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(t,3))},set:function(e){!0===Boolean(e)?this.F=NL(t,3):this.F=_L(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(e){n=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(e){n[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(e){n[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(e){n[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(e){n[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof WL)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+dL(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/uL:c},set:function(e){c=e}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof WL||this instanceof KL))return LL(d,this.objId,this.scope)},set:function(e){e=e.toString(),d=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof UL==0?LL(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof UL==0?"("===e.substr(0,1)?hL(e.substr(1,e.length-2)):hL(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof UL==1?hL(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof UL==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof UL==0?LL(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof UL==0?"("===e.substr(0,1)?hL(e.substr(1,e.length-2)):hL(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof UL==1?hL(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof UL==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,1):this.Ff=_L(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,2):this.Ff=_L(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,3):this.Ff=_L(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};mL(RL,TL);var ML=function(){RL.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EL(t,this.objId,this.scope)},set:function(e){var r,n;n=[],"string"==typeof(r=e)&&(n=function(e,t,r){r||(r=1);for(var n,a=[];n=t.exec(e);)a.push(n[r]);return a}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,18):this.Ff=_L(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=NL(this.Ff,19):this.Ff=_L(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=NL(this.Ff,20),t.sort()):this.Ff=_L(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,22):this.Ff=_L(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,23):this.Ff=_L(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,27):this.Ff=_L(this.Ff,27)}}),this.hasAppearanceStream=!1};mL(ML,RL);var FL=function(){ML.call(this),this.fontName="helvetica",this.combo=!1};mL(FL,ML);var BL=function(){FL.call(this),this.combo=!0};mL(BL,FL);var zL=function(){BL.call(this),this.edit=!0};mL(zL,BL);var UL=function(){RL.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,15):this.Ff=_L(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,16):this.Ff=_L(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,17):this.Ff=_L(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,26):this.Ff=_L(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+dL(e(t[r]))+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===(0,LP.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};mL(UL,RL);var qL=function(){UL.call(this),this.pushButton=!0};mL(qL,UL);var $L=function(){UL.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};mL($L,UL);var WL=function(){var e,t;RL.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),n)r.push("/"+t+" ("+dL(e(n[t]))+")");return r.push(">>"),r.join("\n")},set:function(e){"object"===(0,LP.A)(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=GL.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mL(WL,RL),$L.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},$L.prototype.createOption=function(e){var t=new WL;return t.Parent=this,t.optionName=e,this.Kids.push(t),YL.call(this.scope,t),t};var HL=function(){UL.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=GL.CheckBox.createAppearanceStream()};mL(HL,UL);var KL=function(){RL.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,13):this.Ff=_L(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,21):this.Ff=_L(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,23):this.Ff=_L(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,24):this.Ff=_L(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,25):this.Ff=_L(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,26):this.Ff=_L(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mL(KL,RL);var VL=function(){KL.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(wL(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=NL(this.Ff,14):this.Ff=_L(this.Ff,14)}}),this.password=!0};mL(VL,KL);var GL={CheckBox:{createAppearanceStream:function(){return{N:{On:GL.CheckBox.YesNormal},D:{On:GL.CheckBox.YesPushDown,Off:GL.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=yL(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=kL(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+fL(GL.internal.getWidth(e))+" "+fL(GL.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+fL(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=yL(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=GL.internal.getHeight(e),s=GL.internal.getWidth(e),o=kL(e,e.caption);return a.push("1 g"),a.push("0 0 "+fL(s)+" "+fL(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+fL(s-1)+" "+fL(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+fL(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=yL(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+fL(GL.internal.getWidth(e))+" "+fL(GL.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:GL.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=GL.RadioButton.Circle.YesNormal,t.D[e]=GL.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=yL(e);t.scope=e.scope;var r=[],n=GL.internal.getWidth(e)<=GL.internal.getHeight(e)?GL.internal.getWidth(e)/4:GL.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=GL.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+pL(GL.internal.getWidth(e)/2)+" "+pL(GL.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=yL(e);t.scope=e.scope;var r=[],n=GL.internal.getWidth(e)<=GL.internal.getHeight(e)?GL.internal.getWidth(e)/4:GL.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*GL.internal.Bezier_C).toFixed(5)),s=Number((n*GL.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pL(GL.internal.getWidth(e)/2)+" "+pL(GL.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+pL(GL.internal.getWidth(e)/2)+" "+pL(GL.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=yL(e);t.scope=e.scope;var r=[],n=GL.internal.getWidth(e)<=GL.internal.getHeight(e)?GL.internal.getWidth(e)/4:GL.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*GL.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pL(GL.internal.getWidth(e)/2)+" "+pL(GL.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:GL.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=GL.RadioButton.Cross.YesNormal,t.D[e]=GL.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=yL(e);t.scope=e.scope;var r=[],n=GL.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+fL(GL.internal.getWidth(e)-2)+" "+fL(GL.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(fL(n.x1.x)+" "+fL(n.x1.y)+" m"),r.push(fL(n.x2.x)+" "+fL(n.x2.y)+" l"),r.push(fL(n.x4.x)+" "+fL(n.x4.y)+" m"),r.push(fL(n.x3.x)+" "+fL(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=yL(e);t.scope=e.scope;var r=GL.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+fL(GL.internal.getWidth(e))+" "+fL(GL.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+fL(GL.internal.getWidth(e)-2)+" "+fL(GL.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(fL(r.x1.x)+" "+fL(r.x1.y)+" m"),n.push(fL(r.x2.x)+" "+fL(r.x2.y)+" l"),n.push(fL(r.x4.x)+" "+fL(r.x4.y)+" m"),n.push(fL(r.x3.x)+" "+fL(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=yL(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+fL(GL.internal.getWidth(e))+" "+fL(GL.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};GL.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=GL.internal.getWidth(e),r=GL.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},GL.internal.getWidth=function(e){var t=0;return"object"===(0,LP.A)(e)&&(t=gL(e.Rect[2])),t},GL.internal.getHeight=function(e){var t=0;return"object"===(0,LP.A)(e)&&(t=gL(e.Rect[3])),t};var YL=cL.addField=function(e){if(PL(this,e),!(e instanceof RL))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};cL.AcroFormChoiceField=ML,cL.AcroFormListBox=FL,cL.AcroFormComboBox=BL,cL.AcroFormEditBox=zL,cL.AcroFormButton=UL,cL.AcroFormPushButton=qL,cL.AcroFormRadioButton=$L,cL.AcroFormCheckBox=HL,cL.AcroFormTextField=KL,cL.AcroFormPasswordField=VL,cL.AcroFormAppearance=GL,cL.AcroForm={ChoiceField:ML,ListBox:FL,ComboBox:BL,EditBox:zL,Button:UL,PushButton:qL,RadioButton:$L,CheckBox:HL,TextField:KL,PasswordField:VL,Appearance:GL},lL.AcroForm={ChoiceField:ML,ListBox:FL,ComboBox:BL,EditBox:zL,Button:UL,PushButton:qL,RadioButton:$L,CheckBox:HL,TextField:KL,PasswordField:VL,Appearance:GL};lL.AcroForm;function JL(e){return e.reduce(function(e,t,r){return e[t]=r,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(e,n){var a,i,s,o,l,c=t;if("RGBA"===(n=n||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(N(e))for(l in r)for(s=r[l],a=0;a<s.length;a+=1){for(o=!0,i=0;i<s[a].length;i+=1)if(void 0!==s[a][i]&&s[a][i]!==e[i]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(s=r[l],a=0;a<s.length;a+=1){for(o=!0,i=0;i<s[a].length;i+=1)if(void 0!==s[a][i]&&s[a][i]!==e.charCodeAt(i)){o=!1;break}if(!0===o){c=l;break}}return c===t&&n!==t&&(c=n),c},a=function e(t){for(var r=this.internal.write,n=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var s="",o=0,l=t.transparency.length;o<l;o++)s+=t.transparency[o]+" "+t.transparency[o]+" ";i.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(n({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:c,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var u="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,d={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:u,data:t.sMask};"filter"in t&&(d.filter=t.filter),e.call(this,d)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();n({data:S(new Uint8Array(t.palette)),objectId:h}),r("endobj")}},i=function(){var e=this.internal.collections.addImage_images;for(var t in e)a.call(this,e[t])},s=function(){var e,t=this.internal.collections.addImage_images,r=this.internal.write;for(var n in t)r("/I"+(e=t[n]).index,e.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var e=this.internal.collections.addImage_images;return o.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===(0,LP.A)(e)&&1===e.nodeType},h=function(t,r){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return IE(unescape(n).split("base64,").pop());var a=e.loadFile(n,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var i;switch(r){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return IE(t.toDataURL(i,1).split("base64,").pop())}},f=function(e){var t=this.internal.collections.addImage_images;if(t)for(var r in t)if(e===t[r].alias)return t[r]},p=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},m=function(e,t,r,n,a,i){var s=p.call(this,r,n,a),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(r=s[0],n=s[1],u[a.index]=a,i){i*=Math.PI/180;var d=Math.cos(i),h=Math.sin(i),f=function(e){return e.toFixed(4)},m=[f(d),f(h),f(-1*h),f(d),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,o(e),c(t+n),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(r),"0","0",o(n),"0","0","cm"].join(" "))):this.internal.write([o(r),"0","0",o(n),o(e),c(t+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(e){var t,r,n=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;else if(N(e))for(r=e.byteLength/2,t=0;t<r;t++)n=(n<<5)-n+e[t],n|=0;return n},b=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},x=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},S=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=N(e)?e:new Uint8Array(e),n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,r.subarray(n,n+8192));return t};e.addImage=function(){var e,r,n,a,i,s,l,c,u;if("number"==typeof arguments[1]?(r=t,n=arguments[1],a=arguments[2],i=arguments[3],s=arguments[4],l=arguments[5],c=arguments[6],u=arguments[7]):(r=arguments[1],n=arguments[2],a=arguments[3],i=arguments[4],s=arguments[5],l=arguments[6],c=arguments[7],u=arguments[8]),"object"===(0,LP.A)(e=arguments[0])&&!d(e)&&"imageData"in e){var h=e;e=h.imageData,r=h.format||r||t,n=h.x||n||0,a=h.y||a||0,i=h.w||h.width||i,s=h.h||h.height||s,l=h.alias||l,c=h.compression||c,u=h.rotation||h.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(n)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var p=j.call(this,e,r,l,c);return m.call(this,n,a,i,s,p,u),this};var j=function(r,a,i,s){var o,l,p;if("string"==typeof r&&n(r)===t){r=unescape(r);var m=k(r,!1);(""!==m||void 0!==(m=e.loadFile(r,!0)))&&(r=m)}if(d(r)&&(r=h(r,a)),a=n(r,a),!u(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if((null==(p=i)||0===p.length)&&(i=function(e){return"string"==typeof e||N(e)?v(e):N(e.data)?v(e.data):null}(r)),(o=f.call(this,i))||(w()&&(r instanceof Uint8Array||"RGBA"===a||(l=r,r=_(r))),o=this["process"+a.toUpperCase()](r,c.call(this),i,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(s),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},k=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var r,n="";if("string"==typeof e){var a;r=null!==(a=x(e))&&void 0!==a?a:e;try{n=IE(r)}catch(e){if(t)throw b(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return n};e.getImageProperties=function(r){var a,i,s="";if(d(r)&&(r=h(r)),"string"==typeof r&&n(r)===t&&(""===(s=k(r,!1))&&(s=e.loadFile(r)||""),r=s),i=n(r),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(!w()||r instanceof Uint8Array||(r=_(r)),!(a=this["process"+i.toUpperCase()](r)))throw new Error("An unknown error occurred whilst processing the image");return a.fileType=i,a}}(lL.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};lL.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var r,n,a,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((r=l[u]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var d=0;d<l.length;d++){r=l[d];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),y=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+i(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",a+=" /Popup "+m.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+h(g(y))+") >>",p.content=a;var v=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+i(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+v,r.open&&(a+=" /Open true"),a+=" >>",m.content=a,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":n="/Rect ["+i(r.bounds.x)+" "+s(r.bounds.y)+" "+i(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var b=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(f(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var x=this.annotations._nameMap[r.options.name];r.options.pageNumber=x.page,r.options.top=x.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var w=s(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+w+" "+r.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,r,n,a){var i=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:s(e),y:o(t),w:s(e+r),h:o(t+n)},options:a,type:"link"})},e.textWithLink=function(e,t,r,n){var a,i,s=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n.maxWidth){i=n.maxWidth;var l=this.splitTextToSize(e,i).length;a=Math.ceil(o*l)}else i=s,a=o;return this.text(e,t,r,n),r+=.2*o,"center"===n.align&&(t-=s/2),"right"===n.align&&(t-=s),this.link(t,r-o,i,a,n),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(lL.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&i(e)&&4==t[e.charCodeAt(0)].length},d=e.__arabicParser__.resolveLigatures=function(e){var t=0,n=r,a="",i=0;for(t=0;t<e.length;t+=1)void 0!==n[e.charCodeAt(t)]?(i++,"number"==typeof(n=n[e.charCodeAt(t)])&&(a+=String.fromCharCode(n),n=r,i=0),t===e.length-1&&(n=r,a+=e.charAt(t-(i-1)),t-=i-1,i=0)):(n=r,a+=e.charAt(t-i),t-=i,i=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==n[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,r){return s(e)?!1===i(e)?-1:!c(e)||!s(t)&&!s(r)||!s(r)&&o(t)||o(e)&&!s(t)||o(e)&&l(t)||o(e)&&o(t)?0:u(e)&&s(t)&&!o(t)&&s(r)&&c(r)?3:o(e)||!s(r)?1:2:-1},f=function(e){var r=0,n=0,a=0,i="",o="",l="",c=(e=e||"").split("\\s+"),u=[];for(r=0;r<c.length;r+=1){for(u.push(""),n=0;n<c[r].length;n+=1)i=c[r][n],o=c[r][n-1],l=c[r][n+1],s(i)?(a=h(i,o,l),u[r]+=-1!==a?String.fromCharCode(t[i.charCodeAt(0)][a]):i):u[r]+=i;u[r]=d(u[r])}return u.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var n=0;for(r=[],n=0;n<t.length;n+=1)Array.isArray(t[n])?r.push([f(t[n][0]),t[n][1],t[n][2]]):r.push([f(t[n])]);e=r}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(lL.API),lL.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(e){n=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(lL.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var n=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return n.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){n.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,s=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var u=t.maxWidth;u>0?"string"==typeof e?e=this.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,u))},[])):e=Array.isArray(e)?e:[e];for(var d=0;d<e.length;d++)s<(l=this.getStringUnitWidth(e[d],{font:a})*r)&&(s=l);return 0!==s&&(o=e.length),{w:s/=i,h:Math.max((o*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var a=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===r?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,r,l,c,u){if(n.call(this),!l)throw new Error("No data for PDF table.");var d,h,f,p,m=[],g=[],y=[],v={},b={},x=[],w=[],N=(u=u||{}).autoSize||!1,_=!1!==u.printHeaders,S=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,j=u.margins||Object.assign({width:this.getPageWidth()},t),k="number"==typeof u.padding?u.padding:3,A=u.headerBackgroundColor||"#c8c8c8",C=u.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=C,this.setFontSize(S),null==c)g=m=Object.keys(l[0]),y=m.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,LP.A)(c[0]))for(m=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),y=c.map(function(e){return e.align||"left"}),d=0;d<c.length;d+=1)b[c[d].name]=c[d].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(g=m=c,y=m.map(function(){return"left"}));if(N||Array.isArray(c)&&"string"==typeof c[0])for(d=0;d<m.length;d+=1){for(v[p=m[d]]=l.map(function(e){return e[p]}),this.setFont(void 0,"bold"),x.push(this.getTextDimensions(g[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=v[p],this.setFont(void 0,"normal"),f=0;f<h.length;f+=1)x.push(this.getTextDimensions(h[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[p]=Math.max.apply(null,x)+k+k,x=[]}if(_){var O={};for(d=0;d<m.length;d+=1)O[m[d]]={},O[m[d]].text=g[d],O[m[d]].align=y[d];var P=o.call(this,O,b);w=m.map(function(t){return new i(e,r,b[t],P,O[t].text,void 0,O[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var E=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(d=0;d<l.length;d+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:d,data:l[d]},this);var L=o.call(this,l[d],b);for(f=0;f<m.length;f+=1){var T=l[d][m[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:d,col:f,data:T},this),s.call(this,new i(e,r,b[m[f]],L,T,d+2,E[m[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=r,this};var o=function(e,t){var r=this.internal.__cell__.padding,n=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(n){var a=e[n];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[n]-r-r)},this).map(function(e){return this.getLineHeightFactor()*e.length*n/a+r+r},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){n.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,a),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),r=!1}}(lL.API);var XL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ZL=JL(QL),eT=[100,200,300,400,500,600,700,800,900],tT=JL(eT);function rT(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(e){return XL[e=e||"normal"]?e:"normal"}(e.style),n=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof ZL[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function nT(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var aT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},iT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sT(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function oT(e){return e.trimLeft()}function lT(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function cT(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var uT,dT,hT,fT,pT=["times"];!function(e){var t,r,n,a,i,s,o,l,c,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof u&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var d=[];Object.defineProperty(this,"ctxStack",{get:function(){return d},set:function(e){d=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var f=null;function p(e,t){if(null===f){var r=function(e){var t=[];return Object.keys(e).forEach(function(r){e[r].forEach(function(e){var n=null;switch(e){case"bold":n={family:r,weight:"bold"};break;case"italic":n={family:r,style:"italic"};break;case"bolditalic":n={family:r,weight:"bold",style:"italic"};break;case"":case"normal":n={family:r}}null!==n&&(n.ref={name:r,style:e},t.push(n))})}),t}(e.getFontList());f=function(e){for(var t={},r=0;r<e.length;++r){var n=rT(e[r]),a=n.family,i=n.stretch,s=n.style,o=n.weight;t[a]=t[a]||{},t[a][i]=t[a][i]||{},t[a][i][s]=t[a][i][s]||{},t[a][i][s][o]=n}return t}(r.concat(t))}return f}var m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){f=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var r=t[1];t[2];var n=t[3],a=t[4];t[5];var i=t[6],s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===s?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,r,n=[],a=e.trim();if(""===a)return pT;if(a in iT)return[iT[a]];for(;""!==a;){switch(r=null,t=(a=oT(a)).charAt(0)){case'"':case"'":r=lT(a.substring(1),t);break;default:r=cT(a)}if(null===r)return pT;if(n.push(r[0]),""!==(a=oT(r[1]))&&","!==a.charAt(0))return pT;a=a.replace(/^,/,"")}return n}(i);if(this.fontFaces){var l=function(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},aT,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=rT(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+sT(i)+"' and default family '"+n+"'.");if(s=function(e,t){if(t[e])return t[e];var r=ZL[e],n=r<=ZL.normal?-1:1,a=nT(t,QL,r,n);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(i.stretch,s),s=function(e,t){if(t[e])return t[e];for(var r=XL[e],n=0;n<r.length;++n)if(t[r[n]])return t[r[n]];throw new Error("Could not find a matching font-style for "+e)}(i.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=tT[e],n=nT(t,eT,r,e<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+e);return n}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+sT(i)+"'.");return s}(p(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:n,style:r}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===n||parseInt(n,10)>=700||"bold"===r)&&(c="bold"),"italic"===r&&(c+="italic"),0===c.length&&(c="normal");for(var u="",d={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){u=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))u=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){u=o[h],c="normal";break}}if(""===u)for(var f=0;f<o.length;f++)if(d[o[f]]){u=d[o[f]];break}u=""===u?"Times":u,this.pdf.setFont(u,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};d.prototype.setLineDash=function(e){this.lineDash=e},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){x.call(this,"fill",!1)},d.prototype.stroke=function(){x.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw EE.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new s(e,t)},d.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,LP.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},d.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw EE.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new s(r.x,r.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},d.prototype.quadraticCurveTo=function(e,t,r,n){if(isNaN(r)||isNaN(n)||isNaN(e)||isNaN(t))throw EE.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new s(r,n)),i=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},d.prototype.bezierCurveTo=function(e,t,r,n,a,i){if(isNaN(a)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw EE.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new s(a,i)),l=this.ctx.transform.applyToPoint(new s(e,t)),c=this.ctx.transform.applyToPoint(new s(r,n));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},d.prototype.arc=function(e,t,r,n,a,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(a))throw EE.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new s(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new s(0,r)),c=this.ctx.transform.applyToPoint(new s(0,0));r=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-n)>=2*Math.PI&&(n=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:n,endAngle:a,counterclockwise:i})},d.prototype.arcTo=function(e,t,r,n,a){throw new Error("arcTo not implemented.")},d.prototype.rect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw EE.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},d.prototype.fillRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw EE.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,n),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},d.prototype.strokeRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw EE.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(e,t,r,n),this.stroke())},d.prototype.clearRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw EE.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,n))},d.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},d.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,r,n,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,n=0,a=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),r=parseInt(i[2]),n=parseInt(i[3]),a=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),r=parseInt(i[2]),n=parseInt(i[3]),a=parseFloat(i[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new FE(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,n=e.substring(3,4),n+=n):(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),n=parseInt(n,16)}}return{r:t,g:r,b:n,a:a,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};d.prototype.fillText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw EE.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!f.call(this)){var a=D(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;C.call(this,{text:e,x:t,y:r,scale:i,angle:a,align:this.textAlign,maxWidth:n})}},d.prototype.strokeText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw EE.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){n=isNaN(n)?void 0:n;var a=D(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;C.call(this,{text:e,x:t,y:r,scale:i,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:n})}},d.prototype.measureText=function(e){if("string"!=typeof e)throw EE.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,n=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*n/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*r/72*1e4)/1e4})},d.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw EE.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},d.prototype.rotate=function(e){if(isNaN(e))throw EE.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},d.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw EE.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},d.prototype.transform=function(e,t,r,n,a,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(a)||isNaN(i))throw EE.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new l(e,t,r,n,a,i);this.ctx.transform=this.ctx.transform.multiply(s)},d.prototype.setTransform=function(e,t,r,n,a,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,n=isNaN(n)?1:n,a=isNaN(a)?0:a,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,r,n,a,i)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(e,t,r,n,a,i,s,c,u){var d=this.pdf.getImageProperties(e),h=1,f=1,p=1,y=1;void 0!==n&&void 0!==c&&(p=c/n,y=u/a,h=d.width/n*c/n,f=d.height/a*u/a),void 0===i&&(i=t,s=r,t=0,r=0),void 0!==n&&void 0===c&&(c=n,u=a),void 0===n&&void 0===c&&(c=d.width,u=d.height);for(var x,N=this.ctx.transform.decompose(),_=D(N.rotate.shx),S=new l,j=(S=(S=(S=S.multiply(N.translate)).multiply(N.skew)).multiply(N.scale)).applyToRectangle(new o(i-t*p,s-r*y,n*h,a*f)),k=g.call(this,j),A=[],C=0;C<k.length;C+=1)-1===A.indexOf(k[C])&&A.push(k[C]);if(b(A),this.autoPaging)for(var O=A[0],P=A[A.length-1],E=O;E<P+1;E++){this.pdf.setPage(E);var L=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===E?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],R=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],M=1===E?0:I+(E-2)*R;if(0!==this.ctx.clip_path.length){var F=this.path;x=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(x,this.posX+this.margin[3],-M+T+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=F}var B=JSON.parse(JSON.stringify(j));B=v([B],this.posX+this.margin[3],-M+T+this.ctx.prevPageLastElemOffset)[0];var z=(E>O||E<P)&&m.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,R,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,_),z&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",j.x,j.y,j.w,j.h,null,null,_)};var g=function(e,t,r){var n=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":n.push(Math.floor((e.y+a)/r)+1);break;case"arc":n.push(Math.floor((e.y+a-e.radius)/r)+1),n.push(Math.floor((e.y+a+e.radius)/r)+1);break;case"qct":var i=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);n.push(Math.floor((i.y+a)/r)+1),n.push(Math.floor((i.y+i.h+a)/r)+1);break;case"bct":var s=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);n.push(Math.floor((s.y+a)/r)+1),n.push(Math.floor((s.y+s.h+a)/r)+1);break;case"rect":n.push(Math.floor((e.y+a)/r)+1),n.push(Math.floor((e.y+e.h+a)/r)+1)}for(var o=0;o<n.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<n[o];)y.call(this);return n},y=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,n=this.lineCap,a=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=n,this.lineWidth=a,this.lineJoin=i},v=function(e,t,r){for(var n=0;n<e.length;n++)switch(e[n].type){case"bct":e[n].x2+=t,e[n].y2+=r;case"qct":e[n].x1+=t,e[n].y1+=r;default:e[n].x+=t,e[n].y+=r}return e},b=function(e){return e.sort(function(e,t){return e-t})},x=function(e,t){for(var r,n,a=this.fillStyle,i=this.strokeStyle,s=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),h=[],f=0;f<d.length;f++)if(void 0!==d[f].x)for(var p=g.call(this,d[f]),x=0;x<p.length;x+=1)-1===h.indexOf(p[x])&&h.push(p[x]);for(var N=0;N<h.length;N++)for(;this.pdf.internal.getNumberOfPages()<h[N];)y.call(this);if(b(h),this.autoPaging)for(var _=h[0],S=h[h.length-1],j=_;j<S+1;j++){this.pdf.setPage(j),this.fillStyle=a,this.strokeStyle=i,this.lineCap=s,this.lineWidth=l,this.lineJoin=c;var k=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===j?this.posY+this.margin[0]:this.margin[0],C=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===j?0:C+(j-2)*O;if(0!==this.ctx.clip_path.length){var E=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(r,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=E}if(n=JSON.parse(JSON.stringify(u)),this.path=v(n,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),!1===t||0===j){var L=(j>_||j<S)&&m.call(this);L&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],k,O,null).clip().discardPath()),w.call(this,e,t),L&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=o;this.path=u},w=function(e,t){if(("stroke"!==e||t||!p.call(this))&&("stroke"===e||t||!f.call(this))){for(var r,n,a=[],i=this.path,s=0;s<i.length;s++){var o=i[s];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(i[s-1]&&!isNaN(i[s-1].x)&&(r=[o.x-i[s-1].x,o.y-i[s-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(r),a[l-1].abs.push(o);break}break;case"bct":r=[o.x1-i[s-1].x,o.y1-i[s-1].y,o.x2-i[s-1].x,o.y2-i[s-1].y,o.x-i[s-1].x,o.y-i[s-1].y],a[a.length-1].deltas.push(r);break;case"qct":var c=i[s-1].x+2/3*(o.x1-i[s-1].x),u=i[s-1].y+2/3*(o.y1-i[s-1].y),d=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),m=o.x,g=o.y;r=[c-i[s-1].x,u-i[s-1].y,d-i[s-1].x,h-i[s-1].y,m-i[s-1].x,g-i[s-1].y],a[a.length-1].deltas.push(r);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}n=t?null:"stroke"===e?"stroke":"fill";for(var y=!1,v=0;v<a.length;v++)if(a[v].arc)for(var b=a[v].abs,x=0;x<b.length;x++){var w=b[x];"arc"===w.type?S.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!y):O.call(this,w.x,w.y),y=!0}else if(!0===a[v].close)this.pdf.internal.out("h"),y=!1;else if(!0!==a[v].begin){var N=a[v].start.x,_=a[v].start.y;P.call(this,a[v].deltas,N,_),y=!0}n&&j.call(this,n),t&&k.call(this)}},N=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},_=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(e,t,r,n,a,i,s,o,l){for(var c=L.call(this,r,n,a,i),u=0;u<c.length;u++){var d=c[u];0===u&&(l?A.call(this,d.x1+e,d.y1+t):O.call(this,d.x1+e,d.y1+t)),E.call(this,e,t,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}o?k.call(this):j.call(this,s)},j=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(e,t){this.pdf.internal.out(r(e)+" "+n(t)+" m")},C=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var r=this.pdf.getTextDimensions(e.text),n=N.call(this,e.y),a=_.call(this,n)-r.h,i=this.ctx.transform.applyToPoint(new s(e.x,n)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var d,h,f,p=this.ctx.transform.applyToRectangle(new o(e.x,n,r.w,r.h)),y=u.applyToRectangle(new o(e.x,a,r.w,r.h)),x=g.call(this,y),S=[],j=0;j<x.length;j+=1)-1===S.indexOf(x[j])&&S.push(x[j]);if(b(S),this.autoPaging)for(var k=S[0],A=S[S.length-1],C=k;C<A+1;C++){this.pdf.setPage(C);var O=1===C?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[2],L=E-this.margin[0],T=this.pdf.internal.pageSize.width-this.margin[1],D=T-this.margin[3],I=1===C?0:P+(C-2)*L;if(0!==this.ctx.clip_path.length){var R=this.path;d=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(d,this.posX+this.margin[3],-1*I+O),w.call(this,"fill",!0),this.path=R}var M=v([JSON.parse(JSON.stringify(y))],this.posX+this.margin[3],-I+O+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var F="text"!==this.autoPaging;if(F||M.y+M.h<=E){if(F||M.y>=O&&M.x<=T){var B=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||T-M.x)[0],z=v([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-I+O+this.ctx.prevPageLastElemOffset)[0],U=F&&(C>k||C<A)&&m.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],D,L,null).clip().discardPath()),this.pdf.text(B,z.x,z.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else M.y<E&&(this.ctx.prevPageLastElemOffset+=E-M.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,i.x+this.posX,i.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)},O=function(e,t,a,i){a=a||0,i=i||0,this.pdf.internal.out(r(e+a)+" "+n(t+i)+" l")},P=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},E=function(e,r,n,s,o,l,c,u){this.pdf.internal.out([t(a(n+e)),t(i(s+r)),t(a(o+e)),t(i(l+r)),t(a(c+e)),t(i(u+r)),"c"].join(" "))},L=function(e,t,r,n){for(var a=2*Math.PI,i=Math.PI/2;t>r;)t-=a;var s=Math.abs(r-t);s<a&&n&&(s=a-s);for(var o=[],l=n?-1:1,c=t;s>1e-5;){var u=c+l*Math.min(s,i);o.push(T.call(this,e,c,u)),s-=Math.abs(u-c),c=u}return o},T=function(e,t,r){var n=(r-t)/2,a=e*Math.cos(n),i=e*Math.sin(n),s=a,o=-i,l=s*s+o*o,c=l+s*a+o*i,u=4/3*(Math.sqrt(2*l*c)-c)/(s*i-o*a),d=s-u*o,h=o+u*s,f=d,p=-h,m=n+t,g=Math.cos(m),y=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*g-h*y,y2:d*y+h*g,x3:f*g-p*y,y3:f*y+p*g,x4:e*Math.cos(r),y4:e*Math.sin(r)}},D=function(e){return 180*e/Math.PI},I=function(e,t,r,n,a,i){var s=e+.5*(r-e),l=t+.5*(n-t),c=a+.5*(r-a),u=i+.5*(n-i),d=Math.min(e,a,s,c),h=Math.max(e,a,s,c),f=Math.min(t,i,l,u),p=Math.max(t,i,l,u);return new o(d,f,h-d,p-f)},R=function(e,t,r,n,a,i,s,l){var c,u,d,h,f,p,m,g,y,v,b,x,w,N,_=r-e,S=n-t,j=a-r,k=i-n,A=s-a,C=l-i;for(u=0;u<41;u++)y=(m=(d=e+(c=u/40)*_)+c*((f=r+c*j)-d))+c*(f+c*(a+c*A-f)-m),v=(g=(h=t+c*S)+c*((p=n+c*k)-h))+c*(p+c*(i+c*C-p)-g),0==u?(b=y,x=v,w=y,N=v):(b=Math.min(b,y),x=Math.min(x,v),w=Math.max(w,y),N=Math.max(N,v));return new o(Math.round(b),Math.round(x),Math.round(w-b),Math.round(N-x))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,r=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r)}}}(lL.API),function(e){var t=function(e){var t,r,n,a,i,s,o,l,c,u;for(/[^\x00-\xFF]/.test(e),r=[],n=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>n;n+=4)0!==(i=(e.charCodeAt(n)<<24)+(e.charCodeAt(n+1)<<16)+(e.charCodeAt(n+2)<<8)+e.charCodeAt(n+3))?(s=(i=((i=((i=((i=(i-(u=i%85))/85)-(c=i%85))/85)-(l=i%85))/85)-(o=i%85))/85)%85,r.push(s+33,o+33,l+33,c+33,u+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},r=function(e){var t,r,n,a,i,s=String,o="length",l=255,c="charCodeAt",u="slice",d="replace";for(e[u](-2),e=e[u](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),n=[],a=0,i=(e+=t="uuuuu"[u](e[o]%5||5))[o];i>a;a+=5)r=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),n.push(l&r>>24,l&r>>16,l&r>>8,l&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(n,t[o]),s.fromCharCode.apply(s,n)},n=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",n=0;n<e.length;n+=2)r+=String.fromCharCode("0x"+(e[n]+e[n+1]));return r},a=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return(t=kE(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var s=0,o=e||"",l=[];for("string"==typeof(i=i||[])&&(i=[i]),s=0;s<i.length;s+=1)switch(i[s]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=a(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[s]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(lL.API),(fT=lL.API).loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var n=void 0;try{n=function(e,t,r){var n=new XMLHttpRequest,a=0,i=function(e){var t=e.length,r=[],n=String.fromCharCode;for(a=0;a<t;a+=1)r.push(n(255&e.charCodeAt(a)));return r.join("")};if(n.open("GET",e,!t),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(n.onload=function(){200===n.status?r(i(this.responseText)):r(void 0)}),n.send(null),t&&200===n.status)return i(n.responseText)}(e,t,r)}catch(e){}return n}(e,t,r)},fT.loadImageFile=fT.loadFile,function(e){function t(){return(OE.html2canvas?Promise.resolve(OE.html2canvas):r.e(239).then(r.t.bind(r,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function n(){return(OE.DOMPurify?Promise.resolve(OE.DOMPurify):r.e(977).then(r.bind(r,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,LP.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var r=document.createElement(e);for(var n in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[n]=t.style[n];return r},s=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),n=e.convert(Promise.resolve(),r);return(n=n.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(n).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,r){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==r&&1===a.nodeType&&"SCRIPT"===a.nodeName||n.appendChild(e(a,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value),n.addEventListener("load",function(){n.scrollTop=t.scrollTop,n.scrollLeft=t.scrollLeft},!0)),n}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,n="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:n,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var i=0;i<r.length;++i){var s=r[i],o=s.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,s.ref.name,s.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},s.prototype.get=function(e,t){return this.then(function(){var r=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(r):r})},s.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||lL.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},s.prototype.setProgress=function(e,t,r,n){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,r,n){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,n?this.progress.stack.concat(n):null)},s.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return r.updateProgress(null,e),t}).then(e,t).then(function(e){return r.updateProgress(1),e})})},s.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var n=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),a=r.call(n,e,t);return s.convert(a,this.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then(function(){throw new Error(e)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lL.getPageSize=function(e,t,r){if("object"===(0,LP.A)(e)){var n=e;e=n.orientation,t=n.unit||t,r=n.format||r}t=t||"mm",r=r||"a4",e=(""+(e||"P")).toLowerCase();var a,i=(""+r).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(s.hasOwnProperty(i))l=s[i][1]/a,c=s[i][0]/a;else try{l=r[1],c=r[0]}catch(fT){throw new Error("Invalid format: "+r)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(rT):null;var r=new s(t);return t.worker?r:r.from(e).doCallback()}}(lL.API),lL.API.addJS=function(e){return hT=e,this.internal.events.subscribe("postPutResources",function(){uT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uT+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==uT&&void 0!==dT&&this.internal.out("/Names <</JavaScript "+uT+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),a=0;a<n.length;a++){var i=n[a],s=r.exec(i);if(null!=s){var o=s[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var u=e.internal.newObject();c.push(u);var d=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var n={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(n),n},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var a=t.children[n];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),n>0&&this.line("/Prev "+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[n+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var i=this.count=this.count_r({count:0},a);if(i>0&&this.line("/Count "+i),a.options&&a.options.pageNumber){var s=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}])}(lL.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,r,n,a,i,s){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var r,n=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,i={width:0,height:0,numcomponents:1},s=4;s<a;s+=2){if(s+=n,-1!==t.indexOf(e.charCodeAt(s+1))){r=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),i={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:r,numcomponents:e.charCodeAt(s+9)};break}n=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:s,bitsPerComponent:8,filter:l,index:r,alias:n}}return c}}(lL.API);var mT,gT,yT,vT,bT,xT=function(){var e,t,r;function n(e){var t,r,n,a,i,s,o,l,c,u,d,h,f,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),a=this.readUInt16()||100,s.delay=1e3*i/a,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=s?s.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((u=n-this.transparency.indexed.length)>0)for(f=0;0<=u?f<u:f>u;0<=u?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":o=(d=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,d.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,d.slice(o+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.data[this.pos++]);return r},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,r=new Uint8Array(this.width*this.height*t),n=0,a=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function i(i,s,o,l){var c,u,d,h,f,p,m,g,y,v,b,x,w,N,_,S,j,k,A,C,O,P=Math.ceil((a.width-i)/o),E=Math.ceil((a.height-s)/l),L=a.width==P&&a.height==E;for(N=t*P,x=L?r:new Uint8Array(N*E),p=e.length,w=0,u=0;w<E&&n<p;){switch(e[n++]){case 0:for(h=j=0;j<N;h=j+=1)x[u++]=e[n++];break;case 1:for(h=k=0;k<N;h=k+=1)c=e[n++],f=h<t?0:x[u-t],x[u++]=(c+f)%256;break;case 2:for(h=A=0;A<N;h=A+=1)c=e[n++],d=(h-h%t)/t,_=w&&x[(w-1)*N+d*t+h%t],x[u++]=(_+c)%256;break;case 3:for(h=C=0;C<N;h=C+=1)c=e[n++],d=(h-h%t)/t,f=h<t?0:x[u-t],_=w&&x[(w-1)*N+d*t+h%t],x[u++]=(c+Math.floor((f+_)/2))%256;break;case 4:for(h=O=0;O<N;h=O+=1)c=e[n++],d=(h-h%t)/t,f=h<t?0:x[u-t],0===w?_=S=0:(_=x[(w-1)*N+d*t+h%t],S=d&&x[(w-1)*N+(d-1)*t+h%t]),m=f+_-S,g=Math.abs(m-f),v=Math.abs(m-_),b=Math.abs(m-S),y=g<=v&&g<=b?f:v<=b?_:S,x[u++]=(c+y)%256;break;default:throw new Error("Invalid filter algorithm: "+e[n-1])}if(!L){var T=((s+w*l)*a.width+i)*t,D=w*N;for(h=0;h<P;h+=1){for(var I=0;I<t;I+=1)r[T++]=x[D++];T+=(o-1)*t}}w++}}return e=AE(e),1==a.interlaceMethod?(i(0,0,8,8),i(4,0,8,8),i(0,4,4,8),i(2,0,4,4),i(0,2,2,4),i(1,0,2,2),i(0,1,1,2)):i(0,0,1,1),r},n.prototype.decodePalette=function(){var e,t,r,n,a,i,s,o,l;for(r=this.palette,i=this.transparency.indexed||[],a=new Uint8Array((i.length||0)+r.length),n=0,e=0,t=s=0,o=r.length;s<o;t=s+=3)a[n++]=r[t],a[n++]=r[t+1],a[n++]=r[t+2],a[n++]=null!=(l=i[e++])?l:255;return a},n.prototype.copyToImageData=function(e,t){var r,n,a,i,s,o,l,c,u,d,h;if(n=this.colors,u=null,r=this.hasAlphaChannel,this.palette.length&&(u=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),n=4,r=!0),c=(a=e.data||e).length,s=u||t,i=o=0,1===n)for(;i<c;)l=u?4*t[i/4]:o,d=s[l++],a[i++]=d,a[i++]=d,a[i++]=d,a[i++]=r?s[l++]:255,o=l;else for(;i<c;)l=u?4*t[i/4]:o,a[i++]=s[l++],a[i++]=s[l++],a[i++]=s[l++],a[i++]=r?s[l++]:255,o=l},n.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var a=function(){if("[object Window]"===Object.prototype.toString.call(OE)){try{t=OE.document.createElement("canvas"),r=t.getContext("2d")}catch(e){return!1}return!0}return!1};return a(),e=function(e){var n;if(!0===a())return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),(n=new Image).src=t.toDataURL(),n;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(t){var r,n,a,i,s,o,l,c;if(this.animation){for(c=[],n=s=0,o=(l=this.animation.frames).length;s<o;n=++s)r=l[n],a=t.createImageData(r.width,r.height),i=this.decodePixels(new Uint8Array(r.data)),this.copyToImageData(a,i),r.imageData=a,c.push(r.image=e(a));return c}},n.prototype.renderFrame=function(e,t){var r,n,a;return r=(n=this.animation.frames)[t],a=n[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=a?a.disposeOp:void 0)?e.clearRect(a.xOffset,a.yOffset,a.width,a.height):2===(null!=a?a.disposeOp:void 0)&&e.putImageData(a.imageData,a.xOffset,a.yOffset),0===r.blendOp&&e.clearRect(r.xOffset,r.yOffset,r.width,r.height),e.drawImage(r.image,r.xOffset,r.yOffset)},n.prototype.animate=function(e){var t,r,n,a,i,s,o=this;return r=0,s=this.animation,a=s.numFrames,n=s.frames,i=s.numPlays,(t=function(){var s,l;if(s=r++%a,l=n[s],o.renderFrame(e,s),a>1&&r/a<i)return o.animation._timeout=setTimeout(t,l.delay)})()},n.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},n.prototype.render=function(e){var t,r;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(r=t.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),t.putImageData(r,0,0))},n}();function wT(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],d=0,h=null,f=0,p=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],0==(1&m)&&(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++],w=x>>6&1,N=1<<1+(7&x),_=o,S=l,j=!1;x>>7&&(j=!0,_=t,S=N,t+=3*N);var k=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}u.push({x:g,y:y,width:v,height:b,has_local_palette:j,palette_offset:_,palette_size:S,data_offset:k,data_length:t-k,transparent_index:h,interlaced:!!w,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=u.length)throw new Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,n){var a=this.frameInfo(t),i=a.width*a.height,s=new Uint8Array(i);NT(e,a.data_offset,s,i);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,u=r-c,d=c,h=4*(a.y*r+a.x),f=4*((a.y+a.height)*r+a.x),p=h,m=4*u;!0===a.interlaced&&(m+=4*r*7);for(var g=8,y=0,v=s.length;y<v;++y){var b=s[y];if(0===d&&(d=c,(p+=m)>=f&&(m=4*u+4*r*(g-1),p=h+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var x=e[o+3*b],w=e[o+3*b+1],N=e[o+3*b+2];n[p++]=N,n[p++]=w,n[p++]=x,n[p++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,n){var a=this.frameInfo(t),i=a.width*a.height,s=new Uint8Array(i);NT(e,a.data_offset,s,i);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,u=r-c,d=c,h=4*(a.y*r+a.x),f=4*((a.y+a.height)*r+a.x),p=h,m=4*u;!0===a.interlaced&&(m+=4*r*7);for(var g=8,y=0,v=s.length;y<v;++y){var b=s[y];if(0===d&&(d=c,(p+=m)>=f&&(m=4*u+4*r*(g-1),p=h+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var x=e[o+3*b],w=e[o+3*b+1],N=e[o+3*b+2];n[p++]=x,n[p++]=w,n[p++]=N,n[p++]=255}--d}}}function NT(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,d=0,h=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;u<16&&0!==f;)d|=e[t++]<<u,u+=8,1===f?f=e[t++]:--f;if(u<l)break;var g=d&c;if(d>>=l,u-=l,g!==i){if(g===s)break;for(var y=g<o?g:m,v=0,b=y;b>i;)b=p[b]>>8,++v;var x=b;if(h+v+(y!==g?1:0)>n)return void EE.log("Warning, gif stream longer than expected.");r[h++]=x;var w=h+=v;for(y!==g&&(r[h++]=x),b=y;v--;)b=p[b],r[--w]=255&b,b>>=8;null!==m&&o<4096&&(p[o++]=m<<8|x,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&EE.log("Warning, gif stream shorter than expected."),r}function _T(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,y=7,v=new Array(64),b=new Array(64),x=new Array(64),w=new Array(256),N=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],E=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(e,t){for(var r=0,n=0,a=new Array,i=1;i<=16;i++){for(var s=1;s<=e[i];s++)a[t[n]]=[],a[t[n]][0]=r,a[t[n]][1]=i,n++,r++;r*=2}return a}function T(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(g|=1<<y),r--,--y<0&&(255==g?(D(255),D(0)):D(g),y=7,g=0)}function D(e){m.push(e)}function I(e){D(e>>8&255),D(255&e)}function R(e,t,r,n,a){for(var i,s=a[0],o=a[240],l=function(e,t){var r,n,a,i,s,o,l,c,u,d,h=0;for(u=0;u<8;++u){r=e[h],n=e[h+1],a=e[h+2],i=e[h+3],s=e[h+4],o=e[h+5],l=e[h+6];var p=r+(c=e[h+7]),m=r-c,g=n+l,y=n-l,v=a+o,b=a-o,x=i+s,w=i-s,N=p+x,_=p-x,S=g+v,j=g-v;e[h]=N+S,e[h+4]=N-S;var k=.707106781*(j+_);e[h+2]=_+k,e[h+6]=_-k;var A=.382683433*((N=w+b)-(j=y+m)),C=.5411961*N+A,O=1.306562965*j+A,P=.707106781*(S=b+y),E=m+P,L=m-P;e[h+5]=L+C,e[h+3]=L-C,e[h+1]=E+O,e[h+7]=E-O,h+=8}for(h=0,u=0;u<8;++u){r=e[h],n=e[h+8],a=e[h+16],i=e[h+24],s=e[h+32],o=e[h+40],l=e[h+48];var T=r+(c=e[h+56]),D=r-c,I=n+l,R=n-l,M=a+o,F=a-o,B=i+s,z=i-s,U=T+B,q=T-B,$=I+M,W=I-M;e[h]=U+$,e[h+32]=U-$;var H=.707106781*(W+q);e[h+16]=q+H,e[h+48]=q-H;var K=.382683433*((U=z+F)-(W=R+D)),V=.5411961*U+K,G=1.306562965*W+K,Y=.707106781*($=F+R),J=D+Y,X=D-Y;e[h+40]=X+V,e[h+24]=X-V,e[h+8]=J+G,e[h+56]=J-G,h++}for(u=0;u<64;++u)d=e[u]*t[u],f[u]=d>0?d+.5|0:d-.5|0;return f}(e,t),c=0;c<64;++c)p[_[c]]=l[c];var u=p[0]-r;r=p[0],0==u?T(n[0]):(T(n[h[i=32767+u]]),T(d[i]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return T(s),r;for(var g,y=1;y<=m;){for(var v=y;0==p[y]&&y<=m;)++y;var b=y-v;if(b>=16){g=b>>4;for(var x=1;x<=g;++x)T(o);b&=15}i=32767+p[y],T(a[(b<<4)+h[i]]),T(d[i]),y++}return 63!=m&&T(s),r}function M(e){e=Math.min(Math.max(e,1),100),i!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=s((t[r]*e+50)/100);n=Math.min(Math.max(n,1),255),o[_[r]]=n}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var d=s((a[i]*e+50)/100);d=Math.min(Math.max(d,1),255),l[_[i]]=d}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)c[f]=1/(o[_[f]]*h[p]*h[m]*8),u[f]=1/(l[_[f]]*h[p]*h[m]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){i&&M(i),m=new Array,g=0,y=7,I(65496),I(65504),I(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),I(1),I(1),D(0),D(0),function(){I(65499),I(132),D(0);for(var e=0;e<64;e++)D(o[e]);D(1);for(var t=0;t<64;t++)D(l[t])}(),function(e,t){I(65472),I(17),D(8),I(t),I(e),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(e.width,e.height),function(){I(65476),I(418),D(0);for(var e=0;e<16;e++)D(S[e+1]);for(var t=0;t<=11;t++)D(j[t]);D(16);for(var r=0;r<16;r++)D(k[r+1]);for(var n=0;n<=161;n++)D(A[n]);D(1);for(var a=0;a<16;a++)D(C[a+1]);for(var i=0;i<=11;i++)D(O[i]);D(17);for(var s=0;s<16;s++)D(P[s+1]);for(var o=0;o<=161;o++)D(E[o])}(),I(65498),I(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var s=0,d=0,h=0;g=0,y=7,this.encode.displayName="_encode_";for(var f,p,w,_,L,F,B,z,U,q=e.data,$=e.width,W=e.height,H=4*$,K=0;K<W;){for(f=0;f<H;){for(L=H*K+f,B=-1,z=0,U=0;U<64;U++)F=L+(z=U>>3)*H+(B=4*(7&U)),K+z>=W&&(F-=H*(K+1+z-W)),f+B>=H&&(F-=f+B-H+4),p=q[F++],w=q[F++],_=q[F++],v[U]=(N[p]+N[w+256|0]+N[_+512|0]>>16)-128,b[U]=(N[p+768|0]+N[w+1024|0]+N[_+1280|0]>>16)-128,x[U]=(N[p+1280|0]+N[w+1536|0]+N[_+1792|0]>>16)-128;s=R(v,c,s,t,n),d=R(b,u,d,r,a),h=R(x,u,h,r,a),f+=32}K+=8}if(y>=0){var V=[];V[1]=y+1,V[0]=(1<<y+1)-1,T(V)}return I(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=L(S,j),r=L(C,O),n=L(k,A),a=L(P,E),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)h[32767+n]=r,d[32767+n]=[],d[32767+n][1]=r,d[32767+n][0]=n;for(var a=-(t-1);a<=-e;a++)h[32767+a]=r,d[32767+a]=[],d[32767+a][1]=r,d[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)N[e]=19595*e,N[e+256|0]=38470*e,N[e+512|0]=7471*e+32768,N[e+768|0]=-11059*e,N[e+1024|0]=-21709*e,N[e+1280|0]=32768*e+8421375,N[e+1536|0]=-27439*e,N[e+1792|0]=-5329*e}(),M(e)}function ST(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jT(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function n(e,t,r,n,a){for(var i=0;i<a;i++)e[t+i]=r[n+i]}function a(e,t,r,n){for(var a=0;a<n;a++)e[t+a]=r}function i(e){return new Int32Array(e)}function s(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function o(e,t){var r=[];return function e(r,n,a){for(var i=a[n],s=0;s<i&&(r.push(a.length>n+1?[]:new t),!(a.length<n+1));s++)e(r[s],n+1,a)}(r,0,e),r}var l=function(){var e=this;function l(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function c(e,r,n,a,i){t(!(a%n));do{e[r+(a-=n)]=i}while(0<a)}function u(e,r,n,a,s){if(t(2328>=s),512>=s)var o=i(512);else if(null==(o=i(s)))return 0;return function(e,r,n,a,s,o){var u,h,f=r,p=1<<n,m=i(16),g=i(16);for(t(0!=s),t(null!=a),t(null!=e),t(0<n),h=0;h<s;++h){if(15<a[h])return 0;++m[a[h]]}if(m[0]==s)return 0;for(g[1]=0,u=1;15>u;++u){if(m[u]>1<<u)return 0;g[u+1]=g[u]+m[u]}for(h=0;h<s;++h)u=a[h],0<a[h]&&(o[g[u]++]=h);if(1==g[15])return(a=new d).g=0,a.value=o[0],c(e,f,1,p,a),p;var y,v=-1,b=p-1,x=0,w=1,N=1,_=1<<n;for(h=0,u=1,s=2;u<=n;++u,s<<=1){if(w+=N<<=1,0>(N-=m[u]))return 0;for(;0<m[u];--m[u])(a=new d).g=u,a.value=o[h++],c(e,f+x,s,_,a),x=l(x,u)}for(u=n+1,s=2;15>=u;++u,s<<=1){if(w+=N<<=1,0>(N-=m[u]))return 0;for(;0<m[u];--m[u]){if(a=new d,(x&b)!=v){for(f+=_,y=1<<(v=u)-n;15>v&&!(0>=(y-=m[v]));)++v,y<<=1;p+=_=1<<(y=v-n),e[r+(v=x&b)].g=y+n,e[r+v].value=f-r-v}a.g=u-n,a.value=o[h++],c(e,f+(x>>n),s,_,a),x=l(x,u)}}return w!=2*g[15]-1?0:p}(e,r,n,a,s,o)}function d(){this.value=this.g=0}function h(){this.value=this.g=0}function f(){this.G=s(5,d),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Fr,h)}function p(e,r,n,a){t(null!=e),t(null!=r),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=n,e.Jd=r,e.Yc=n+a,e.Zc=4<=a?n+a-4+1:n,k(e)}function m(e,t){for(var r=0;0<t--;)r|=C(e,128)<<t;return r}function g(e,t){var r=m(e,t);return A(e)?-r:r}function y(e,r,n,a){var i,s=0;for(t(null!=e),t(null!=r),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),i=0;i<a;++i)s+=r[n+i]<<8*i;e.Ra=s,e.bb=a,e.oa=r,e.pa=n}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Ur-8>>>0,++e.bb,e.u-=8;_(e)&&(e.h=1,e.u=0)}function b(e,r){if(t(0<=r),!e.h&&r<=zr){var n=N(e)&Br[r];return e.u+=r,v(e),n}return e.h=1,e.u=0}function x(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function N(e){return e.Ra>>>(e.u&Ur-1)>>>0}function _(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Ur}function S(e,t){e.u=t,e.h=_(e)}function j(e){e.u>=qr&&(t(e.u>=qr),v(e))}function k(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return m(e,1)}function C(e,t){var r=e.Ca;0>e.b&&k(e);var n=e.b,a=r*t>>>8,i=(e.I>>>n>a)+0;for(i?(r-=a,e.I-=a+1<<n>>>0):r=a+1,n=r,a=0;256<=n;)a+=8,n>>=8;return n=7^a+$r[n],e.b-=n,e.Ca=(r<<n)-1,i}function O(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function P(e,t){return e[t+0]|e[t+1]<<8}function E(e,t){return P(e,t)|e[t+2]<<16}function L(e,t){return P(e,t)|P(e,t+2)<<16}function T(e,r){var n=1<<r;return t(null!=e),t(0<r),e.X=i(n),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function D(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),n(r.X,0,e.X,0,1<<r.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function R(e,r,n,a){t(null!=n),t(null!=a);var i=n[0],s=a[0];return 0==i&&(i=(e*s+r/2)/r),0==s&&(s=(r*i+e/2)/e),0>=i||0>=s?0:(n[0]=i,a[0]=s,1)}function M(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,r){e[r]=function(r,n,a,i,s,o,l){var c;for(c=0;c<s;++c){var u=e[t](o[l+c-1],a,i+c);o[l+c]=F(r[n+c],u)}}}function z(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function $(e,t){return q(e+(e-t+.5>>1))}function W(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function H(e,t,r,n,a,i,s){for(n=i[s-1],r=0;r<a;++r)i[s+r]=n=F(e[t+r],n)}function K(e,t,r,n,a){var i;for(i=0;i<r;++i){var s=e[t+i],o=s>>8&255,l=16711935&(l=(l=16711935&s)+((o<<16)+o));n[a+i]=(4278255360&s)+l>>>0}}function V(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,r,n,a,i){var s;for(s=0;s<n;++s){var o=t[r+s],l=o>>>8,c=o,u=255&(u=(u=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(u<<24>>24)>>>5)),a[i+s]=(4278255360&o)+(u<<16)+c}}function Y(t,r,n,a,i){e[r]=function(e,t,r,n,s,o,l,c,u){for(n=l;n<c;++n)for(l=0;l<u;++l)s[o++]=i(r[a(e[t++])])},e[t]=function(t,r,s,o,l,c,u){var d=8>>t.b,h=t.Ea,f=t.K[0],p=t.w;if(8>d)for(t=(1<<t.b)-1,p=(1<<d)-1;r<s;++r){var m,g=0;for(m=0;m<h;++m)m&t||(g=a(o[l++])),c[u++]=i(f[g&p]),g>>=d}else e["VP8LMapColor"+n](o,l,f,p,c,u,r,s,h)}}function J(e,t,r,n,a){for(r=t+r;t<r;){var i=e[t++];n[a++]=i>>16&255,n[a++]=i>>8&255,n[a++]=255&i}}function X(e,t,r,n,a){for(r=t+r;t<r;){var i=e[t++];n[a++]=i>>16&255,n[a++]=i>>8&255,n[a++]=255&i,n[a++]=i>>24&255}}function Q(e,t,r,n,a){for(r=t+r;t<r;){var i=(s=e[t++])>>16&240|s>>12&15,s=240&s|s>>28&15;n[a++]=i,n[a++]=s}}function Z(e,t,r,n,a){for(r=t+r;t<r;){var i=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;n[a++]=i,n[a++]=s}}function ee(e,t,r,n,a){for(r=t+r;t<r;){var i=e[t++];n[a++]=255&i,n[a++]=i>>8&255,n[a++]=i>>16&255}}function te(e,t,r,a,i,s){if(0==s)for(r=t+r;t<r;)O(a,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),i+=32;else n(a,i,e,t,r)}function re(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ne(e){return e==$n||e==Wn||e==Hn||e==Kn}function ae(){this.eb=[],this.size=this.A=this.fb=0}function ie(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new ie,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ue(e,t){var r=e.T,a=t.ba.f.RGBA,i=a.eb,s=a.fb+e.ka*a.A,o=ya[t.ba.S],l=e.y,c=e.O,u=e.f,d=e.N,h=e.ea,f=e.W,p=t.cc,m=t.dc,g=t.Mc,y=t.Nc,v=e.ka,b=e.ka+e.T,x=e.U,w=x+1>>1;for(0==v?o(l,c,null,null,u,d,h,f,u,d,h,f,i,s,null,null,x):(o(t.ec,t.fc,l,c,p,m,g,y,u,d,h,f,i,s-a.A,i,s,x),++r);v+2<b;v+=2)p=u,m=d,g=h,y=f,d+=e.Rc,f+=e.Rc,s+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,p,m,g,y,u,d,h,f,i,s-a.A,i,s,x);return c+=e.fa,e.j+b<e.o?(n(t.ec,t.fc,l,c,x),n(t.cc,t.dc,u,d,w),n(t.Mc,t.Nc,h,f,w),r--):1&b||o(l,c,null,null,u,d,h,f,u,d,h,f,i,s+a.A,null,null,x),r}function de(e,r,n){var a=e.F,i=[e.J];if(null!=a){var s=e.U,o=r.ba.S,l=o==zn||o==Hn;r=r.ba.f.RGBA;var c=[0],u=e.ka;c[0]=e.T,e.Kb&&(0==u?--c[0]:(--u,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-u));var d=r.eb;u=r.fb+u*r.A,e=jn(a,i[0],e.width,s,c,d,u+(l?0:3),r.A),t(n==c),e&&ne(o)&&_n(d,u,l,s,c,r.A)}return 0}function he(e){var t=e.ma,r=t.ba.S,n=11>r,a=r==Mn||r==Bn||r==zn||r==Un||12==r||ne(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Ir(t.Oa,e,a?11:12))return 0;if(a&&ne(r)&&vr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=ce,e.Kb){if(r=e.U+1>>1,t.memory=i(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=ue,vr()}}else alert("todo:EmitYUV");a&&(t.Jb=de,n&&gr())}if(n&&!Ea){for(e=0;256>e;++e)La[e]=89858*(e-128)+ka>>ja,Ia[e]=-22014*(e-128)+ka,Da[e]=-45773*(e-128),Ta[e]=113618*(e-128)+ka>>ja;for(e=Aa;e<Ca;++e)t=76283*(e-16)+ka>>ja,Ra[e-Aa]=He(t,255),Ma[e-Aa]=He(t+8>>4,15);Ea=1}return 1}function fe(e){var r=e.ma,n=e.U,a=e.T;return t(!(1&e.ka)),0>=n||0>=a?0:(n=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,n),r.Dc+=n,1)}function pe(e){e.ma.memory=null}function me(e,t,r,n){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,r[0]=b(e,14)+1,n[0]=b(e,1),0!=b(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+b(t,r)+1}function ye(e,t){return 120<t?t-120:1<=(r=((r=Qn[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function ve(e,t,r){var n=N(r),a=e[t+=255&n].g-8;return 0<a&&(S(r,r.u+8),n=N(r),t+=e[t].value,t+=n&(1<<a)-1),S(r,r.u+e[t].g),e[t].value}function be(e,r,n){return n.g+=e.g,n.value+=e.value<<r>>>0,t(8>=n.g),e.g}function xe(e,r,n){var a=e.xc;return t((r=0==a?0:e.vc[e.md*(n>>a)+(r>>a)])<e.Wb),e.Ya[r]}function we(e,r,a,i){var s=e.ab,o=e.c*r,l=e.C;r=l+r;var c=a,u=i;for(i=e.Ta,a=e.Ua;0<s--;){var d=e.gc[s],h=l,f=r,p=c,m=u,g=(u=i,c=a,d.Ea);switch(t(h<f),t(f<=d.nc),d.hc){case 2:Kr(p,m,(f-h)*g,u,c);break;case 0:var y=h,v=f,b=u,x=c,w=(k=d).Ea;0==y&&(Wr(p,m,null,null,1,b,x),H(p,m+1,0,0,w-1,b,x+1),m+=w,x+=w,++y);for(var N=1<<k.b,_=N-1,S=M(w,k.b),j=k.K,k=k.w+(y>>k.b)*S;y<v;){var A=j,C=k,O=1;for(Hr(p,m,b,x-w,1,b,x);O<w;){var P=(O&~_)+N;P>w&&(P=w),(0,Xr[A[C++]>>8&15])(p,m+ +O,b,x+O-w,P-O,b,x+O),O=P}m+=w,x+=w,++y&_||(k+=S)}f!=d.nc&&n(u,c-g,u,c+(f-h-1)*g,g);break;case 1:for(g=p,v=m,w=(p=d.Ea)-(x=p&~(b=(m=1<<d.b)-1)),y=M(p,d.b),N=d.K,d=d.w+(h>>d.b)*y;h<f;){for(_=N,S=d,j=new z,k=v+x,A=v+p;v<k;)V(_[S++],j),Qr(j,g,v,m,u,c),v+=m,c+=m;v<A&&(V(_[S++],j),Qr(j,g,v,w,u,c),v+=w,c+=w),++h&b||(d+=y)}break;case 3:if(p==u&&m==c&&0<d.b){for(v=u,p=g=c+(f-h)*g-(x=(f-h)*M(d.Ea,d.b)),m=u,b=c,y=[],x=(w=x)-1;0<=x;--x)y[x]=m[b+x];for(x=w-1;0<=x;--x)v[p+x]=y[x];Vr(d,h,f,u,g,u,c)}else Vr(d,h,f,p,m,u,c)}c=i,u=a}u!=a&&n(i,a,c,u,o)}function Ne(e,r){var n=e.V,a=e.Ba+e.c*e.C,i=r-e.C;if(t(r<=e.l.o),t(16>=i),0<i){var s=e.l,o=e.Ta,l=e.Ua,c=s.width;if(we(e,i,n,a),i=l=[l],t((n=e.C)<(a=r)),t(s.v<s.va),a>s.o&&(a=s.o),n<s.j){var u=s.j-n;n=s.j,i[0]+=u*c}if(n>=a?n=0:(i[0]+=4*s.v,s.ka=n-s.j,s.U=s.va-s.v,s.T=a-n,n=1),n){if(l=l[0],11>(n=e.ca).S){var d=n.f.RGBA,h=(a=n.S,i=s.U,s=s.T,u=d.eb,d.A),f=s;for(d=d.fb+e.Ma*d.A;0<f--;){var p=o,m=l,g=i,y=u,v=d;switch(a){case Rn:Zr(p,m,g,y,v);break;case Mn:en(p,m,g,y,v);break;case $n:en(p,m,g,y,v),_n(y,v,0,g,1,0);break;case Fn:nn(p,m,g,y,v);break;case Bn:te(p,m,g,y,v,1);break;case Wn:te(p,m,g,y,v,1),_n(y,v,0,g,1,0);break;case zn:te(p,m,g,y,v,0);break;case Hn:te(p,m,g,y,v,0),_n(y,v,1,g,1,0);break;case Un:tn(p,m,g,y,v);break;case Kn:tn(p,m,g,y,v),Sn(y,v,g,1,0);break;case qn:rn(p,m,g,y,v);break;default:t(0)}l+=c,d+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=n.height)}}e.C=r,t(e.C<=e.i)}function _e(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function Se(e,r,n,a,i,s){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=ga[e.Z]);r<n;++r)ga[e.Z](o,l,a,i,a,i,s),o=a,l=i,i+=s;e.qd=o,e.rd=l}}function je(e,r){var n=e.l.ma,a=0==n.Z||1==n.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(r<=e.l.o),r>a){var i=e.l.width,s=n.ca,o=n.tb+i*a,l=e.V,c=e.Ba+e.c*a,u=e.gc;t(1==e.ab),t(3==u[0].hc),Yr(u[0],a,r,l,c,s,o),Se(n,a,r,s,o,i)}e.C=e.Ma=r}function ke(e,r,n,a,i,s,o){var l=e.$/a,c=e.$%a,u=e.m,d=e.s,h=n+e.$,f=h;i=n+a*i;var p=n+a*s,m=280+d.ua,g=e.Pb?l:16777216,y=0<d.ua?d.Wa:null,v=d.wc,b=h<p?xe(d,c,l):null;t(e.C<s),t(p<=i);var x=!1;e:for(;;){for(;x||h<p;){var w=0;if(l>=g){var k=h-n;t((g=e).Pb),g.wd=g.m,g.xd=k,0<g.s.ua&&D(g.s.Wa,g.s.vb),g=l+ea}if(c&v||(b=xe(d,c,l)),t(null!=b),b.Qb&&(r[h]=b.qb,x=!0),!x)if(j(u),b.jc){w=u,k=r;var A=h,C=b.pd[N(w)&Fr-1];t(b.jc),256>C.g?(S(w,w.u+C.g),k[A]=C.value,w=0):(S(w,w.u+C.g-256),t(256<=C.value),w=C.value),0==w&&(x=!0)}else w=ve(b.G[0],b.H[0],u);if(u.h)break;if(x||256>w){if(!x)if(b.nd)r[h]=(b.qb|w<<8)>>>0;else{if(j(u),x=ve(b.G[1],b.H[1],u),j(u),k=ve(b.G[2],b.H[2],u),A=ve(b.G[3],b.H[3],u),u.h)break;r[h]=(A<<24|x<<16|w<<8|k)>>>0}if(x=!1,++h,++c>=a&&(c=0,++l,null!=o&&l<=s&&!(l%16)&&o(e,l),null!=y))for(;f<h;)w=r[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w}else if(280>w){if(w=ge(w-256,u),k=ve(b.G[4],b.H[4],u),j(u),k=ye(a,k=ge(k,u)),u.h)break;if(h-n<k||i-h<w)break e;for(A=0;A<w;++A)r[h+A]=r[h+A-k];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=s&&!(l%16)&&o(e,l);if(t(h<=i),c&v&&(b=xe(d,c,l)),null!=y)for(;f<h;)w=r[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w}else{if(!(w<m))break e;for(x=w-280,t(null!=y);f<h;)w=r[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w;w=h,t(!(x>>>(k=y).Xa)),r[w]=k.X[x],x=!0}x||t(u.h==_(u))}if(e.Pb&&u.h&&h<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&D(e.s.vb,e.s.Wa);else{if(u.h)break e;null!=o&&o(e,l>s?s:l),e.a=0,e.$=h-n}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function Ce(){var t=new sr;return null==t?null:(t.a=0,t.xb=ma,re("Predictor","VP8LPredictors"),re("Predictor","VP8LPredictors_C"),re("PredictorAdd","VP8LPredictorsAdd"),re("PredictorAdd","VP8LPredictorsAdd_C"),Kr=K,Qr=G,Zr=J,en=X,tn=Q,rn=Z,nn=ee,e.VP8LMapColor32b=Gr,e.VP8LMapColor8b=Jr,t)}function Oe(e,r,n,o,l){var c=1,h=[e],p=[r],m=o.m,g=o.s,y=null,v=0;e:for(;;){if(n)for(;c&&b(m,1);){var x=h,w=p,_=o,k=1,A=_.m,C=_.gc[_.ab],O=b(A,2);if(_.Oc&1<<O)c=0;else{switch(_.Oc|=1<<O,C.hc=O,C.Ea=x[0],C.nc=w[0],C.K=[null],++_.ab,t(4>=_.ab),O){case 0:case 1:C.b=b(A,3)+2,k=Oe(M(C.Ea,C.b),M(C.nc,C.b),0,_,C.K),C.K=C.K[0];break;case 3:var P,E=b(A,8)+1,L=16<E?0:4<E?1:2<E?2:3;if(x[0]=M(C.Ea,L),C.b=L,P=k=Oe(E,1,0,_,C.K)){var D,I=E,R=C,B=1<<(8>>R.b),z=i(B);if(null==z)P=0;else{var U=R.K[0],q=R.w;for(z[0]=R.K[0][0],D=1;D<1*I;++D)z[D]=F(U[q+D],z[D-1]);for(;D<4*B;++D)z[D]=0;R.K[0]=null,R.K[0]=z,P=1}}k=P;break;case 2:break;default:t(0)}c=k}}if(h=h[0],p=p[0],c&&b(m,1)&&!(c=1<=(v=b(m,4))&&11>=v)){o.a=3;break e}var $;if($=c)t:{var W,H,K,V=o,G=h,Y=p,J=v,X=n,Q=V.m,Z=V.s,ee=[null],te=1,re=0,ne=Zn[J];r:for(;;){if(X&&b(Q,1)){var ae=b(Q,3)+2,ie=M(G,ae),se=M(Y,ae),oe=ie*se;if(!Oe(ie,se,0,V,ee))break r;for(ee=ee[0],Z.xc=ae,W=0;W<oe;++W){var le=ee[W]>>8&65535;ee[W]=le,le>=te&&(te=le+1)}}if(Q.h)break r;for(H=0;5>H;++H){var ce=Yn[H];!H&&0<J&&(ce+=1<<J),re<ce&&(re=ce)}var ue=s(te*ne,d),de=te,he=s(de,f);if(null==he)var fe=null;else t(65536>=de),fe=he;var pe=i(re);if(null==fe||null==pe||null==ue){V.a=1;break r}var me=ue;for(W=K=0;W<te;++W){var ge=fe[W],ye=ge.G,ve=ge.H,xe=0,we=1,Ne=0;for(H=0;5>H;++H){ce=Yn[H],ye[H]=me,ve[H]=K,!H&&0<J&&(ce+=1<<J);n:{var _e,Se=ce,je=V,Ce=pe,Pe=me,Ee=K,Le=0,Te=je.m,De=b(Te,1);if(a(Ce,0,0,Se),De){var Ie=b(Te,1)+1,Re=b(Te,1),Me=b(Te,0==Re?1:8);Ce[Me]=1,2==Ie&&(Ce[Me=b(Te,8)]=1);var Fe=1}else{var Be=i(19),ze=b(Te,4)+4;if(19<ze){je.a=3;var Ue=0;break n}for(_e=0;_e<ze;++_e)Be[Xn[_e]]=b(Te,3);var qe=void 0,$e=void 0,We=je,He=Be,Ke=Se,Ve=Ce,Ge=0,Ye=We.m,Je=8,Xe=s(128,d);a:for(;u(Xe,0,7,He,19);){if(b(Ye,1)){var Qe=2+2*b(Ye,3);if((qe=2+b(Ye,Qe))>Ke)break a}else qe=Ke;for($e=0;$e<Ke&&qe--;){j(Ye);var Ze=Xe[0+(127&N(Ye))];S(Ye,Ye.u+Ze.g);var et=Ze.value;if(16>et)Ve[$e++]=et,0!=et&&(Je=et);else{var tt=16==et,rt=et-16,nt=Gn[rt],at=b(Ye,Vn[rt])+nt;if($e+at>Ke)break a;for(var it=tt?Je:0;0<at--;)Ve[$e++]=it}}Ge=1;break a}Ge||(We.a=3),Fe=Ge}(Fe=Fe&&!Te.h)&&(Le=u(Pe,Ee,8,Ce,Se)),Fe&&0!=Le?Ue=Le:(je.a=3,Ue=0)}if(0==Ue)break r;if(we&&1==Jn[H]&&(we=0==me[K].g),xe+=me[K].g,K+=Ue,3>=H){var st,ot=pe[0];for(st=1;st<ce;++st)pe[st]>ot&&(ot=pe[st]);Ne+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(ye[3][ve[3]+0].value<<24|ye[1][ve[1]+0].value<<16|ye[2][ve[2]+0].value)>>>0,0==xe&&256>ye[0][ve[0]+0].value&&(ge.Qb=1,ge.qb+=ye[0][ve[0]+0].value<<8)),ge.jc=!ge.Qb&&6>Ne,ge.jc){var lt,ct=ge;for(lt=0;lt<Fr;++lt){var ut=lt,dt=ct.pd[ut],ht=ct.G[0][ct.H[0]+ut];256<=ht.value?(dt.g=ht.g+256,dt.value=ht.value):(dt.g=0,dt.value=0,ut>>=be(ht,8,dt),ut>>=be(ct.G[1][ct.H[1]+ut],16,dt),ut>>=be(ct.G[2][ct.H[2]+ut],0,dt),be(ct.G[3][ct.H[3]+ut],24,dt))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=ue,$=1;break t}$=0}if(!(c=$)){o.a=3;break e}if(0<v){if(g.ua=1<<v,!T(g.Wa,v)){o.a=1,c=0;break e}}else g.ua=0;var ft=o,pt=h,mt=p,gt=ft.s,yt=gt.xc;if(ft.c=pt,ft.i=mt,gt.md=M(pt,yt),gt.wc=0==yt?-1:(1<<yt)-1,n){o.xb=pa;break e}if(null==(y=i(h*p))){o.a=1,c=0;break e}c=(c=ke(o,y,0,h,p,p,null))&&!m.h;break e}return c?(null!=l?l[0]=y:(t(null==y),t(n)),o.$=0,n||Ae(g)):Ae(g),c}function Pe(e,r){var n=e.c*e.i,a=n+r+16*r;return t(e.c<=r),e.V=i(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+r,1)}function Ee(e,r){var n=e.C,a=r-n,i=e.V,s=e.Ba+e.c*n;for(t(r<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,u=c*o,d=l.ca,h=l.tb+c*n,f=e.Ta,p=e.Ua;we(e,o,i,s),kn(f,p,d,h,u),Se(l,n,n+o,d,h,c),a-=o,i+=o*e.c,n+=o}t(n==r),e.C=e.Ma=r}function Le(){this.ub=this.yd=this.td=this.Rb=0}function Te(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function De(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ie(){this.Yb=function(){var e=[];return function e(t,r,n){for(var a=n[r],i=0;i<a&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));i++)e(t[i],r+1,n)}(e,0,[3,11]),e}()}function Re(){this.jb=i(3),this.Wc=o([4,8],Ie),this.Xc=o([4,17],Ie)}function Me(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new Ke}function $e(){this.y=i(16),this.f=i(8),this.ea=i(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new x,this.Od=new Le,this.Kc=new Te,this.ed=new Me,this.Qa=new De,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,x),this.ia=0,this.pb=s(4,ze),this.Pa=new Re,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $e),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=o([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function He(e,t){return 0>e?0:e>t?t:e}function Ke(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ve(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,na||(na=Xe)),e}function Ge(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function Ye(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var n=r.data,i=r.w,s=r.ha;if(4>s)return Ge(e,7,"Truncated header.");var o=n[i+0]|n[i+1]<<8|n[i+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ge(e,4,"Frame not displayable.");i+=3,s-=3;var c=e.Kc;if(l.Rb){if(7>s)return Ge(e,7,"cannot parse picture header");if(!Ye(n,i,s))return Ge(e,3,"Bad code word");c.c=16383&(n[i+4]<<8|n[i+3]),c.Td=n[i+4]>>6,c.i=16383&(n[i+6]<<8|n[i+5]),c.Ud=n[i+6]>>6,i+=7,s-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,r.width=c.c,r.height=c.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>s)return Ge(e,7,"bad partition length");p(o=e.m,n,i,l.ub),i+=l.ub,s-=l.ub,l.Rb&&(c.Ld=A(o),c.Kd=A(o)),c=e.Qa;var u,d=e.Pa;if(t(null!=o),t(null!=c),c.Cb=A(o),c.Cb){if(c.Bb=A(o),A(o)){for(c.Fb=A(o),u=0;4>u;++u)c.Zb[u]=A(o)?g(o,7):0;for(u=0;4>u;++u)c.Lb[u]=A(o)?g(o,6):0}if(c.Bb)for(u=0;3>u;++u)d.jb[u]=A(o)?m(o,8):255}else c.Bb=0;if(o.Ka)return Ge(e,3,"cannot parse segment header");if((c=e.ed).zd=A(o),c.Tb=m(o,6),c.wb=m(o,3),c.Pc=A(o),c.Pc&&A(o)){for(d=0;4>d;++d)A(o)&&(c.vd[d]=g(o,6));for(d=0;4>d;++d)A(o)&&(c.od[d]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ge(e,3,"cannot parse filter header");var h=s;if(s=u=i,i=u+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(d=e.Xb))n=7;else{for(u+=3*d,c-=3*d,h=0;h<d;++h){var f=n[s+0]|n[s+1]<<8|n[s+2]<<16;f>c&&(f=c),p(e.Jc[+h],n,u,f),u+=f,c-=f,s+=3}p(e.Jc[+d],n,u,c),n=u<i?0:5}if(0!=n)return Ge(e,n,"cannot parse partitions");for(n=m(u=e.m,7),s=A(u)?g(u,4):0,i=A(u)?g(u,4):0,c=A(u)?g(u,4):0,d=A(u)?g(u,4):0,u=A(u)?g(u,4):0,h=e.Qa,f=0;4>f;++f){if(h.Cb){var y=h.Zb[f];h.Fb||(y+=n)}else{if(0<f){e.pb[f]=e.pb[0];continue}y=n}var v=e.pb[f];v.Sc[0]=ta[He(y+s,127)],v.Sc[1]=ra[He(y+0,127)],v.Eb[0]=2*ta[He(y+i,127)],v.Eb[1]=101581*ra[He(y+c,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ta[He(y+d,117)],v.Qc[1]=ra[He(y+u,127)],v.lc=y+u}if(!l.Rb)return Ge(e,4,"Not a key frame.");for(A(o),l=e.Pa,n=0;4>n;++n){for(s=0;8>s;++s)for(i=0;3>i;++i)for(c=0;11>c;++c)d=C(o,ca[n][s][i][c])?m(o,8):oa[n][s][i][c],l.Wc[n][s].Yb[i][c]=d;for(s=0;17>s;++s)l.Xc[n][s]=l.Wc[n][ua[s]]}return e.kc=A(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Xe(e,t,r,n,a,i,s){var o=t[a].Yb[r];for(r=0;16>a;++a){if(!C(e,o[r+0]))return a;for(;!C(e,o[r+1]);)if(o=t[++a].Yb[0],r=0,16==a)return 16;var l=t[a+1].Yb;if(C(e,o[r+2])){var c=e,u=0;if(C(c,(h=o)[(d=r)+3]))if(C(c,h[d+6])){for(o=0,d=2*(u=C(c,h[d+8]))+(h=C(c,h[d+9+u])),u=0,h=aa[d];h[o];++o)u+=u+C(c,h[o]);u+=3+(8<<d)}else C(c,h[d+7])?(u=7+2*C(c,165),u+=C(c,145)):u=5+C(c,159);else u=C(c,h[d+4])?3+C(c,h[d+5]):2;o=l[2]}else u=1,o=l[1];l=s+ia[a],0>(c=e).b&&k(c);var d,h=c.b,f=(d=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(d+1&f)<<h,i[l]=((u^f)-f)*n[(0<a)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,r){if(null==e)return 0;if(null==r)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var o=Ba[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-o>>4,e.zb=r.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+o>>4,e.Hb=r.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var u=e.Qa.Lb[o];e.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var d=e.gd[o][c],h=u;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var f=h;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),d.dd=f,d.tc=2*h+f,d.ld=40<=h?2:15<=h?1:0}else d.tc=0;d.La=c}}}o=0}else Ge(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=Ua);e:{o=e.Ic,l=4*(f=e.za);var p=32*f,m=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,y=(2==e.Aa?2:1)*f;if((d=l+832+(c=3*(16*o+Ba[e.L])/2*p)+(u=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=d)o=0;else{if(d>e.Vb){if(e.Vb=0,e.Ec=i(d),e.Fc=0,null==e.Ec){o=Ge(e,1,"no memory during frame initialization.");break e}e.Vb=d}d=e.Ec,h=e.Fc,e.Ac=d,e.Bc=h,h+=l,e.Gd=s(p,$e),e.Hd=0,e.rb=s(m+1,Be),e.sb=1,e.wa=g?s(g,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=d,e.pc=h,h+=832,e.ya=s(y,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(p=Ba[e.L])*e.R,p=p/2*e.B,e.sa=d,e.ta=h+f,e.qa=e.sa,e.ra=e.ta+16*o*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+p,e.$c=0,h+=c,e.mb=u?d:null,e.nb=u?h:null,t(h+u<=e.Fc+e.Vb),Qe(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!En){for(o=-255;255>=o;++o)An[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Cn[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)On[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Pn[255+o]=0>o?0:255<o?255:o;En=1}an=ct,sn=it,ln=st,cn=ot,un=lt,on=at,dn=Gt,hn=Yt,fn=Qt,pn=Zt,mn=Jt,gn=Xt,yn=er,vn=tr,bn=qt,xn=$t,wn=Wt,Nn=Ht,ha[0]=St,ha[1]=dt,ha[2]=Nt,ha[3]=_t,ha[4]=jt,ha[5]=At,ha[6]=kt,ha[7]=Ct,ha[8]=Pt,ha[9]=Ot,da[0]=yt,da[1]=ft,da[2]=pt,da[3]=mt,da[4]=vt,da[5]=bt,da[6]=xt,fa[0]=Dt,fa[1]=ht,fa[2]=Et,fa[3]=Lt,fa[4]=Rt,fa[5]=It,fa[6]=Mt,o=1}else o=0}o&&(o=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var s,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(s=0;s<c.za;++s){var u=l,d=c,h=d.Ac,f=d.Bc+4*s,p=d.zc,m=d.ya[d.aa+s];if(d.Qa.Bb?m.$b=C(u,d.Pa.jb[0])?2+C(u,d.Pa.jb[2]):C(u,d.Pa.jb[1]):m.$b=0,d.kc&&(m.Ad=C(u,d.Bd)),m.Za=!C(u,145)+0,m.Za){var g=m.Ob,y=0;for(d=0;4>d;++d){var v,b=p[0+d];for(v=0;4>v;++v){b=la[h[f+v]][b];for(var x=sa[C(u,b[0])];0<x;)x=sa[2*x+C(u,b[x])];b=-x,h[f+v]=b}n(g,y,h,f,4),y+=4,p[0+d]=b}}else b=C(u,156)?C(u,128)?1:3:C(u,163)?2:0,m.Ob[0]=b,a(h,f,b,4),a(p,0,b,4);m.Dd=C(u,142)?C(u,114)?C(u,183)?1:3:2:0}if(c.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,u=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],f=l.kc?s.Ad:0)u.la=h.la=0,s.Za||(u.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,N;if(u=h,h=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],m=l.pb[p.$b],d=p.ad,g=0,y=l.rb[l.sb-1],b=v=0,a(d,g,0,384),p.Za)var _=0,S=f[3];else{x=i(16);var j=u.Na+y.Na;if(j=na(h,f[1],j,m.Eb,0,x,0),u.Na=y.Na=(0<j)+0,1<j)an(x,0,d,g);else{var k=x[0]+3>>3;for(x=0;256>x;x+=16)d[g+x]=k}_=1,S=f[0]}var A=15&u.la,O=15&y.la;for(x=0;4>x;++x){var P=1&O;for(k=N=0;4>k;++k)A=A>>1|(P=(j=na(h,S,j=P+(1&A),m.Sc,_,d,g))>_)<<7,N=N<<2|(3<j?3:1<j?2:0!=d[g+0]),g+=16;A>>=4,O=O>>1|P<<7,v=(v<<8|N)>>>0}for(S=A,_=O>>4,w=0;4>w;w+=2){for(N=0,A=u.la>>4+w,O=y.la>>4+w,x=0;2>x;++x){for(P=1&O,k=0;2>k;++k)j=P+(1&A),A=A>>1|(P=0<(j=na(h,f[2],j,m.Qc,0,d,g)))<<3,N=N<<2|(3<j?3:1<j?2:0!=d[g+0]),g+=16;A>>=2,O=O>>1|P<<5}b|=N<<4*w,S|=A<<4<<w,_|=(240&O)<<w}u.la=S,y.la=_,p.Hc=v,p.Gc=b,p.ia=43690&b?0:m.ia,f=!(v|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=r,c=1,s=(o=e).D,u=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(s.M=o.M,s.uc=u,Tr(o,s),c=1,s=(N=o.D).Nb,u=(b=Ba[o.L])*o.R,h=b/2*o.B,x=16*s*o.R,k=8*s*o.B,f=o.sa,p=o.ta-u+x,m=o.qa,d=o.ra-h+k,g=o.Ha,y=o.Ia-h+k,O=0==(A=N.M),v=A>=o.Va-1,2==o.Aa&&Tr(o,N),N.uc)for(P=(j=o).D.M,t(j.D.uc),N=j.yb;N<j.Hb;++N){_=N,S=P;var E=(L=(U=j).D).Nb;w=U.R;var L=L.wa[L.Y+_],T=U.sa,D=U.ta+16*E*w+16*_,I=L.dd,R=L.tc;if(0!=R)if(t(3<=R),1==U.L)0<_&&xn(T,D,w,R+4),L.La&&Nn(T,D,w,R),0<S&&bn(T,D,w,R+4),L.La&&wn(T,D,w,R);else{var M=U.B,F=U.qa,B=U.ra+8*E*M+8*_,z=U.Ha,U=U.Ia+8*E*M+8*_;E=L.ld,0<_&&(hn(T,D,w,R+4,I,E),pn(F,B,z,U,M,R+4,I,E)),L.La&&(gn(T,D,w,R,I,E),vn(F,B,z,U,M,R,I,E)),0<S&&(dn(T,D,w,R+4,I,E),fn(F,B,z,U,M,R+4,I,E)),L.La&&(mn(T,D,w,R,I,E),yn(F,B,z,U,M,R,I,E))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(N=16*A,A=16*(A+1),O?(l.y=o.sa,l.O=o.ta+x,l.f=o.qa,l.N=o.ra+k,l.ea=o.Ha,l.W=o.Ia+k):(N-=b,l.y=f,l.O=p,l.f=m,l.N=d,l.ea=g,l.W=y),v||(A-=b),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&N<A&&(l.J=dr(o,l,N,A-N),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ge(o,3,"Could not decode alpha data.");break e}N<l.j&&(b=l.j-N,N=l.j,t(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),N<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=N-l.j,l.U=l.va-l.v,l.T=A-N,c=l.put(l))}s+1!=o.Ic||v||(n(o.sa,o.ta-u,f,p+16*o.R,u),n(o.qa,o.ra-h,m,d+8*o.B,h),n(o.Ha,o.Ia-h,g,y+8*o.B,h))}if(!c)return Ge(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),o&=1}return o?(e.cb=0,o):0}function et(e,t,r,n,a){a=e[t+r+32*n]+(a>>3),e[t+r+32*n]=-256&a?0>a?0:255:a}function tt(e,t,r,n,a,i){et(e,t,0,r,n+a),et(e,t,1,r,n+i),et(e,t,2,r,n-i),et(e,t,3,r,n-a)}function rt(e){return(20091*e>>16)+e}function nt(e,t,r,n){var a,s=0,o=i(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],u=(35468*e[t+4]>>16)-rt(e[t+12]),d=rt(e[t+4])+(35468*e[t+12]>>16);o[s+0]=l+d,o[s+1]=c+u,o[s+2]=c-u,o[s+3]=l-d,s+=4,t++}for(a=s=0;4>a;++a)l=(e=o[s+0]+4)+o[s+8],c=e-o[s+8],u=(35468*o[s+4]>>16)-rt(o[s+12]),et(r,n,0,0,l+(d=rt(o[s+4])+(35468*o[s+12]>>16))),et(r,n,1,0,c+u),et(r,n,2,0,c-u),et(r,n,3,0,l-d),s++,n+=32}function at(e,t,r,n){var a=e[t+0]+4,i=35468*e[t+4]>>16,s=rt(e[t+4]),o=35468*e[t+1]>>16;tt(r,n,0,a+s,e=rt(e[t+1]),o),tt(r,n,1,a+i,e,o),tt(r,n,2,a-i,e,o),tt(r,n,3,a-s,e,o)}function it(e,t,r,n,a){nt(e,t,r,n),a&&nt(e,t+16,r,n+4)}function st(e,t,r,n){sn(e,t+0,r,n,1),sn(e,t+32,r,n+128,1)}function ot(e,t,r,n){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)et(r,n,t,a,e)}function lt(e,t,r,n){e[t+0]&&cn(e,t+0,r,n),e[t+16]&&cn(e,t+16,r,n+4),e[t+32]&&cn(e,t+32,r,n+128),e[t+48]&&cn(e,t+48,r,n+128+4)}function ct(e,t,r,n){var a,s=i(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],u=e[t+0+a]-e[t+12+a];s[0+a]=o+l,s[8+a]=o-l,s[4+a]=u+c,s[12+a]=u-c}for(a=0;4>a;++a)o=(e=s[0+4*a]+3)+s[3+4*a],l=s[1+4*a]+s[2+4*a],c=s[1+4*a]-s[2+4*a],u=e-s[3+4*a],r[n+0]=o+l>>3,r[n+16]=u+c>>3,r[n+32]=o-l>>3,r[n+48]=u-c>>3,n+=64}function ut(e,t,r){var n,a=t-32,i=Dn,s=255-e[a-1];for(n=0;n<r;++n){var o,l=i,c=s+e[t-1];for(o=0;o<r;++o)e[t+o]=l[c+e[a+o]];t+=32}}function dt(e,t){ut(e,t,4)}function ht(e,t){ut(e,t,8)}function ft(e,t){ut(e,t,16)}function pt(e,t){var r;for(r=0;16>r;++r)n(e,t+32*r,e,t-32,16)}function mt(e,t){var r;for(r=16;0<r;--r)a(e,t,e[t-1],16),t+=32}function gt(e,t,r){var n;for(n=0;16>n;++n)a(t,r+32*n,e,16)}function yt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];gt(n>>5,e,t)}function vt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];gt(n>>4,e,t)}function bt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];gt(n>>4,e,t)}function xt(e,t){gt(128,e,t)}function wt(e,t,r){return e+2*t+r+2>>2}function Nt(e,t){var r,a=t-32;for(a=new Uint8Array([wt(e[a-1],e[a+0],e[a+1]),wt(e[a+0],e[a+1],e[a+2]),wt(e[a+1],e[a+2],e[a+3]),wt(e[a+2],e[a+3],e[a+4])]),r=0;4>r;++r)n(e,t+32*r,a,0,a.length)}function _t(e,t){var r=e[t-1],n=e[t-1+32],a=e[t-1+64],i=e[t-1+96];O(e,t+0,16843009*wt(e[t-1-32],r,n)),O(e,t+32,16843009*wt(r,n,a)),O(e,t+64,16843009*wt(n,a,i)),O(e,t+96,16843009*wt(a,i,i))}function St(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)a(e,t+32*r,n,4)}function jt(e,t){var r=e[t-1+0],n=e[t-1+32],a=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=wt(n,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(r,n,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(i,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(s,i,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(o,s,i),e[t+3+32]=e[t+2+0]=wt(l,o,s),e[t+3+0]=wt(c,l,o)}function kt(e,t){var r=e[t+1-32],n=e[t+2-32],a=e[t+3-32],i=e[t+4-32],s=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=wt(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=wt(r,n,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(n,a,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(a,i,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(i,s,o),e[t+3+64]=e[t+2+96]=wt(s,o,l),e[t+3+96]=wt(o,l,l)}function At(e,t){var r=e[t-1+0],n=e[t-1+32],a=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=i+s+1>>1,e[t+1+0]=e[t+2+64]=s+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=wt(a,n,r),e[t+0+64]=wt(n,r,i),e[t+0+32]=e[t+1+96]=wt(r,i,s),e[t+1+32]=e[t+2+96]=wt(i,s,o),e[t+2+32]=e[t+3+96]=wt(s,o,l),e[t+3+32]=wt(o,l,c)}function Ct(e,t){var r=e[t+0-32],n=e[t+1-32],a=e[t+2-32],i=e[t+3-32],s=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+a+1>>1,e[t+2+0]=e[t+1+64]=a+i+1>>1,e[t+3+0]=e[t+2+64]=i+s+1>>1,e[t+0+32]=wt(r,n,a),e[t+1+32]=e[t+0+96]=wt(n,a,i),e[t+2+32]=e[t+1+96]=wt(a,i,s),e[t+3+32]=e[t+2+96]=wt(i,s,o),e[t+3+64]=wt(s,o,l),e[t+3+96]=wt(o,l,c)}function Ot(e,t){var r=e[t-1+0],n=e[t-1+32],a=e[t-1+64],i=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+a+1>>1,e[t+2+32]=e[t+0+64]=a+i+1>>1,e[t+1+0]=wt(r,n,a),e[t+3+0]=e[t+1+32]=wt(n,a,i),e[t+3+32]=e[t+1+64]=wt(a,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function Pt(e,t){var r=e[t-1+0],n=e[t-1+32],a=e[t-1+64],i=e[t-1+96],s=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=r+s+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=a+n+1>>1,e[t+0+96]=i+a+1>>1,e[t+3+0]=wt(o,l,c),e[t+2+0]=wt(s,o,l),e[t+1+0]=e[t+3+32]=wt(r,s,o),e[t+1+32]=e[t+3+64]=wt(n,r,s),e[t+1+64]=e[t+3+96]=wt(a,n,r),e[t+1+96]=wt(i,a,n)}function Et(e,t){var r;for(r=0;8>r;++r)n(e,t+32*r,e,t-32,8)}function Lt(e,t){var r;for(r=0;8>r;++r)a(e,t,e[t-1],8),t+=32}function Tt(e,t,r){var n;for(n=0;8>n;++n)a(t,r+32*n,e,8)}function Dt(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];Tt(n>>4,e,t)}function It(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];Tt(n>>3,e,t)}function Rt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];Tt(n>>3,e,t)}function Mt(e,t){Tt(128,e,t)}function Ft(e,t,r){var n=e[t-r],a=e[t+0],i=3*(a-n)+Ln[1020+e[t-2*r]-e[t+r]],s=Tn[112+(i+4>>3)];e[t-r]=Dn[255+n+Tn[112+(i+3>>3)]],e[t+0]=Dn[255+a-s]}function Bt(e,t,r,n){var a=e[t+0],i=e[t+r];return In[255+e[t-2*r]-e[t-r]]>n||In[255+i-a]>n}function zt(e,t,r,n){return 4*In[255+e[t-r]-e[t+0]]+In[255+e[t-2*r]-e[t+r]]<=n}function Ut(e,t,r,n,a){var i=e[t-3*r],s=e[t-2*r],o=e[t-r],l=e[t+0],c=e[t+r],u=e[t+2*r],d=e[t+3*r];return 4*In[255+o-l]+In[255+s-c]>n?0:In[255+e[t-4*r]-i]<=a&&In[255+i-s]<=a&&In[255+s-o]<=a&&In[255+d-u]<=a&&In[255+u-c]<=a&&In[255+c-l]<=a}function qt(e,t,r,n){var a=2*n+1;for(n=0;16>n;++n)zt(e,t+n,r,a)&&Ft(e,t+n,r)}function $t(e,t,r,n){var a=2*n+1;for(n=0;16>n;++n)zt(e,t+n*r,1,a)&&Ft(e,t+n*r,1)}function Wt(e,t,r,n){var a;for(a=3;0<a;--a)qt(e,t+=4*r,r,n)}function Ht(e,t,r,n){var a;for(a=3;0<a;--a)$t(e,t+=4,r,n)}function Kt(e,t,r,n,a,i,s,o){for(i=2*i+1;0<a--;){if(Ut(e,t,r,i,s))if(Bt(e,t,r,o))Ft(e,t,r);else{var l=e,c=t,u=r,d=l[c-2*u],h=l[c-u],f=l[c+0],p=l[c+u],m=l[c+2*u],g=27*(v=Ln[1020+3*(f-h)+Ln[1020+d-p]])+63>>7,y=18*v+63>>7,v=9*v+63>>7;l[c-3*u]=Dn[255+l[c-3*u]+v],l[c-2*u]=Dn[255+d+y],l[c-u]=Dn[255+h+g],l[c+0]=Dn[255+f-g],l[c+u]=Dn[255+p-y],l[c+2*u]=Dn[255+m-v]}t+=n}}function Vt(e,t,r,n,a,i,s,o){for(i=2*i+1;0<a--;){if(Ut(e,t,r,i,s))if(Bt(e,t,r,o))Ft(e,t,r);else{var l=e,c=t,u=r,d=l[c-u],h=l[c+0],f=l[c+u],p=Tn[112+(4+(m=3*(h-d))>>3)],m=Tn[112+(m+3>>3)],g=p+1>>1;l[c-2*u]=Dn[255+l[c-2*u]+g],l[c-u]=Dn[255+d+m],l[c+0]=Dn[255+h-p],l[c+u]=Dn[255+f-g]}t+=n}}function Gt(e,t,r,n,a,i){Kt(e,t,r,1,16,n,a,i)}function Yt(e,t,r,n,a,i){Kt(e,t,1,r,16,n,a,i)}function Jt(e,t,r,n,a,i){var s;for(s=3;0<s;--s)Vt(e,t+=4*r,r,1,16,n,a,i)}function Xt(e,t,r,n,a,i){var s;for(s=3;0<s;--s)Vt(e,t+=4,1,r,16,n,a,i)}function Qt(e,t,r,n,a,i,s,o){Kt(e,t,a,1,8,i,s,o),Kt(r,n,a,1,8,i,s,o)}function Zt(e,t,r,n,a,i,s,o){Kt(e,t,1,a,8,i,s,o),Kt(r,n,1,a,8,i,s,o)}function er(e,t,r,n,a,i,s,o){Vt(e,t+4*a,a,1,8,i,s,o),Vt(r,n+4*a,a,1,8,i,s,o)}function tr(e,t,r,n,a,i,s,o){Vt(e,t+4,1,a,8,i,s,o),Vt(r,n+4,1,a,8,i,s,o)}function rr(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ar(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ir(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new d}function sr(){this.xb=this.a=0,this.l=new Ke,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ir,this.ab=0,this.gc=s(4,ar),this.Oc=0}function or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ke,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function lr(e,t,r,n,a,i,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)a[i+t]=e+r[n+t]&255,e=a[i+t]}function cr(e,t,r,n,a,i,s){var o;if(null==e)lr(null,null,r,n,a,i,s);else for(o=0;o<s;++o)a[i+o]=e[t+o]+r[n+o]&255}function ur(e,t,r,n,a,i,s){if(null==e)lr(null,null,r,n,a,i,s);else{var o,l=e[t+0],c=l,u=l;for(o=0;o<s;++o)c=u+(l=e[t+o])-c,u=r[n+o]+(-256&c?0>c?0:255:c)&255,c=l,a[i+o]=u}}function dr(e,r,a,s){var o=r.width,l=r.o;if(t(null!=e&&null!=r),0>a||0>=s||a+s>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new or,(c=null==e.ga)||(c=r.width*r.o,t(0==e.Gb.length),e.Gb=i(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var u=e.Fa,d=e.P,h=e.qc,f=e.mb,p=e.nb,m=d+1,g=h-1,v=c.l;if(t(null!=u&&null!=f&&null!=r),ga[0]=null,ga[1]=lr,ga[2]=cr,ga[3]=ur,c.ca=f,c.tb=p,c.c=r.width,c.i=r.height,t(0<c.c&&0<c.i),1>=h)r=0;else if(c.$a=3&u[d+0],c.Z=u[d+0]>>2&3,c.Lc=u[d+0]>>4&3,d=u[d+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||d)r=0;else if(v.put=fe,v.ac=he,v.bc=pe,v.ma=c,v.width=r.width,v.height=r.height,v.Da=r.Da,v.v=r.v,v.va=r.va,v.j=r.j,v.o=r.o,c.$a)e:{t(1==c.$a),r=Ce();t:for(;;){if(null==r){r=0;break e}if(t(null!=c),c.mc=r,r.c=c.c,r.i=c.i,r.l=c.l,r.l.ma=c,r.l.width=c.c,r.l.height=c.i,r.a=0,y(r.m,u,m,g),!Oe(c.c,c.i,1,r,null))break t;if(1==r.ab&&3==r.gc[0].hc&&_e(r.s)?(c.ic=1,u=r.c*r.i,r.Ta=null,r.Ua=0,r.V=i(u),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(c.ic=0,r=Pe(r,c.c)),!r)break t;r=1;break e}c.mc=null,r=0}else r=g>=c.c*c.i;c=!r}if(c)return null;1!=e.ga.Lc?e.Ga=0:s=l-a}t(null!=e.ga),t(a+s<=l);e:{if(r=(u=e.ga).c,l=u.l.o,0==u.$a){if(m=e.rc,g=e.Vc,v=e.Fa,d=e.P+1+a*r,h=e.mb,f=e.nb+a*r,t(d<=e.P+e.qc),0!=u.Z)for(t(null!=ga[u.Z]),c=0;c<s;++c)ga[u.Z](m,g,v,d,h,f,r),m=h,g=f,f+=r,d+=r;else for(c=0;c<s;++c)n(h,f,v,d,r),m=h,g=f,f+=r,d+=r;e.rc=m,e.Vc=g}else{if(t(null!=u.mc),r=a+s,t(null!=(c=u.mc)),t(r<=c.i),c.C>=r)r=1;else if(u.ic||gr(),u.ic){u=c.V,m=c.Ba,g=c.c;var b=c.i,x=(v=1,d=c.$/g,h=c.$%g,f=c.m,p=c.s,c.$),w=g*b,N=g*r,S=p.wc,k=x<N?xe(p,h,d):null;t(x<=w),t(r<=b),t(_e(p));t:for(;;){for(;!f.h&&x<N;){if(h&S||(k=xe(p,h,d)),t(null!=k),j(f),256>(b=ve(k.G[0],k.H[0],f)))u[m+x]=b,++x,++h>=g&&(h=0,++d<=r&&!(d%16)&&je(c,d));else{if(!(280>b)){v=0;break t}b=ge(b-256,f);var A,C=ve(k.G[4],k.H[4],f);if(j(f),!(x>=(C=ye(g,C=ge(C,f)))&&w-x>=b)){v=0;break t}for(A=0;A<b;++A)u[m+x+A]=u[m+x+A-C];for(x+=b,h+=b;h>=g;)h-=g,++d<=r&&!(d%16)&&je(c,d);x<N&&h&S&&(k=xe(p,h,d))}t(f.h==_(f))}je(c,d>r?r:d);break t}!v||f.h&&x<w?(v=0,c.a=f.h?5:3):c.$=x,r=v}else r=ke(c,c.V,c.Ba,c.c,c.i,r,Ee);if(!r){s=0;break e}}a+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function hr(e,t,r,n,a,i){for(;0<a--;){var s,o=e,l=t+(r?1:0),c=e,u=t+(r?0:3);for(s=0;s<n;++s){var d=c[u+4*s];255!=d&&(d*=32897,o[l+4*s+0]=o[l+4*s+0]*d>>23,o[l+4*s+1]=o[l+4*s+1]*d>>23,o[l+4*s+2]=o[l+4*s+2]*d>>23)}t+=i}}function fr(e,t,r,n,a){for(;0<n--;){var i;for(i=0;i<r;++i){var s=e[t+2*i+0],o=15&(c=e[t+2*i+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*i+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*i+1]=240&c|o}t+=a}}function pr(e,t,r,n,a,i,s,o){var l,c,u=255;for(c=0;c<a;++c){for(l=0;l<n;++l){var d=e[t+l];i[s+4*l]=d,u&=d}t+=r,s+=o}return 255!=u}function mr(e,t,r,n,a){var i;for(i=0;i<a;++i)r[n+i]=e[t+i]>>8}function gr(){_n=hr,Sn=fr,jn=pr,kn=mr}function yr(r,n,a){e[r]=function(e,r,i,s,o,l,c,u,d,h,f,p,m,g,y,v,b){var x,w=b-1>>1,N=o[l+0]|c[u+0]<<16,_=d[h+0]|f[p+0]<<16;t(null!=e);var S=3*N+_+131074>>2;for(n(e[r+0],255&S,S>>16,m,g),null!=i&&(S=3*_+N+131074>>2,n(i[s+0],255&S,S>>16,y,v)),x=1;x<=w;++x){var j=o[l+x]|c[u+x]<<16,k=d[h+x]|f[p+x]<<16,A=N+j+_+k+524296,C=A+2*(j+_)>>3;S=C+N>>1,N=(A=A+2*(N+k)>>3)+j>>1,n(e[r+2*x-1],255&S,S>>16,m,g+(2*x-1)*a),n(e[r+2*x-0],255&N,N>>16,m,g+(2*x-0)*a),null!=i&&(S=A+_>>1,N=C+k>>1,n(i[s+2*x-1],255&S,S>>16,y,v+(2*x-1)*a),n(i[s+2*x+0],255&N,N>>16,y,v+(2*x+0)*a)),N=j,_=k}1&b||(S=3*N+_+131074>>2,n(e[r+b-1],255&S,S>>16,m,g+(b-1)*a),null!=i&&(S=3*_+N+131074>>2,n(i[s+b-1],255&S,S>>16,y,v+(b-1)*a)))}}function vr(){ya[Rn]=va,ya[Mn]=xa,ya[Fn]=ba,ya[Bn]=wa,ya[zn]=Na,ya[Un]=_a,ya[qn]=Sa,ya[$n]=xa,ya[Wn]=wa,ya[Hn]=Na,ya[Kn]=_a}function br(e){return e&~Pa?0>e?0:255:e>>Oa}function xr(e,t){return br((19077*e>>8)+(26149*t>>8)-14234)}function wr(e,t,r){return br((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function Nr(e,t){return br((19077*e>>8)+(33050*t>>8)-17685)}function _r(e,t,r,n,a){n[a+0]=xr(e,r),n[a+1]=wr(e,t,r),n[a+2]=Nr(e,t)}function Sr(e,t,r,n,a){n[a+0]=Nr(e,t),n[a+1]=wr(e,t,r),n[a+2]=xr(e,r)}function jr(e,t,r,n,a){var i=wr(e,t,r);t=i<<3&224|Nr(e,t)>>3,n[a+0]=248&xr(e,r)|i>>5,n[a+1]=t}function kr(e,t,r,n,a){var i=240&Nr(e,t)|15;n[a+0]=240&xr(e,r)|wr(e,t,r)>>4,n[a+1]=i}function Ar(e,t,r,n,a){n[a+0]=255,_r(e,t,r,n,a+1)}function Cr(e,t,r,n,a){Sr(e,t,r,n,a),n[a+3]=255}function Or(e,t,r,n,a){_r(e,t,r,n,a),n[a+3]=255}function He(e,t){return 0>e?0:e>t?t:e}function Pr(t,r,n){e[t]=function(e,t,a,i,s,o,l,c,u){for(var d=c+(-2&u)*n;c!=d;)r(e[t+0],a[i+0],s[o+0],l,c),r(e[t+1],a[i+0],s[o+0],l,c+n),t+=2,++i,++o,c+=2*n;1&u&&r(e[t+0],a[i+0],s[o+0],l,c)}}function Er(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Lr(e,t,r,n,a){switch(e>>>30){case 3:sn(t,r,n,a,0);break;case 2:on(t,r,n,a);break;case 1:cn(t,r,n,a)}}function Tr(e,t){var r,i,s=t.M,o=t.Nb,l=e.oc,c=e.pc+40,u=e.oc,d=e.pc+584,h=e.oc,f=e.pc+600;for(r=0;16>r;++r)l[c+32*r-1]=129;for(r=0;8>r;++r)u[d+32*r-1]=129,h[f+32*r-1]=129;for(0<s?l[c-1-32]=u[d-1-32]=h[f-1-32]=129:(a(l,c-32-1,127,21),a(u,d-32-1,127,9),a(h,f-32-1,127,9)),i=0;i<e.za;++i){var p=t.ya[t.aa+i];if(0<i){for(r=-1;16>r;++r)n(l,c+32*r-4,l,c+32*r+12,4);for(r=-1;8>r;++r)n(u,d+32*r-4,u,d+32*r+4,4),n(h,f+32*r-4,h,f+32*r+4,4)}var m=e.Gd,g=e.Hd+i,y=p.ad,v=p.Hc;if(0<s&&(n(l,c-32,m[g].y,0,16),n(u,d-32,m[g].f,0,8),n(h,f-32,m[g].ea,0,8)),p.Za){var b=l,x=c-32+16;for(0<s&&(i>=e.za-1?a(b,x,m[g].y[15],4):n(b,x,m[g+1].y,0,4)),r=0;4>r;r++)b[x+128+r]=b[x+256+r]=b[x+384+r]=b[x+0+r];for(r=0;16>r;++r,v<<=2)b=l,x=c+Fa[r],ha[p.Ob[r]](b,x),Lr(v,y,16*+r,b,x)}else if(b=Er(i,s,p.Ob[0]),da[b](l,c),0!=v)for(r=0;16>r;++r,v<<=2)Lr(v,y,16*+r,l,c+Fa[r]);for(r=p.Gc,b=Er(i,s,p.Dd),fa[b](u,d),fa[b](h,f),v=y,b=u,x=d,255&(p=r|0)&&(170&p?ln(v,256,b,x):un(v,256,b,x)),p=h,v=f,255&(r>>=8)&&(170&r?ln(y,320,p,v):un(y,320,p,v)),s<e.Ub-1&&(n(m[g].y,0,l,c+480,16),n(m[g].f,0,u,d+224,8),n(m[g].ea,0,h,f+224,8)),r=8*o*e.B,m=e.sa,g=e.ta+16*i+16*o*e.R,y=e.qa,p=e.ra+8*i+r,v=e.Ha,b=e.Ia+8*i+r,r=0;16>r;++r)n(m,g+r*e.R,l,c+32*r,16);for(r=0;8>r;++r)n(y,p+r*e.B,u,d+32*r,8),n(v,b+r*e.B,h,f+32*r,8)}}function Dr(e,n,a,i,s,o,l,c,u){var d=[0],h=[0],f=0,p=null!=u?u.kd:0,m=null!=u?u:new nr;if(null==e||12>a)return 7;m.data=e,m.w=n,m.ha=a,n=[n],a=[a],m.gb=[m.gb];e:{var g=n,v=a,b=m.gb;if(t(null!=e),t(null!=v),t(null!=b),b[0]=0,12<=v[0]&&!r(e,g[0],"RIFF")){if(r(e,g[0]+8,"WEBP")){b=3;break e}var x=L(e,g[0]+4);if(12>x||4294967286<x){b=3;break e}if(p&&x>v[0]-8){b=7;break e}b[0]=x,g[0]+=12,v[0]-=12}b=0}if(0!=b)return b;for(x=0<m.gb[0],a=a[0];;){e:{var N=e;v=n,b=a;var _=d,S=h,j=g=[0];if((C=f=[f])[0]=0,8>b[0])b=7;else{if(!r(N,v[0],"VP8X")){if(10!=L(N,v[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var k=L(N,v[0]+8),A=1+E(N,v[0]+12);if(2147483648<=A*(N=1+E(N,v[0]+15))){b=3;break e}null!=j&&(j[0]=k),null!=_&&(_[0]=A),null!=S&&(S[0]=N),v[0]+=18,b[0]-=18,C[0]=1}b=0}}if(f=f[0],g=g[0],0!=b)return b;if(v=!!(2&g),!x&&f)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=v),null!=c&&(c[0]=0),l=d[0],g=h[0],f&&v&&null==u){b=0;break}if(4>a){b=7;break}if(x&&f||!x&&!f&&!r(e,n[0],"ALPH")){a=[a],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{k=e,b=n,x=a;var C=m.gb;_=m.na,S=m.P,j=m.Sa,A=22,t(null!=k),t(null!=x),N=b[0];var O=x[0];for(t(null!=_),t(null!=j),_[0]=null,S[0]=null,j[0]=0;;){if(b[0]=N,x[0]=O,8>O){b=7;break e}var P=L(k,N+4);if(4294967286<P){b=3;break e}var T=8+P+1&-2;if(A+=T,0<C&&A>C){b=3;break e}if(!r(k,N,"VP8 ")||!r(k,N,"VP8L")){b=0;break e}if(O[0]<T){b=7;break e}r(k,N,"ALPH")||(_[0]=k,S[0]=N+8,j[0]=P),N+=T,O-=T}}if(a=a[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}a=[a],m.Ja=[m.Ja],m.xa=[m.xa];e:if(C=e,b=n,x=a,_=m.gb[0],S=m.Ja,j=m.xa,k=b[0],N=!r(C,k,"VP8 "),A=!r(C,k,"VP8L"),t(null!=C),t(null!=x),t(null!=S),t(null!=j),8>x[0])b=7;else{if(N||A){if(C=L(C,k+4),12<=_&&C>_-12){b=3;break e}if(p&&C>x[0]-8){b=7;break e}S[0]=C,b[0]+=8,x[0]-=8,j[0]=A}else j[0]=5<=x[0]&&47==C[k+0]&&!(C[k+4]>>5),S[0]=x[0];b=0}if(a=a[0],m.Ja=m.Ja[0],m.xa=m.xa[0],n=n[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==c||v||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>a){b=7;break}c=l,p=g,v=o,null==e||5>a?e=0:5<=a&&47==e[n+0]&&!(e[n+4]>>5)?(x=[0],C=[0],_=[0],y(S=new w,e,n,a),me(S,x,C,_)?(null!=c&&(c[0]=x[0]),null!=p&&(p[0]=C[0]),null!=v&&(v[0]=_[0]),e=1):e=0):e=0}else{if(10>a){b=7;break}c=g,null==e||10>a||!Ye(e,n+3,a-3)?e=0:(p=e[n+0]|e[n+1]<<8|e[n+2]<<16,v=16383&(e[n+7]<<8|e[n+6]),e=16383&(e[n+9]<<8|e[n+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!v||!e?e=0:(l&&(l[0]=v),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],f&&(d[0]!=l||h[0]!=g))return 3;null!=u&&(u[0]=m,u.offset=n-u.w,t(4294967286>n-u.w),t(u.offset==u.ha-a));break}return 0==b||7==b&&f&&null==u?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=i&&(i[0]=l),null!=s&&(s[0]=g),0):b}function Ir(e,t,r){var n=t.width,a=t.height,i=0,s=0,o=n,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,i=e.v,s=e.j,11>r||(i&=-2,s&=-2),0>i||0>s||0>=o||0>=l||i+o>n||s+l>a))return 0;if(t.v=i,t.j=s,t.va=i+o,t.o=s+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!R(o,l,r=[e.ib],i=[e.hb]))return 0;t.ib=r[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*a/4,t.Kb=0),1}function Rr(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Mr(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var a=r.cd,s=r.bd,o=-2&r.v,l=-2&r.j;if(0>o||0>l||0>=a||0>=s||o+a>e||l+s>t)return 2;e=a,t=s}if(r.da){if(!R(e,t,a=[r.ib],s=[r.hb]))return 2;e=a[0],t=s[0]}}n.width=e,n.height=t;e:{var c=n.width,u=n.height;if(e=n.S,0>=c||0>=u||!(e>=Rn&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){o=s=a=t=0;var d=(l=c*qa[e])*u;if(11>e||(s=(u+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*u)),null==(u=i(d+2*s+o))){e=1;break e}n.sd=u,11>e?((c=n.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=d):((c=n.f.kb).y=u,c.O=0,c.fa=l,c.Fd=d,c.f=u,c.N=0+d,c.Ab=t,c.Cd=s,c.ea=u,c.W=0+d+s,c.Db=t,c.Ed=s,12==e&&(c.F=u,c.J=0+d+2*s),c.Tc=o,c.lb=a)}if(t=1,a=n.S,s=n.width,o=n.height,a>=Rn&&13>a)if(11>a)e=n.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+s<=e.size,t&=l>=s*qa[a],t&=null!=e.eb;else{e=n.f.kb,l=(s+1)/2,d=(o+1)/2,c=Math.abs(e.fa),u=Math.abs(e.Ab);var h=Math.abs(e.Db),f=Math.abs(e.lb),p=f*(o-1)+s;t&=c*(o-1)+s<=e.Fd,t&=u*(d-1)+l<=e.Cd,t=(t&=h*(d-1)+l<=e.Ed)&c>=s&u>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=f>=s,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Rr(n)),e}var Fr=64,Br=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zr=24,Ur=32,qr=8,$r=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return U(U(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return U(e,t[r-1])},e.Predictor7=function(e,t,r){return U(e,t[r+0])},e.Predictor8=function(e,t,r){return U(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return U(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return U(U(e,t[r-1]),U(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var n=t[r+0];return 0>=W(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+W(n>>16&255,e>>16&255,t>>16&255)+W(n>>8&255,e>>8&255,t>>8&255)+W(255&n,255&e,255&t)?n:e},e.Predictor12=function(e,t,r){var n=t[r+0];return(q((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|q((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|q((255&e)+(255&n)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var n=t[r-1];return($((e=U(e,t[r+0]))>>24&255,n>>24&255)<<24|$(e>>16&255,n>>16&255)<<16|$(e>>8&255,n>>8&255)<<8|$(255&e,255&n))>>>0};var Wr=e.PredictorAdd0;e.PredictorAdd1=H,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Hr=e.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Kr,Vr=e.ColorIndexInverseTransform,Gr=e.MapARGB,Yr=e.VP8LColorIndexInverseTransformAlpha,Jr=e.MapAlpha,Xr=e.VP8LPredictorsAdd=[];Xr.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Qr,Zr,en,tn,rn,nn,an,sn,on,ln,cn,un,dn,hn,fn,pn,mn,gn,yn,vn,bn,xn,wn,Nn,_n,Sn,jn,kn,An=i(511),Cn=i(2041),On=i(225),Pn=i(767),En=0,Ln=Cn,Tn=On,Dn=Pn,In=An,Rn=0,Mn=1,Fn=2,Bn=3,zn=4,Un=5,qn=6,$n=7,Wn=8,Hn=9,Kn=10,Vn=[2,3,7],Gn=[3,3,11],Yn=[280,256,256,256,40],Jn=[0,1,1,1,0],Xn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ea=8,ta=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ra=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,aa=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ia=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sa=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],la=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ca=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ua=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],da=[],ha=[],fa=[],pa=1,ma=2,ga=[],ya=[];yr("UpsampleRgbLinePair",_r,3),yr("UpsampleBgrLinePair",Sr,3),yr("UpsampleRgbaLinePair",Or,4),yr("UpsampleBgraLinePair",Cr,4),yr("UpsampleArgbLinePair",Ar,4),yr("UpsampleRgba4444LinePair",kr,2),yr("UpsampleRgb565LinePair",jr,2);var va=e.UpsampleRgbLinePair,ba=e.UpsampleBgrLinePair,xa=e.UpsampleRgbaLinePair,wa=e.UpsampleBgraLinePair,Na=e.UpsampleArgbLinePair,_a=e.UpsampleRgba4444LinePair,Sa=e.UpsampleRgb565LinePair,ja=16,ka=1<<ja-1,Aa=-227,Ca=482,Oa=6,Pa=(256<<Oa)-1,Ea=0,La=i(256),Ta=i(256),Da=i(256),Ia=i(256),Ra=i(Ca-Aa),Ma=i(Ca-Aa);Pr("YuvToRgbRow",_r,3),Pr("YuvToBgrRow",Sr,3),Pr("YuvToRgbaRow",Or,4),Pr("YuvToBgraRow",Cr,4),Pr("YuvToArgbRow",Ar,4),Pr("YuvToRgba4444Row",kr,2),Pr("YuvToRgb565Row",jr,2);var Fa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ba=[0,2,8],za=[8,7,6,4,4,2,2,2,1,1,1,1],Ua=1;this.WebPDecodeRGBA=function(e,r,n,a,i){var s=Mn,o=new rr,l=new se;o.ba=l,l.S=s,l.width=[l.width],l.height=[l.height];var c=l.width,u=l.height,d=new oe;if(null==d||null==e)var h=2;else t(null!=d),h=Dr(e,r,n,d.width,d.height,d.Pd,d.Qd,d.format,null);if(0!=h?c=0:(null!=c&&(c[0]=d.width[0]),null!=u&&(u[0]=d.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=a&&(a[0]=l.width),null!=i&&(i[0]=l.height);e:{if(a=new Ke,(i=new nr).data=e,i.w=r,i.ha=n,i.kd=1,r=[0],t(null!=i),(0==(e=Dr(i.data,i.w,i.ha,null,null,null,r,null,i))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=o),a.data=i.data,a.w=i.w+i.offset,a.ha=i.ha-i.offset,a.put=fe,a.ac=he,a.bc=pe,a.ma=o,i.xa){if(null==(e=Ce())){o=1;break e}if(function(e,r){var n=[0],a=[0],i=[0];t:for(;;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,y(e.m,r.data,r.w,r.ha),!me(e.m,n,a,i)){e.a=3;break t}if(e.xb=ma,r.width=n[0],r.height=a[0],!Oe(n[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,a)){if(a=0==(r=Mr(a.width,a.height,o.Oa,o.ba))){t:{a=e;r:for(;;){if(null==a){a=0;break t}if(t(null!=a.s.yc),t(null!=a.s.Ya),t(0<a.s.Wb),t(null!=(n=a.l)),t(null!=(i=n.ma)),0!=a.xb){if(a.ca=i.ba,a.tb=i.tb,t(null!=a.ca),!Ir(i.Oa,n,Bn)){a.a=2;break r}if(!Pe(a,n.width))break r;if(n.da)break r;if((n.da||ne(a.ca.S))&&gr(),11>a.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=a.ca.f.kb.F&&gr()),a.Pb&&0<a.s.ua&&null==a.s.vb.X&&!T(a.s.vb,a.s.Wa.Xa)){a.a=1;break r}a.xb=0}if(!ke(a,a.V,a.Ba,a.c,a.i,n.o,Ne))break r;i.Dc=a.Ma,a=1;break t}t(0!=a.a),a=0}a=!a}a&&(r=e.a)}else r=e.a}else{if(null==(e=new Ve)){o=1;break e}if(e.Fa=i.na,e.P=i.P,e.qc=i.Sa,Je(e,a)){if(0==(r=Mr(a.width,a.height,o.Oa,o.ba))){if(e.Aa=0,n=o.Oa,t(null!=(i=e)),null!=n){if(0<(c=0>(c=n.Md)?0:100<c?255:255*c/100)){for(u=d=0;4>u;++u)12>(h=i.pb[u]).lc&&(h.ia=c*za[0>h.lc?0:h.lc]>>3),d|=h.ia;d&&(alert("todo:VP8InitRandom"),i.ia=1)}i.Ga=n.Id,100<i.Ga?i.Ga=100:0>i.Ga&&(i.Ga=0)}Ze(e,a)||(r=e.a)}}else r=e.a}0==r&&null!=o.Oa&&o.Oa.fd&&(r=Rr(o.ba))}o=r}s=0!=o?null:11>s?l.f.RGBA.eb:l.f.kb.y}else s=null;return s};var qa=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],f=[0],p=[],m=new l,g=e,y=function(e,t){var r={},n=0,a=!1,i=0,s=0;if(r.frames=[],!function(e,t){for(var r=0;r<4;r++)if(e[t+r]!="RIFF".charCodeAt(r))return!0;return!1}(e,t)){for(d(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=d(e,t+=4);t+=4;var h=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===r.frames[n]&&(r.frames[n]={}),(m=r.frames[n]).src_off=a?s:t-8,m.src_size=i+l+8,n++,a&&(a=!1,i=0,s=0);break;case"VP8X":(m=r.header={}).feature_flags=e[t];var f=t+4;m.canvas_width=1+u(e,f),f+=3,m.canvas_height=1+u(e,f),f+=3;break;case"ALPH":a=!0,i=h+8,s=t-8;break;case"ANIM":(m=r.header).bgcolor=d(e,t),f=t+4,m.loop_count=(g=e)[(y=f)+0]|g[y+1]<<8,f+=2;break;case"ANMF":var p,m;(m=r.frames[n]={}).offset_x=2*u(e,t),t+=3,m.offset_y=2*u(e,t),t+=3,m.width=1+u(e,t),t+=3,m.height=1+u(e,t),t+=3,m.duration=u(e,t),t+=3,p=e[t++],m.dispose=1&p,m.blend=p>>1&1}"ANMF"!=o&&(t+=h)}var g,y;return r}}(g,0);y.response=g,y.rgbaoutput=!0,y.dataurl=!1;var v=y.header?y.header:null,b=y.frames?y.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],f=[v.canvas_width];for(var x=0;x<b.length&&0!=b[x].blend;x++);}var w=b[0],N=m.WebPDecodeRGBA(g,w.src_off,w.src_size,f,h);w.rgba=N,w.imgwidth=f[0],w.imgheight=h[0];for(var _=0;_<f[0]*h[0]*4;_++)p[_]=N[_];return this.width=f,this.height=h,this.data=p,this}!function(e){var t=function(t,n,l,c){var u=4,d=i;switch(c){case e.image_compression.FAST:u=1,d=a;break;case e.image_compression.MEDIUM:u=6,d=s;break;case e.image_compression.SLOW:u=9,d=o}var h=kE(t=r(t,n,l,d),{level:u});return e.__addimage__.arrayBufferToBinaryString(h)},r=function(e,t,r,n){for(var a,i,s,o=e.length/t,l=new Uint8Array(e.length+o),d=c(),h=0;h<o;h+=1){if(s=h*t,a=e.subarray(s,s+t),n)l.set(n(a,r,i),s+h);else{for(var f,p=d.length,m=[];f<p;f+=1)m[f]=d[f](a,r,i);var g=u(m.concat());l.set(m[g],s+h)}i=a}return l},n=function(e){var t=Array.apply([],e);return t.unshift(0),t},a=function(e,t){var r,n=[],a=e.length;n[0]=1;for(var i=0;i<a;i+=1)r=e[i-t]||0,n[i+1]=e[i]-r+256&255;return n},i=function(e,t,r){var n,a=[],i=e.length;a[0]=2;for(var s=0;s<i;s+=1)n=r&&r[s]||0,a[s+1]=e[s]-n+256&255;return a},s=function(e,t,r){var n,a,i=[],s=e.length;i[0]=3;for(var o=0;o<s;o+=1)n=e[o-t]||0,a=r&&r[o]||0,i[o+1]=e[o]+256-(n+a>>>1)&255;return i},o=function(e,t,r){var n,a,i,s,o=[],c=e.length;o[0]=4;for(var u=0;u<c;u+=1)n=e[u-t]||0,a=r&&r[u]||0,i=r&&r[u-t]||0,s=l(n,a,i),o[u+1]=e[u]-s+256&255;return o},l=function(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r},c=function(){return[n,a,i,s,o]},u=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(r,n,a,i){var s,o,l,c,u,d,h,f,p,m,g,y,v,b,x,w=this.decode.FLATE_DECODE,N="";if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){if(r=(l=new xT(r)).imgData,o=l.bits,s=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*l.colors),m=new Uint8Array(p);var _,S=l.pixelBitlength-l.bits;for(b=0,x=0;b<p;b++){for(v=f[b],_=0;_<S;)g[x++]=v>>>_&255,_+=l.bits;m[b]=v>>>_&255}}if(16===l.bits){p=(f=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),m=new Uint8Array(p*(32/l.pixelBitlength)),y=l.colors>1,b=0,x=0;for(var j=0;b<p;)v=f[b++],g[x++]=v>>>0&255,y&&(g[x++]=v>>>16&255,v=f[b++],g[x++]=v>>>0&255),m[j++]=v>>>16&255;o=8}i!==e.image_compression.NONE?(r=t(g,l.width*l.colors,l.colors,i),h=t(m,l.width,1,i)):(r=g,h=m,w=void 0)}if(3===l.colorType&&(s=this.color_spaces.INDEXED,d=l.palette,l.transparency.indexed)){var k=l.transparency.indexed,A=0;for(b=0,p=k.length;b<p;++b)A+=k[b];if((A/=255)===p-1&&-1!==k.indexOf(0))c=[k.indexOf(0)];else if(A!==p){for(f=l.decodePixels(),m=new Uint8Array(f.length),b=0,p=f.length;b<p;b++)m[b]=k[f[b]];h=t(m,l.width,1)}}var C=function(t){var r;switch(t){case e.image_compression.FAST:r=11;break;case e.image_compression.MEDIUM:r=13;break;case e.image_compression.SLOW:r=14;break;default:r=12}return r}(i);return w===this.decode.FLATE_DECODE&&(N="/Predictor "+C+" "),N+="/Colors "+u+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:a,data:r,index:n,filter:w,decodeParameters:N,transparency:c,palette:d,sMask:h,predictor:C,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:s}}}}(lL.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new wT(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new _T(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(lL.API),ST.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ST.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){EE.log("bit decode error:"+e)}},ST.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}0!==r&&(this.pos+=4-r)}},ST.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},ST.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},ST.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},ST.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},ST.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},ST.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},ST.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new ST(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new _T(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(lL.API),jT.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new jT(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new _T(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(lL.API),lL.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],d=n[c+1],h=n[c+2],f=n[c+3];i[o++]=u,i[o++]=d,i[o++]=h,s[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},lL.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mT=lL.API,gT=mT.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=!1!==t.doKerning,h=0,f=e.length,p=0,m=o[0]||l,g=[];for(r=0;r<f;r++)n=e.charCodeAt(r),"function"==typeof a.metadata.widthOfString?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=d&&"object"===(0,LP.A)(c[n])&&!isNaN(parseInt(c[n][p],10))?c[n][p]/u:0,g.push((o[n]||m)/l+h)),p=n;return g},yT=mT.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return mT.processArabic&&(e=mT.processArabic(e)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(e,r,a)/r:gT.apply(this,arguments).reduce(function(e,t){return e+t},0)},vT=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},bT=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],d=[u],h=r.textIndent||0,f=0,p=0,m=e.split(" "),g=gT.apply(this,[" ",r])[0];if(l=-1===r.lineIndent?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),v=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):v.push(e[0])}),m=v,l=yT.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var b=0;if(n=m[i],l&&"\n"==n[0]&&(n=n.substr(1),b=1),h+f+(p=(a=gT.apply(this,[n,r])).reduce(function(e,t){return e+t},0))>t||b){if(p>t){for(o=vT.apply(this,[n,a,t-(h+f),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);p=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(e,t){return e+t},0)}else u=[n];d.push(u),h=p+l,f=g}else u.push(n),h+=f+p,f=g}return c=l?function(e,t){return(t?y:"")+e.join(" ")}:function(e){return e.join(" ")},d.map(c)},mT.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(bT.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<16;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,r,a,o,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?r="'"+c+"'":(c=parseInt(c,10),r=(r=i(c).slice(2)).slice(0,-1)+n[r.slice(-1)]),"number"==typeof t)t<0?(a=i(t).slice(3),o="-"):(a=i(t).slice(2),o=""),a=o+a.slice(0,-1)+n[a.slice(-1)];else{if("object"!==(0,LP.A)(t))throw new Error("Don't know what to do with value type "+(0,LP.A)(t)+".");a=s(t)}l.push(r+a)}return l.push("}"),l.join("")},o=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,a,i,s={},o=1,l=s,c=[],u="",d="",h=e.length-1,f=1;f<h;f+=1)"'"==(i=e[f])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(c.push([l,a]),l={},a=void 0):"}"==i?((n=c.pop())[0][n[1]]=l,a=void 0,l=n[0]):"-"==i?o=-1:void 0===a?r.hasOwnProperty(i)?(u+=r[i],a=parseInt(u,16)*o,o=1,u=""):u+=i:r.hasOwnProperty(i)?(d+=r[i],l[a]=parseInt(d,16)*o,o=1,a=void 0,d=""):d+=i;return s},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var n=c.Unicode[t.postScriptName];n&&(t.metadata.Unicode.encoding=n,t.encoding=n.codePages[0])}])}(lL.API),function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(n=!1===i.existsFileInVFS(a.postScriptName)?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(r,n){n=/^\x00\x01\x00\x00/.test(n)?t(n):t(IE(n)),r.metadata=e.API.TTFFont.open(n),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}(a,n)}}])}(lL),function(){function e(){return(OE.canvg?Promise.resolve(OE.canvg):r.e(732).then(r.bind(r,3732))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}lL.API.addSvgAsImage=function(t,r,n,a,i,s,o,l){if(isNaN(r)||isNaN(n))throw EE.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw EE.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(e){return e.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),r,n,a,i,o,l)})}}(),lL.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},lL.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,d=0;function h(e,t){var r,n=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=o.length;for(d=0;d<f;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if("object"===(0,LP.A)(e))for(a in e)if(i=e[a],h(o,a)&&void 0!==i){if("boolean"===r[a].type&&"boolean"==typeof i)r[a].value=i;else if("name"===r[a].type&&h(r[a].valueSet,i))r[a].value=i;else if("integer"===r[a].type&&Number.isInteger(i))r[a].value=i;else if("array"===r[a].type){for(c=0;c<i.length;c+=1)if(n=!0,1===i[c].length&&"number"==typeof i[c][0])l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)"number"!=typeof i[c][u]&&(n=!1);!0===n&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in r)!0===r[e].explicitSet&&("name"===r[e].type?t.push("/"+e+" /"+r[e].value):t.push("/"+e+" "+r[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),n=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),s=r.length+n.length+a.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+r+n+a+i),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(lL.API),function(e){var t=e.API,r=t.pdfEscape16=function(e,t){for(var r,n=t.metadata.Unicode.widths,a=["","0","00","000","0000"],i=[""],s=0,o=e.length;s<o;++s){if(r=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(s),-1==n.indexOf(r)&&(n.push(r),n.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"==r)return i.join("");r=r.toString(16),i.push(a[4-r.length],r)}return i.join("")},n=function(e){var t,r,n,a,i,s,o;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],s=0,o=(r=Object.keys(e).sort(function(e,t){return e-t})).length;s<o;s++)t=r[s],n.length>=100&&(i+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),n.push("<"+t+"><"+a+">"));return n.length&&(i+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var r=t.font,a=t.out,i=t.newObject,s=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"Identity-H"===r.encoding){for(var o=r.metadata.Unicode.widths,l=r.metadata.subset.encode(r.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var d=i();s({data:c,addLength1:!0,objectId:d}),a("endobj");var h=i();s({data:n(r.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var f=i();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+rL(r.fontName)),a("/FontFile2 "+d+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),a("/Flags "+r.metadata.flags),a("/StemV "+r.metadata.stemV),a("/ItalicAngle "+r.metadata.italicAngle),a("/Ascent "+r.metadata.ascender),a("/Descent "+r.metadata.decender),a("/CapHeight "+r.metadata.capHeight),a(">>"),a("endobj");var p=i();a("<<"),a("/Type /Font"),a("/BaseFont /"+rL(r.fontName)),a("/FontDescriptor "+f+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+r.encoding+")"),a(">>"),a(">>"),a("endobj"),r.objectNumber=i(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+rL(r.fontName)),a("/Encoding /"+r.encoding),a("/DescendantFonts ["+p+" 0 R]"),a(">>"),a("endobj"),r.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var r=t.font,a=t.out,i=t.newObject,s=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===r.encoding){for(var o=r.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var u=i();s({data:l,addLength1:!0,objectId:u}),a("endobj");var d=i();s({data:n(r.metadata.toUnicode),addLength1:!0,objectId:d}),a("endobj");var h=i();a("<<"),a("/Descent "+r.metadata.decender),a("/CapHeight "+r.metadata.capHeight),a("/StemV "+r.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+u+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),a("/FontName /"+rL(r.fontName)),a("/ItalicAngle "+r.metadata.italicAngle),a("/Ascent "+r.metadata.ascender),a(">>"),a("endobj"),r.objectNumber=i();for(var f=0;f<r.metadata.hmtx.widths.length;f++)r.metadata.hmtx.widths[f]=parseInt(r.metadata.hmtx.widths[f]*(1e3/r.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+rL(r.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+r.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(r.metadata.hmtx.widths)+">>"),a("endobj"),r.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,n=e.text||"",a=e.x,i=e.y,s=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,u=o.fonts,d=c,h="",f=0,p="",m=u[d].encoding;if("Identity-H"!==u[d].encoding)return{text:n,x:a,y:i,options:s,mutex:o};for(p=n,d=c,Array.isArray(n)&&(p=n[0]),f=0;f<p.length;f+=1)u[d].metadata.hasOwnProperty("cmap")&&(t=u[d].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),t||p[f].charCodeAt(0)<256&&u[d].metadata.hasOwnProperty("Unicode")?h+=p[f]:h+="";var g="";return parseInt(d.slice(1))<14||"WinAnsiEncoding"===m?g=l(h,d).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(g=r(h,u[d])),o.isHex=!0,{text:g,x:a,y:i,options:s,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",r=[],n={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?r.push([a(Object.assign({},n,{text:t[i][0]})).text,t[i][1],t[i][2]]):r.push(a(Object.assign({},n,{text:t[i]})).text);e.text=r}else e.text=a(Object.assign({},n,{text:t})).text}])}(lL),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(lL.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,n,a,i,s,o,l,c=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,y=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),r=t>>8,n=f[r];return void 0!==n?c[256*n+(255&t)]:252===r||253===r?"AL":m.test(r)?"L":8===r?"R":"N"},b=function(e){for(var t,r=0;r<e.length;r++){if("L"===(t=v(e.charAt(r))))return!1;if("R"===t)return!0}return!1},x=function(e,t,s,o){var l,c,u,d,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=s[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?s[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===s[o-1]){h="EN";break}if(g){h="N";break}for(u=o+1,d=t.length;u<d&&"ET"===t[u];)u++;h=u<d&&"EN"===t[u]?"EN":"N";break;case"NSM":if(a&&!i){for(d=t.length,u=o+1;u<d&&"NSM"===t[u];)u++;if(u<d){var f=e[o],p=f>=1425&&f<=2303||64286===f;if(l=t[u],p&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":s[o-1];break;case"B":g=!1,r=!0,h=y;break;case"S":n=!0,h="N"}return h},w=function(e,t,r){var n=e.split("");return r&&N(n,r,{hiLevel:y}),n.reverse(),t&&t.reverse(),n.join("")},N=function(e,t,a){var i,s,o,l,c,f=-1,p=e.length,m=0,b=[],w=y?d:u,N=[];for(g=!1,r=!1,n=!1,s=0;s<p;s++)N[s]=v(e[s]);for(o=0;o<p;o++){if(c=m,b[o]=x(e,N,b,o),i=240&(m=w[c][h[b[o]]]),m&=15,t[o]=l=w[m][5],i>0)if(16===i){for(s=f;s<o;s++)t[s]=1;f=-1}else f=-1;if(w[m][6])-1===f&&(f=o);else if(f>-1){for(s=f;s<o;s++)t[s]=l;f=-1}"B"===N[o]&&(t[o]=0),a.hiLevel|=l}n&&function(e,t,r){for(var n=0;n<r;n++)if("S"===e[n]){t[n]=y;for(var a=n-1;a>=0&&"WS"===e[a];a--)t[a]=y}}(N,t,p)},_=function(e,t,n,a,i){if(!(i.hiLevel<e)){if(1===e&&1===y&&!r)return t.reverse(),void(n&&n.reverse());for(var s,o,l,c,u=t.length,d=0;d<u;){if(a[d]>=e){for(l=d+1;l<u&&a[l]>=e;)l++;for(c=d,o=l-1;c<o;c++,o--)s=t[c],t[c]=t[o],t[o]=s,n&&(s=n[c],n[c]=n[o],n[o]=s);d=l}d++}}},S=function(e,t,r){var n=e.split(""),a={hiLevel:y};return r||(r=[]),N(n,r,a),function(e,t,r){if(0!==r.hiLevel&&l)for(var n,a=0;a<e.length;a++)1===t[a]&&(n=p.indexOf(e[a]))>=0&&(e[a]=p[n+1])}(n,r,a),_(2,n,t,r,a),_(1,n,t,r,a),n.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===i&&(i=b(e)),void 0===o&&(o=b(e))}(e,t),a||!s||o)if(a&&s&&i^o)y=i?1:0,e=w(e,t,r);else if(!a&&s&&o)y=i?1:0,e=S(e,t,r),e=w(e,t);else if(!a||i||s||o){if(a&&!s&&i^o)e=w(e,t),i?(y=0,e=S(e,t,r)):(y=1,e=S(e,t,r),e=w(e,t));else if(a&&i&&!s&&o)y=1,e=S(e,t,r),e=w(e,t);else if(!a&&!s&&i^o){var n=l;i?(y=1,e=S(e,t,r),y=0,l=!1,e=S(e,t,r),l=n):(y=0,e=S(e,t,r),e=w(e,t),y=1,l=!1,e=S(e,t,r),l=n,e=w(e,t))}}else y=0,e=S(e,t,r);else y=i?1:0,e=S(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,s=e.isOutputVisual,i=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var n=e.options||{};e.mutex,n.lang;var a=[];if(n.isInputVisual="boolean"!=typeof n.isInputVisual||n.isInputVisual,r.setOptions(n),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(a=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?a.push([r.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):a.push([r.doBidiReorder(t[i])]);e.text=a}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(lL),lL.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new AT(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new KT(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new CT(this.contents),this.head=new ET(this),this.name=new FT(this),this.cmap=new TT(this),this.toUnicode={},this.hhea=new DT(this),this.maxp=new BT(this),this.hmtx=new zT(this),this.post=new RT(this),this.os2=new IT(this),this.loca=new HT(this),this.glyf=new qT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,n,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,r,n,a;for(a=[],t=0,r=(n=this.bbox).length;t<r;t++)e=n[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),0!=(32768&(t=n>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var n,a,i,s;for(i=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)n=e.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return i*(t/1e3)},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var kT,AT=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,n,a,i,s,o;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^a)+65536*(255^i)+256*(255^s)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*a+65536*i+256*s+o},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,n,a;for(a=[],r=0,n=e.length;r<n;r++)t=e[r],a.push(this.writeByte(t));return a},e}(),CT=function(){var e;function t(e){var t,r,n;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,n=this.tableCount;0<=n?r<n:r>n;r=0<=n?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,n,a,i,s,o,l,c,u,d,h,f,p;for(p in h=Object.keys(t).length,o=Math.log(2),u=16*Math.floor(Math.log(h)/o),i=Math.floor(u/o),c=16*h-u,(n=new AT).writeInt(this.scalarType),n.writeShort(h),n.writeShort(u),n.writeShort(i),n.writeShort(c),a=16*h,l=n.pos+a,s=null,f=[],t)for(d=t[p],n.writeString(p),n.writeInt(e(d)),n.writeInt(l),n.writeInt(d.length),f=f.concat(d),"head"===p&&(s=l),l+=d.length;l%4;)f.push(0),l++;return n.write(f),r=2981146554-e(n.data),n.pos=s+8,n.writeUInt32(r),n.data},e=function(e){var t,r,n,a;for(e=UT.call(e);e.length%4;)e.push(0);for(n=new AT(e),r=0,t=0,a=e.length;t<a;t=t+=4)r+=n.readUInt32();return 4294967295&r},t}(),OT={}.hasOwnProperty,PT=function(e,t){for(var r in t)OT.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};kT=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var ET=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new AT).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),LT=function(){function e(e,t){var r,n,a,i,s,o,l,c,u,d,h,f,p,m,g,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,a=function(){var t,r;for(r=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,p=function(){var t,r;for(r=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)r.push(e.readUInt16());return r}(),l=function(){var t,r;for(r=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)r.push(e.readUInt16());return r}(),c=function(){var t,r;for(r=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)r.push(e.readUInt16());return r}(),n=(this.length-e.pos+this.offset)/2,s=function(){var t,r;for(r=[],o=t=0;0<=n?t<n:t>n;o=0<=n?++t:--t)r.push(e.readUInt16());return r}(),o=g=0,v=a.length;g<v;o=++g)for(m=a[o],r=y=f=p[o];f<=m?y<=m:y>=m;r=f<=m?++y:--y)0===c[o]?i=r+l[o]:0!==(i=s[c[o]/2+(r-f)-(d-o)]||0)&&(i+=l[o]),this.codeMap[r]=65535&i}e.pos=u}return e.encode=function(e,t){var r,n,a,i,s,o,l,c,u,d,h,f,p,m,g,y,v,b,x,w,N,_,S,j,k,A,C,O,P,E,L,T,D,I,R,M,F,B,z,U,q,$,W,H,K,V;switch(O=new AT,i=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(p=0,m=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),y={0:0},a={},P=0,D=i.length;P<D;P++)null==y[W=e[n=i[P]]]&&(y[W]=++p),a[n]={old:e[n],new:y[e[n]]},m[n]=y[e[n]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(m),{charMap:a,subtable:O.data,maxGlyphID:p+1};case"unicode":for(A=[],u=[],v=0,y={},r={},g=l=null,E=0,I=i.length;E<I;E++)null==y[x=e[n=i[E]]]&&(y[x]=++v),r[n]={old:x,new:y[x]},s=y[x]-n,null!=g&&s===l||(g&&u.push(g),A.push(n),l=s),g=n;for(g&&u.push(g),u.push(65535),A.push(65535),j=2*(S=A.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),d=Math.log(_/2)/Math.LN2,N=2*S-_,o=[],w=[],h=[],f=L=0,R=A.length;L<R;f=++L){if(k=A[f],c=u[f],65535===k){o.push(0),w.push(0);break}if(k-(C=r[k].new)>=32768)for(o.push(0),w.push(2*(h.length+S-f)),n=T=k;k<=c?T<=c:T>=c;n=k<=c?++T:--T)h.push(r[n].new);else o.push(C-k),w.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*S+2*h.length),O.writeUInt16(0),O.writeUInt16(j),O.writeUInt16(_),O.writeUInt16(d),O.writeUInt16(N),q=0,M=u.length;q<M;q++)n=u[q],O.writeUInt16(n);for(O.writeUInt16(0),$=0,F=A.length;$<F;$++)n=A[$],O.writeUInt16(n);for(H=0,B=o.length;H<B;H++)s=o[H],O.writeUInt16(s);for(K=0,z=w.length;K<z;K++)b=w[K],O.writeUInt16(b);for(V=0,U=h.length;V<U;V++)p=h[V],O.writeUInt16(p);return{charMap:r,subtable:O.data,maxGlyphID:v+1}}},e}(),TT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new LT(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var r,n;return null==t&&(t="macroman"),r=LT.encode(e,t),(n=new AT).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},e}(),DT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),IT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),RT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="post",e.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var t,r,n;for(n=[],a=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;a=0<=r?++t:--t)n.push(e.readUInt32());return n}.call(this)}},e}(),MT=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},FT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="name",e.prototype.parse=function(e){var t,r,n,a,i,s,o,l,c,u,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(o={},a=c=0,u=r.length;c<u;a=++c)n=r[a],e.pos=n.offset,l=e.readString(n.length),i=new MT(l,n),null==o[d=n.nameID]&&(o[d]=[]),o[n.nameID].push(i);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),BT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),zT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,r,n,a,i,s,o;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,a;for(a=[],t=r=0;0<=n?r<n:r>n;t=0<=n?++r:--r)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,r,n;for(n=[],e=0,t=(r=this.metrics).length;e<t;e++)a=r[e],n.push(a.advance);return n}.call(this),r=this.widths[this.widths.length-1],o=[],t=i=0;0<=n?i<n:i>n;t=0<=n?++i:--i)o.push(this.widths.push(r));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),UT=[].slice,qT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,r,n,a,i,s,o,l,c,u;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,r=a.indexOf(e),0===(n=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,i=(s=new AT(t.read(n))).readShort(),l=s.readShort(),u=s.readShort(),o=s.readShort(),c=s.readShort(),this.cache[e]=-1===i?new WT(s,l,u,o,c):new $T(s,i,l,u,o,c),this.cache[e]))},e.prototype.encode=function(e,t,r){var n,a,i,s,o;for(i=[],a=[],s=0,o=t.length;s<o;s++)n=e[t[s]],a.push(i.length),n&&(i=i.concat(n.encode(r)));return a.push(i.length),{table:i,offsets:a}},e}(),$T=function(){function e(e,t,r,n,a,i){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),WT=function(){function e(e,t,r,n,a){var i,s;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;s=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&s;)i.pos+=1&s?4:2,128&s?i.pos+=8:64&s?i.pos+=4:8&s&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new AT(UT.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),HT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return PT(e,kT),e.prototype.tag="loca",e.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=2)n.push(2*e.readUInt16());return n}.call(this):function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=4)n.push(e.readUInt32());return n}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,a=0,i=0;i<r.length;++i)if(r[i]=n,a<t.length&&t[a]==i){++a,r[i]=n;var s=this.offsets[i],o=this.offsets[i+1]-s;o>0&&(n+=o)}for(var l=new Array(4*r.length),c=0;c<r.length;++c)l[4*c+3]=255&r[c],l[4*c+2]=(65280&r[c])>>8,l[4*c+1]=(16711680&r[c])>>16,l[4*c]=(4278190080&r[c])>>24;return l},e}(),KT=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,n,a;for(t in n=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=n[r];return e},e.prototype.glyphsFor=function(e){var t,r,n,a,i,s,o;for(n={},i=0,s=e.length;i<s;i++)n[a=e[i]]=this.font.glyf.glyphFor(a);for(a in t=[],n)(null!=(r=n[a])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))r=o[a],n[a]=r;return n},e.prototype.encode=function(e,t){var r,n,a,i,s,o,l,c,u,d,h,f,p,m,g;for(n in r=TT.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),h={0:0},g=r.charMap)h[(o=g[n]).old]=o.new;for(f in d=r.maxGlyphID,i)f in h||(h[f]=d++);return c=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(h),u=Object.keys(c).sort(function(e,t){return e-t}),p=function(){var e,t,r;for(r=[],e=0,t=u.length;e<t;e++)s=u[e],r.push(c[s]);return r}(),a=this.font.glyf.encode(i,p,h),l=this.font.loca.encode(a.offsets,p),m={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();function VT(e,t,r,n,a){n=n||{};var i=a.internal.scaleFactor,s=a.internal.getFontSize()/i,o=s*(a.getLineHeightFactor?a.getLineHeightFactor():1.15),l="",c=1;if("middle"!==n.valign&&"bottom"!==n.valign&&"center"!==n.halign&&"right"!==n.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),r+=s*(2-1.15),"middle"===n.valign?r-=c/2*o:"bottom"===n.valign&&(r-=c*o),"center"===n.halign||"right"===n.halign){var u=s;if("center"===n.halign&&(u*=.5),l&&c>=1){for(var d=0;d<l.length;d++)a.text(l[d],t-a.getStringUnitWidth(l[d])*u,r),r+=o;return a}t-=a.getStringUnitWidth(e)*u}return"justify"===n.halign?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}lL.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var e,a,i;for(i=[],e=0,a=r.length;e<a;e++)n=r[e],i.push(t.convert(n));return i}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join("\n")}return""+r},t}();var GT={},YT=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:GT=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,r){var n,a,i;void 0===r&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),(u=e.unifyColor(t.textColor))&&(a=this.jsPDFDocument).setTextColor.apply(a,u),(u=e.unifyColor(t.lineColor))&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},e.prototype.rect=function(e,t,r,n,a){return this.jsPDFDocument.rect(e,t,r,n,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return GT||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),JT=function(e,t){return JT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},JT(e,t)};function XT(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}JT(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}"function"===typeof SuppressedError&&SuppressedError;var QT=function(e){function t(t){var r=e.call(this)||this;return r._element=t,r}return XT(t,e),t}(Array);function ZT(e,t,r){r.applyStyles(t,!0);var n=(Array.isArray(e)?e:[e]).map(function(e){return r.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0);return n}function eD(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=tD(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function tD(e,t){var r=e>0,n=t||0===t;return r&&n?"DF":r?"S":n?"F":null}function rD(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(r=e.left)&&void 0!==r?r:t,top:null!==(n=e.top)&&void 0!==n?n:t,right:null!==(a=e.right)&&void 0!==a?a:t,bottom:null!==(i=e.bottom)&&void 0!==i?i:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function nD(e,t){var r=rD(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function aD(e,t,r,n,a){var i={},s=96/72,o=iD(t,function(e){return a.getComputedStyle(e).backgroundColor});null!=o&&(i.fillColor=o);var l=iD(t,function(e){return a.getComputedStyle(e).color});null!=l&&(i.textColor=l);var c=function(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(e){return parseInt(e||"0")/n}),s=rD(i,0);a>s.top&&(s.top=a);a>s.bottom&&(s.bottom=a);return s}(n,r);c&&(i.cellPadding=c);var u="borderTopColor",d=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/d;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var p=iD(t,function(e){return a.getComputedStyle(e)[u]});null!=p&&(i.lineColor=p);var m=["left","right","center","justify"];-1!==m.indexOf(n.textAlign)&&(i.halign=n.textAlign),-1!==(m=["middle","bottom","top"]).indexOf(n.verticalAlign)&&(i.valign=n.verticalAlign);var g=parseInt(n.fontSize||"");isNaN(g)||(i.fontSize=g/s);var y=function(e){var t="";("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold");"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic");return t}(n);y&&(i.fontStyle=y);var v=(n.fontFamily||"").toLowerCase();return-1!==e.indexOf(v)&&(i.font=v),i}function iD(e,t){var r=sD(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])];return 0===parseInt(n[4])||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function sD(e,t){var r=t(e);return"rgba(0, 0, 0, 0)"===r||"transparent"===r||"initial"===r||"inherit"===r?null==e.parentElement?null:sD(e.parentElement,t):r}function oD(e,t,r,n,a){var i,s,o;void 0===n&&(n=!1),void 0===a&&(a=!1),o="string"===typeof t?r.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:h};for(var f=0;f<o.rows.length;f++){var p=o.rows[f],m=null===(s=null===(i=null===p||void 0===p?void 0:p.parentElement)||void 0===i?void 0:i.tagName)||void 0===s?void 0:s.toLowerCase(),g=lD(l,c,r,p,n,a);g&&("thead"===m?u.push(g):"tfoot"===m?h.push(g):d.push(g))}return{head:u,body:d,foot:h}}function lD(e,t,r,n,a,i){for(var s=new QT(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||"none"!==c.display){var u=void 0;i&&(u=aD(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:cD(l)})}}var d=r.getComputedStyle(n);if(s.length>0&&(a||"none"!==d.display))return s}function cD(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}function uD(e,t,r,n,a){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function dD(e,t){var r=new YT(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();!function(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&"object"!==typeof i&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&"number"!==typeof i.startY&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}(a,n,t);var i,s=uD({},a,n,t);"undefined"!==typeof window&&(i=window);var o=function(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(a){if("columnStyles"===a){var i=e[a],s=t[a],o=r[a];n.columnStyles=uD({},i,s,o)}else{var l=[e,t,r].map(function(e){return e[a]||{}});n[a]=uD({},l[0],l[1],l[2])}},i=0,s=Object.keys(n);i<s.length;i++){a(s[i])}return n}(a,n,t),l=function(e,t,r){for(var n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,i=[e,t,r];a<i.length;a++){var s=i[a];s.didParseCell&&n.didParseCell.push(s.didParseCell),s.willDrawCell&&n.willDrawCell.push(s.willDrawCell),s.didDrawCell&&n.didDrawCell.push(s.didDrawCell),s.willDrawPage&&n.willDrawPage.push(s.willDrawPage),s.didDrawPage&&n.didDrawPage.push(s.didDrawPage)}return n}(a,n,t),c=function(e,t){var r,n,a,i,s,o,l,c,u,d,h,f,p,m,g=rD(t.margin,40/e.scaleFactor()),y=null!==(r=function(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){i=r.startPageNumber+r.pageNumber-1===a}if("number"===typeof t)return t;if((null==t||!1===t)&&i&&null!=(null===r||void 0===r?void 0:r.finalY))return r.finalY+20/n;return null}(e,t.startY))&&void 0!==r?r:g.top;p=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(n=t.showFoot)&&void 0!==n?n:"everyPage";m=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(a=t.showHead)&&void 0!==a?a:"everyPage";var v=null!==(i=t.useCss)&&void 0!==i&&i,b=t.theme||(v?"plain":"striped"),x=!!t.horizontalPageBreak,w=null!==(s=t.horizontalPageBreakRepeat)&&void 0!==s?s:null;return{includeHiddenHtml:null!==(o=t.includeHiddenHtml)&&void 0!==o&&o,useCss:v,theme:b,startY:y,margin:g,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(u=t.tableWidth)&&void 0!==u?u:"auto",showHead:m,showFoot:p,tableLineWidth:null!==(d=t.tableLineWidth)&&void 0!==d?d:0,tableLineColor:null!==(h=t.tableLineColor)&&void 0!==h?h:200,horizontalPageBreak:x,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(f=t.horizontalPageBreakBehaviour)&&void 0!==f?f:"afterAllRows"}}(r,s),u=function(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=oD(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||function(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(e){return"_element"!==e}).forEach(function(e){var t,r=1;"object"!==typeof(t=Array.isArray(n)?n[parseInt(e)]:n[e])||Array.isArray(t)||(r=(null===t||void 0===t?void 0:t.colSpan)||1);for(var i=0;i<r;i++){var s={dataKey:Array.isArray(n)?a.length:e+(i>0?"_".concat(i):"")};a.push(s)}}),a}(n,a,i);return{columns:l,head:n,body:a,foot:i}}(r,s,i);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}var hD,fD=function(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()},pD=function(e){function t(t,r,n,a,i,s){var o=e.call(this,t,r,s)||this;return o.cell=n,o.row=a,o.column=i,o.section=a.section,o}return XT(t,e),t}(fD),mD=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,r,n,a,i){for(var s=0,o=t;s<o.length;s++){var l=!1===(0,o[s])(new pD(e,this,r,n,a,i));if(r.text=Array.isArray(r.text)?r.text:[r.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++){(0,n[r])(new fD(e,this,t))}},e.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++){(0,n[r])(new fD(e,this,t))}},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),gD=function(){function e(e,t,r,n,a){void 0===a&&(a=!1),this.height=0,this.raw=e,e instanceof QT&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=n,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,r){var n;return Math.max(e,(null===(n=t.cells[r.index])||void 0===n?void 0:n.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var r=t.cells[e.index];return!!r&&r.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(e,n){var a=r.cells[n.index];if(!a)return 0;var i=t.getLineHeight(a.styles.fontSize),s=a.padding("vertical")+i;return s>e?s:e},0)},e}(),yD=function(){function e(e,t,r){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=null!==(n=e.content)&&void 0!==n?n:e,e._element&&(this.raw=e._element));var i=null!=a?""+a:"";this.text=i.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var n=this.width-this.padding("horizontal");t=this.x+n/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var r=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(r,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=rD(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),vD=function(){function e(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,n=e.allRows();r<n.length;r++){var a=n[r].cells[this.index];a&&"number"===typeof a.styles.cellWidth&&(t=Math.max(t,a.styles.cellWidth))}return t},e}();function bD(e,t){!function(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=nD(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var d=c.padding("horizontal");c.contentWidth=ZT(c.text,c.styles,e)+d;var h=ZT(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),"number"===typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===n)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/r;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(e){for(var r=0,n=t.columns;r<n.length;r++){var a=n[r],i=e.cells[a.index];if(i&&1===i.colSpan)a.wrappedWidth=Math.max(a.wrappedWidth,i.wrappedWidth),a.minWidth=Math.max(a.minWidth,i.minWidth),a.minReadableWidth=Math.max(a.minReadableWidth,i.minReadableWidth);else{var s=t.styles.columnStyles[a.dataKey]||t.styles.columnStyles[a.index]||{},o=s.cellWidth||s.minCellWidth;o&&"number"===typeof o&&(a.minWidth=o,a.wrappedWidth=o)}i&&(i.colSpan>1&&!a.minWidth&&(a.minWidth=i.minWidth),i.colSpan>1&&!a.wrappedWidth&&(a.wrappedWidth=i.minWidth))}})}(e,t);var r=[],n=0;t.columns.forEach(function(e){var a=e.getMaxCustomCellWidth(t);a?e.width=a:(e.width=e.wrappedWidth,r.push(e)),n+=e.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=xD(r,a,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),a&&(a=xD(r,a,function(e){return e.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),function(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((s-=1)>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{if(!(c=n.cells[l.index]))continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}(t),function(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=wD(c.text,u,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=wD(c.text,u,c.styles,t,"");else if("function"===typeof c.styles.overflow){var d=c.styles.overflow(c.text,u);c.text="string"===typeof d?[d]:d}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}(t,e),function(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var d=n.length-a,h=u.rowSpan>d?d:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}(t)}function xD(e,t,r){for(var n=t,a=e.reduce(function(e,t){return e+t.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=n*(s.wrappedWidth/a),l=s.width+o,c=r(s),u=l<c?c:l;t-=u-s.width,s.width=u}if(t=Math.round(1e10*t)/1e10){var d=e.filter(function(e){return!(t<0)||e.width>r(e)});d.length&&(t=xD(d,t,r))}return t}function wD(e,t,r,n,a){return e.map(function(e){return function(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=ZT(e,r,n))return e;for(;t<ZT(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}(e,t,r,n,a)})}function ND(e,t){var r=new YT(e),n=function(e,t){var r=e.content,n=function(e){return e.map(function(e,t){var r,n;return n="object"===typeof e&&null!==(r=e.dataKey)&&void 0!==r?r:t,new vD(n,e,t)})}(r.columns);if(0===r.head.length){(a=SD(n,"head"))&&r.head.push(a)}if(0===r.foot.length){var a;(a=SD(n,"foot"))&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:_D("head",r.head,n,s,i,t),body:_D("body",r.body,n,s,i,t),foot:_D("foot",r.foot,n,s,i,t)}}(t,r.scaleFactor()),a=new mD(t,n);return bD(r,a),r.applyStyles(r.userStyles),a}function _D(e,t,r,n,a,i){var s={};return t.map(function(t,o){for(var l=0,c={},u=0,d=0,h=0,f=r;h<f.length;h++){var p=f[h];if(null==s[p.index]||0===s[p.index].left)if(0===d){var m=void 0,g={};"object"!==typeof(m=Array.isArray(t)?t[p.index-u-l]:t[p.dataKey])||Array.isArray(m)||(g=(null===m||void 0===m?void 0:m.styles)||{});var y=jD(e,p,o,a,n,i,g),v=new yD(m,y,e);c[p.dataKey]=v,c[p.index]=v,d=v.colSpan-1,s[p.index]={left:v.rowSpan-1,times:d}}else d--,u++;else s[p.index].left--,d=s[p.index].times,l++}return new gD(t,o,e,c)})}function SD(e,t){var r={};return e.forEach(function(e){if(null!=e.raw){var n=function(e,t){if("head"===e){if("object"===typeof t)return t.header||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=n&&(r[e.dataKey]=n)}}),Object.keys(r).length>0?r:null}function jD(e,t,r,n,a,i,s){var o,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[n];"head"===e?o=a.headStyles:"body"===e?o=a.bodyStyles:"foot"===e&&(o=a.footStyles);var c=uD({},l.table,l[e],a.styles,o),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},d="body"===e?u:{},h="body"===e&&r%2===0?uD({},l.alternateRow,a.alternateRowStyles):{},f=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(i),p=uD({},f,c,h,d);return uD(p,s)}function kD(e,t,r){var n;void 0===r&&(r={});var a=nD(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(e){var r=t.columns.find(function(t){return t.dataKey===e||t.index===e});r&&!i.has(r.index)&&(i.set(r.index,!0),s.push(r.index),o.push(t.columns[r.index]),a-=r.wrappedWidth)});for(var c=!0,u=null!==(n=null===r||void 0===r?void 0:r.start)&&void 0!==n?n:0;u<t.columns.length;)if(i.has(u))u++;else{var d=t.columns[u].wrappedWidth;if(!(c||a>=d))break;c=!1,s.push(u),o.push(t.columns[u]),a-=d,u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function AD(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;"avoid"===r.pageBreak&&(o+=t.body.reduce(function(e,t){return e+t.height},0));var l=new YT(e);("always"===r.pageBreak||null!=r.startY&&o>l.pageSize().height)&&(MD(l),i.y=a.top),t.callWillDrawPageHooks(l,i);var c=uD({},i);t.startPageNumber=l.pageNumber(),r.horizontalPageBreak?function(e,t,r,n){var a=function(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=kD(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}(e,t),i=t.settings;if("afterAllRows"===i.horizontalPageBreakBehaviour)a.forEach(function(a,i){e.applyStyles(e.userStyles),i>0?RD(e,t,r,n,a.columns,!0):CD(e,t,n,a.columns),function(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;LD(e,t,i,o,r,n,a)})}(e,t,r,n,a.columns),PD(e,t,n,a.columns)});else for(var s=-1,o=a[0],l=function(){var i=s;if(o){e.applyStyles(e.userStyles);var l=o.columns;s>=0?RD(e,t,r,n,l,!0):CD(e,t,n,l),i=OD(e,t,s+1,n,l),PD(e,t,n,l)}var c=i-s;a.slice(1).forEach(function(a){e.applyStyles(e.userStyles),RD(e,t,r,n,a.columns,!0),OD(e,t,s+1,n,a.columns,c),PD(e,t,n,a.columns)}),s=i};s<t.body.length-1;)l()}(l,t,c,i):(l.applyStyles(l.userStyles),"firstPage"!==r.showHead&&"everyPage"!==r.showHead||t.head.forEach(function(e){return TD(l,t,e,i,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,r){var n=r===t.body.length-1;LD(l,t,e,n,c,i,t.columns)}),l.applyStyles(l.userStyles),"lastPage"!==r.showFoot&&"everyPage"!==r.showFoot||t.foot.forEach(function(e){return TD(l,t,e,i,t.columns)})),eD(l,t,c,i),t.callEndPageHooks(l,i),t.finalY=i.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function CD(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),"firstPage"!==a.showHead&&"everyPage"!==a.showHead||t.head.forEach(function(a){return TD(e,t,a,r,n)})}function OD(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=null!==i&&void 0!==i?i:t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(i,s){var l=r+s===t.body.length-1,c=ID(e,t,l,n);i.canEntireRowFit(c,a)&&(TD(e,t,i,n,a),o=r+s)}),o}function PD(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),"lastPage"!==a.showFoot&&"everyPage"!==a.showFoot||t.foot.forEach(function(a){return TD(e,t,a,r,n)})}function ED(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function LD(e,t,r,n,a,i,s){var o=ID(e,t,n,i);if(r.canEntireRowFit(o,s))TD(e,t,r,i,s);else if(function(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=a-(i.top+i.bottom);"body"===t.section&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var o=t.getMinimumRowHeight(n.columns,e),l=o<r;if(o>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(n.columns);return t.getMaxCellHeight(n.columns)>s?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==n.settings.rowPageBreak}(e,r,o,t)){var l=function(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s];if(g=e.cells[l.index]){Array.isArray(g.text)||(g.text=[g.text]),(m=uD(m=new yD(g.raw,g.styles,g.section),g)).text=[];var c=ED(g,t,n);g.text.length>c&&(m.text=g.text.splice(c,g.text.length));var u=n.scaleFactor(),d=n.getLineHeightFactor();g.contentHeight=g.getContentHeight(u,d),g.contentHeight>=t&&(g.contentHeight=t,m.styles.minCellHeight-=t),g.contentHeight>e.height&&(e.height=g.contentHeight),m.contentHeight=m.getContentHeight(u,d),m.contentHeight>i&&(i=m.contentHeight),a[l.index]=m}}var h=new gD(e.raw,-1,e.section,a,!0);h.height=i;for(var f=0,p=r.columns;f<p.length;f++){var m,g;l=p[f],(m=h.cells[l.index])&&(m.height=h.height),(g=e.cells[l.index])&&(g.height=e.height)}return h}(r,o,t,e);TD(e,t,r,i,s),RD(e,t,a,i,s),LD(e,t,l,n,a,i,s)}else RD(e,t,a,i,s),LD(e,t,r,n,a,i,s)}function TD(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(l)if(e.applyStyles(l.styles),l.x=n.x,l.y=n.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n)){DD(e,l,n);var c=l.getTextPos();VT(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}else n.x+=o.width;else n.x+=o.width}n.y+=r.height}function DD(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof n.lineWidth){var a=tD(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else"object"===typeof n.lineWidth&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),function(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o));n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o));n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o));n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(t,r,n,a,i){e.getDocument().setLineWidth(t),e.getDocument().line(r,n,a,i,"S")}}(e,t,r,n.lineWidth))}function ID(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return("everyPage"===i||"lastPage"===i&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function RD(e,t,r,n,a,i){void 0===a&&(a=[]),void 0===i&&(i=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||i||t.foot.forEach(function(r){return TD(e,t,r,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;eD(e,t,r,n),MD(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),"everyPage"===t.settings.showHead&&(t.head.forEach(function(r){return TD(e,t,r,n,a)}),e.applyStyles(e.userStyles))}function MD(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}function FD(e,t){AD(e,ND(e,dD(e,t)))}try{if("undefined"!==typeof window&&window){var BD=window,zD=BD.jsPDF||(null===(hD=BD.jspdf)||void 0===hD?void 0:hD.jsPDF);zD&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return AD(this,ND(this,dD(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,r,n){VT(e,t,r,n,this)},e.API.autoTableSetDefaults=function(e){return YT.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){YT.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var r;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=oD(new YT(this),e,window,t,!1),a=n.head,i=n.body,s=(null===(r=a[0])||void 0===r?void 0:r.map(function(e){return e.content}))||[];return{columns:s,rows:i,data:i}}}(zD)}}catch(tR){console.error("Could not apply autoTable plugin",tR)}const UD=(e,t)=>{const r=new lL;r.setProperties({title:`${t} Detailed Report - ${e.name}`,subject:"Individual Screening Report",author:"AML Platform",creator:"AML Platform"});const n=((e,t)=>{const r={id:e.id,name:e.name,score:e.score,source:t,generatedDate:(new Date).toISOString(),lastUpdated:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),confidence:Math.floor(40*Math.random())+60,status:"Active"};switch(t){case"Dow Jones":return{...r,reportType:"Dow Jones Risk & Compliance Report",riskCategory:e.score>=70?"High Risk":e.score>=40?"Medium Risk":"Low Risk",sanctions:e.score>=70?["OFAC SDN","UN Sanctions"]:[],pepStatus:e.score>=40?"Politically Exposed Person":"Not PEP",adverseMedia:e.score>=50?["Negative news coverage in 2023","Regulatory violations reported","Legal proceedings ongoing"]:[],businessRelationships:["Former director at Global Corp","Shareholder in Tech Solutions Ltd","Advisor to Government Agency"],riskFactors:["High-value transactions","Multiple jurisdictions","Complex ownership structure"],recommendations:["Enhanced due diligence required","Monitor for changes in status","Regular review recommended"],sourceDetails:{database:"Dow Jones Risk & Compliance",coverage:"Global sanctions, PEP, adverse media",updateFrequency:"Real-time",dataQuality:"Premium"}};case"Free Sources":return{...r,reportType:"Open Source Intelligence Report",sanctionsLists:e.score>=70?["OFAC SDN","UN 1267","EU Sanctions"]:[],watchlists:e.score>=40?["FBI Most Wanted","Interpol Red Notice"]:[],adverseMedia:e.score>=50?["Criminal investigation in 2022","Fraud allegations reported","Money laundering concerns"]:[],legalProceedings:e.score>=60?["Civil lawsuit pending","Regulatory investigation","Criminal charges filed"]:[],associations:["Known associates with criminal records","Suspicious business relationships","High-risk jurisdictions"],recommendations:["Immediate investigation required","Enhanced monitoring","Consider case creation"],sourceDetails:{database:"Multiple open sources",coverage:"Global sanctions, watchlists, media",updateFrequency:"Daily",dataQuality:"Standard"}};case"Central Bank":return{...r,reportType:"Central Bank Regulatory Report",regulatoryStatus:e.score>=70?"Under Investigation":"Compliant",licensing:e.score>=40?"License Suspended":"Active License",violations:e.score>=60?["Capital adequacy violations","Anti-money laundering failures","Reporting deficiencies"]:[],regulatoryActions:e.score>=70?["Cease and desist order","Civil monetary penalties","Enhanced supervision"]:[],complianceHistory:["Previous violations in 2021","Regulatory warnings issued","Compliance improvement plan"],recommendations:["Regulatory consultation required","Enhanced compliance monitoring","Regular regulatory reporting"],sourceDetails:{database:"Central Bank Registry",coverage:"Financial institution oversight",updateFrequency:"Weekly",dataQuality:"Official"}};case"Company Whitelist":return{...r,reportType:"Company Verification Report",verificationStatus:"Verified",businessRegistration:"Active",complianceRating:"Excellent",positiveIndicators:["Established business history","Strong financial position","Good compliance record","Reputable industry standing"],certifications:["ISO 9001 Certified","Industry Best Practices","Quality Management System"],businessMetrics:{yearsInBusiness:"15+ years",employeeCount:"500+ employees",annualRevenue:"$50M+",creditRating:"A+"},recommendations:["Standard due diligence","Routine monitoring","Continue normal operations"],sourceDetails:{database:"Company Whitelist",coverage:"Verified businesses",updateFrequency:"Monthly",dataQuality:"Verified"}};case"Company Blacklist":return{...r,reportType:"Company Risk Assessment Report",riskCategory:"High Risk",blacklistReason:e.score>=90?"Fraudulent Activity":"Compliance Violations",violations:["Securities fraud","Money laundering","False financial statements","Regulatory non-compliance"],enforcementActions:["Cease and desist orders","Civil penalties","Criminal investigations","Asset freezes"],associatedRisks:["Shell company operations","Suspicious transactions","High-risk jurisdictions","Complex ownership structure"],recommendations:["Immediate termination of relationship","Enhanced due diligence","Regulatory reporting required","Monitor for additional risks"],sourceDetails:{database:"Company Blacklist",coverage:"High-risk entities",updateFrequency:"Real-time",dataQuality:"Verified"}};case"UAE Lists":return{...r,reportType:"UAE Regulatory Report",uaeStatus:e.score>=70?"Under Investigation":"Compliant",regulatoryCategory:e.score>=40?"Enhanced Monitoring":"Standard",uaeViolations:e.score>=60?["Anti-money laundering violations","Reporting failures","Suspicious activity"]:[],localActions:e.score>=70?["Central Bank warnings","Regulatory fines","Enhanced supervision"]:[],businessRelationships:["Local business partnerships","Government contracts","Financial institution relationships"],recommendations:["UAE regulatory consultation","Enhanced local monitoring","Regular compliance reporting"],sourceDetails:{database:"UAE Regulatory Lists",coverage:"UAE-specific oversight",updateFrequency:"Weekly",dataQuality:"Official"}};default:return{...r,reportType:"General Screening Report",riskCategory:"Unknown",recommendations:["Additional verification required"],sourceDetails:{database:"Unknown",coverage:"Limited",updateFrequency:"Unknown",dataQuality:"Unknown"}}}})(e,t),a={header:{title:(i=n).reportType,id:i.id,name:i.name,score:i.score,riskCategory:i.riskCategory,generatedDate:new Date(i.generatedDate).toLocaleDateString(),lastUpdated:new Date(i.lastUpdated).toLocaleDateString(),confidence:`${i.confidence}%`,status:i.status},sections:{sanctions:i.sanctions||[],watchlists:i.watchlists||[],adverseMedia:i.adverseMedia||[],violations:i.violations||[],legalProceedings:i.legalProceedings||[],associations:i.associations||[],businessRelationships:i.businessRelationships||[],riskFactors:i.riskFactors||[],positiveIndicators:i.positiveIndicators||[],certifications:i.certifications||[],enforcementActions:i.enforcementActions||[],associatedRisks:i.associatedRisks||[],uaeViolations:i.uaeViolations||[],localActions:i.localActions||[],businessMetrics:i.businessMetrics||{},complianceHistory:i.complianceHistory||[]},recommendations:i.recommendations||[],sourceDetails:i.sourceDetails};var i;r.setFillColor(41,128,185),r.rect(0,0,220,30,"F"),r.setTextColor(255,255,255),r.setFontSize(18),r.setFont("helvetica","bold"),r.text(`${t} DETAILED REPORT`,105,15,{align:"center"}),r.setFontSize(12),r.setFont("helvetica","normal"),r.text(`Generated on: ${(new Date).toLocaleDateString()} at ${(new Date).toLocaleTimeString()}`,105,25,{align:"center"});let s=40;r.setTextColor(0,0,0),r.setFontSize(16),r.setFont("helvetica","bold"),r.text("1. BASIC INFORMATION",14,s),s+=10,r.setFontSize(10),r.setFont("helvetica","normal");const o=[["Field","Value"],["Name",a.header.name],["Report ID",a.header.id],["Risk Score",a.header.score.toString()],["Risk Category",a.header.riskCategory],["Confidence",a.header.confidence],["Status",a.header.status],["Generated Date",a.header.generatedDate],["Last Updated",a.header.lastUpdated]];if(FD(r,{head:[o[0]],body:o.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:[255,255,255]},margin:{left:14,right:14}}),s=r.lastAutoTable.finalY+15,a.sections.sanctions.length>0||a.sections.watchlists.length>0){r.setFontSize(16),r.setFont("helvetica","bold"),r.text("2. SANCTIONS & WATCHLISTS",14,s),s+=10;const e=[["Type","List/Source"]];a.sections.sanctions.forEach(t=>{e.push(["Sanction",t])}),a.sections.watchlists.forEach(t=>{e.push(["Watchlist",t])}),FD(r,{head:[e[0]],body:e.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[220,53,69],textColor:[255,255,255]},margin:{left:14,right:14}}),s=r.lastAutoTable.finalY+15}if(a.sections.adverseMedia.length>0){r.setFontSize(16),r.setFont("helvetica","bold"),r.text("3. ADVERSE MEDIA",14,s),s+=10;const e=[["Media Item"]];a.sections.adverseMedia.forEach(t=>{e.push([t])}),FD(r,{head:[e[0]],body:e.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[255,193,7],textColor:[0,0,0]},margin:{left:14,right:14}}),s=r.lastAutoTable.finalY+15}if(a.sections.violations.length>0||a.sections.legalProceedings.length>0){r.setFontSize(16),r.setFont("helvetica","bold"),r.text("4. VIOLATIONS & LEGAL PROCEEDINGS",14,s),s+=10;const e=[["Type","Description"]];a.sections.violations.forEach(t=>{e.push(["Violation",t])}),a.sections.legalProceedings.forEach(t=>{e.push(["Legal Proceeding",t])}),FD(r,{head:[e[0]],body:e.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[220,53,69],textColor:[255,255,255]},margin:{left:14,right:14}}),s=r.lastAutoTable.finalY+15}if(a.sections.businessRelationships.length>0){r.setFontSize(16),r.setFont("helvetica","bold"),r.text("5. BUSINESS RELATIONSHIPS",14,s),s+=10;const e=[["Relationship"]];a.sections.businessRelationships.forEach(t=>{e.push([t])}),FD(r,{head:[e[0]],body:e.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[13,110,253],textColor:[255,255,255]},margin:{left:14,right:14}}),s=r.lastAutoTable.finalY+15}if(a.sections.positiveIndicators.length>0){r.setFontSize(16),r.setFont("helvetica","bold"),r.text("6. POSITIVE INDICATORS",14,s),s+=10;const e=[["Indicator"]];a.sections.positiveIndicators.forEach(t=>{e.push([t])}),FD(r,{head:[e[0]],body:e.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[25,135,84],textColor:[255,255,255]},margin:{left:14,right:14}}),s=r.lastAutoTable.finalY+15}if(Object.keys(a.sections.businessMetrics).length>0){r.setFontSize(16),r.setFont("helvetica","bold"),r.text("7. BUSINESS METRICS",14,s),s+=10;const e=[["Metric","Value"]];Object.entries(a.sections.businessMetrics).forEach(t=>{let[r,n]=t;e.push([r.replace(/([A-Z])/g," $1").trim(),n])}),FD(r,{head:[e[0]],body:e.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[108,117,125],textColor:[255,255,255]},margin:{left:14,right:14}}),s=r.lastAutoTable.finalY+15}r.setFontSize(16),r.setFont("helvetica","bold"),r.text("8. RECOMMENDATIONS",14,s),s+=10;const l=[["Recommendation"]];a.recommendations.forEach(e=>{l.push([e])}),FD(r,{head:[l[0]],body:l.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[111,66,193],textColor:[255,255,255]},margin:{left:14,right:14}}),s=r.lastAutoTable.finalY+15,r.setFontSize(16),r.setFont("helvetica","bold"),r.text("9. SOURCE INFORMATION",14,s),s+=10;const c=[["Field","Value"],["Database",a.sourceDetails.database],["Coverage",a.sourceDetails.coverage],["Update Frequency",a.sourceDetails.updateFrequency],["Data Quality",a.sourceDetails.dataQuality]];FD(r,{head:[c[0]],body:c.slice(1),startY:s,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:[255,255,255]},margin:{left:14,right:14}});const u=r.internal.getNumberOfPages();for(let f=1;f<=u;f++)r.setPage(f),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Page ${f} of ${u}`,105,290,{align:"center"}),r.text("AML Platform - Individual Screening Report",105,295,{align:"center"});const d=r.output("blob"),h=URL.createObjectURL(d);window.open(h,"_blank");setTimeout(()=>{URL.revokeObjectURL(h)},1e3)},qD=()=>{const[e,r]=(0,t.useState)({fullName:"",entityType:"All",gender:"",dob:"",nationality:"",screeningList:"All",matchType:"Precise",remarks:""}),[n,a]=(0,t.useState)({}),[i,s]=(0,t.useState)({}),[o,l]=(0,t.useState)({dowjones:[],freeSource:[],centralBank:[],companyWhitelist:[],companyBlacklist:[],uaeList:[]}),[c,u]=(0,t.useState)(!1),d=(e,t)=>{switch(e){case"fullName":return t&&t.trim().length>100?"Full name must be less than 100 characters":t&&!/^[a-zA-Z\s\-'\.]+$/.test(t.trim())?"Full name can only contain letters, spaces, hyphens, apostrophes, and periods":"";case"entityType":case"gender":case"nationality":case"screeningList":case"matchType":default:return"";case"dob":if(t){const e=new Date,r=new Date(t);if(r>e)return"Date of birth cannot be in the future";if(e.getFullYear()-r.getFullYear()>120)return"Date of birth seems invalid (age over 120)"}return"";case"remarks":return t&&t.trim().length>500?"Remarks must be less than 500 characters":""}},h=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n}));const i=d(t,n);a(e=>({...e,[t]:i}))},f=e=>{const{name:t}=e.target;s(e=>({...e,[t]:!0}))},p=(e,t)=>{try{UD(e,t),qt.success(`${t} report opened in new window`)}catch(tR){console.error("Error generating detailed report:",tR),qt.error("Failed to generate detailed report: "+tR.message)}},m=(e,t)=>{const r=t||[];return r.length>0?(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:[e," (",r.length," match",r.length>1?"es":"",")"]}),(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"table-auto w-full border border-gray-300 text-sm",children:[(0,Zt.jsx)("thead",{className:"bg-gray-100",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"p-2 border",children:"ID"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Name"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Score"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Search Type"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"List"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"DOB"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Country"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Title"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,Zt.jsx)("tbody",{children:r.map(t=>(0,Zt.jsxs)("tr",{className:"border",children:[(0,Zt.jsx)("td",{className:"p-2 border",children:t.id}),(0,Zt.jsx)("td",{className:"p-2 border",children:t.name}),(0,Zt.jsx)("td",{className:"p-2 border",children:t.score}),(0,Zt.jsx)("td",{className:"p-2 border",children:t.searchType}),(0,Zt.jsx)("td",{className:"p-2 border",children:t.searchList}),(0,Zt.jsx)("td",{className:"p-2 border",children:t.dob||"-"}),(0,Zt.jsx)("td",{className:"p-2 border",children:t.country}),(0,Zt.jsx)("td",{className:"p-2 border",children:t.title}),(0,Zt.jsx)("td",{className:"p-2 border",children:(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("button",{onClick:()=>p(t,e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md text-xs font-medium transition-colors duration-200 shadow-sm",children:"View"}),(0,Zt.jsx)("button",{onClick:()=>p(t,e),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-md text-xs font-medium transition-colors duration-200 shadow-sm",children:"View Profile"})]})})]},t.id))})]})})]}):null};return(0,Zt.jsxs)("div",{className:"p-6 bg-white shadow rounded-md",children:[(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Instant Screening"}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),(0,Zt.jsx)("input",{name:"fullName",type:"text",value:e.fullName,onChange:h,onBlur:f,className:"w-full border p-2 rounded "+(i.fullName&&n.fullName?"border-red-500":"border-gray-300"),placeholder:"Enter full name"}),i.fullName&&n.fullName&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n.fullName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Entity Type"}),(0,Zt.jsxs)("select",{name:"entityType",value:e.entityType,onChange:h,onBlur:f,className:"w-full border p-2 rounded "+(i.entityType&&n.entityType?"border-red-500":"border-gray-300"),children:[(0,Zt.jsx)("option",{value:"All",children:"All"}),YO.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]}),i.entityType&&n.entityType&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n.entityType})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),(0,Zt.jsxs)("select",{name:"gender",value:e.gender,onChange:h,onBlur:f,className:"w-full border p-2 rounded "+(i.gender&&n.gender?"border-red-500":"border-gray-300"),children:[(0,Zt.jsx)("option",{value:"",children:"Select Gender"}),(0,Zt.jsx)("option",{value:"Male",children:"Male"}),(0,Zt.jsx)("option",{value:"Female",children:"Female"}),(0,Zt.jsx)("option",{value:"Other",children:"Other"})]}),i.gender&&n.gender&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n.gender})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Date of Birth"}),(0,Zt.jsx)("input",{name:"dob",type:"date",value:e.dob,onChange:h,onBlur:f,className:"w-full border p-2 rounded "+(i.dob&&n.dob?"border-red-500":"border-gray-300")}),i.dob&&n.dob&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n.dob})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nationality"}),(0,Zt.jsxs)("select",{name:"nationality",value:e.nationality,onChange:h,onBlur:f,className:"w-full border p-2 rounded "+(i.nationality&&n.nationality?"border-red-500":"border-gray-300"),children:[(0,Zt.jsx)("option",{value:"",children:"Select Country"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]}),i.nationality&&n.nationality&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n.nationality})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Screening List"}),(0,Zt.jsxs)("select",{name:"screeningList",value:e.screeningList,onChange:h,onBlur:f,className:"w-full border p-2 rounded "+(i.screeningList&&n.screeningList?"border-red-500":"border-gray-300"),children:[(0,Zt.jsx)("option",{value:"All",children:"All"}),(0,Zt.jsx)("option",{value:"Sanctions",children:"Sanctions"}),(0,Zt.jsx)("option",{value:"PEP",children:"PEP"}),(0,Zt.jsx)("option",{value:"Watchlists",children:"Watchlists"}),(0,Zt.jsx)("option",{value:"Adverse Media",children:"Adverse Media"})]}),i.screeningList&&n.screeningList&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n.screeningList})]})]}),(0,Zt.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-4 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Match Type"}),(0,Zt.jsx)("div",{className:"flex gap-4",children:["Precise","Near","Broad"].map(t=>(0,Zt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Zt.jsx)("input",{type:"radio",name:"matchType",value:t,checked:e.matchType===t,onChange:h,onBlur:f}),t]},t))}),i.matchType&&n.matchType&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n.matchType})]}),(0,Zt.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Remarks"}),(0,Zt.jsx)("textarea",{name:"remarks",value:e.remarks,onChange:h,onBlur:f,className:"w-full border p-2 rounded "+(i.remarks&&n.remarks?"border-red-500":"border-gray-300"),rows:"2",placeholder:"Optional remarks about the screening request"}),i.remarks&&n.remarks&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n.remarks}),e.remarks&&(0,Zt.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:[e.remarks.length,"/500 characters"]})]})]}),(0,Zt.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,Zt.jsx)("button",{onClick:async()=>{if(!(()=>{const t={};return Object.keys(e).forEach(r=>{const n=d(r,e[r]);n&&(t[r]=n)}),a(t),0===Object.keys(t).length})()){const t={};return Object.keys(e).forEach(e=>{t[e]=!0}),void s(t)}u(!0);try{const t={fullName:e.fullName||"Test Customer",entityType:"All"===e.entityType?"Individual":e.entityType||"Individual",gender:e.gender||"",dob:e.dob||"",nationality:e.nationality||"",screeningList:e.screeningList||"All",matchType:e.matchType||"Broad",remarks:e.remarks||""},r=await FO.performInstantScreening(null,t);r&&r.results?(l(r.results),qt.success(`Screening completed! Found ${r.totalMatches||0} matches.`)):qt.error("Screening failed. Please try again.")}catch(tR){console.error("Screening error:",tR),qt.error("Screening failed: "+(tR.message||"Unknown error"))}finally{u(!1)}},className:"btn-primary",children:"Start Screening"}),(0,Zt.jsx)("button",{className:"btn-secondary",children:"Create Case"}),(0,Zt.jsx)("button",{onClick:()=>(e=>{const t=new lL;t.setFontSize(16),t.text("Instant Screening - Print Result",14,20);let r=30;const n=["ID","Record Type","Name","Score","Search Type","Primary Name","Search List","DOB","Country","Gender","Subsidiary","Title"];Object.entries(e).forEach(e=>{let[a,i]=e;if(Array.isArray(i)&&i.length>0){t.setFontSize(13),t.text(a,14,r),r+=6;const e=i.map((e,t)=>[e.id||t+1,e.recordType||"-",e.name||"-",e.score||"-",e.searchType||"-",e.primaryName||"-",e.searchList||"-",e.dateOfBirth||"-",e.countryTerritoryName||"-",e.gender||"-",e.isSubsidiary?"Yes":"No",e.title||"-"]);FD(t,{head:[n],body:e,startY:r,theme:"grid",styles:{fontSize:9},margin:{left:14,right:14}}),r=t.lastAutoTable.finalY+10}}),t.save("print_result.pdf")})(o),className:"px-4 py-2 rounded "+(o&&Object.values(o).some(e=>e&&e.length>0)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-400 text-gray-600 cursor-not-allowed"),disabled:c||!o||!Object.values(o).some(e=>e&&e.length>0),children:"Print Result"}),(0,Zt.jsx)("button",{className:"btn-secondary",children:"Print PDF"}),(0,Zt.jsx)("button",{onClick:()=>{try{if(0===[...o.dowjones||[],...o.freeSource||[],...o.centralBank||[],...o.companyWhitelist||[],...o.companyBlacklist||[],...o.uaeList||[]].length)return void qt.warning("No screening results available for advanced report.");((e,t)=>{try{const r=new lL;r.setProperties({title:"Advanced Screening Report",subject:"Comprehensive Screening Analysis",author:"AML Platform",creator:"AML Platform"}),r.setFillColor(41,128,185),r.rect(0,0,220,30,"F"),r.setTextColor(255,255,255),r.setFontSize(20),r.setFont("helvetica","bold"),r.text("ADVANCED SCREENING REPORT",105,15,{align:"center"}),r.setFontSize(12),r.setFont("helvetica","normal"),r.text(`Generated on: ${(new Date).toLocaleDateString()} at ${(new Date).toLocaleTimeString()}`,105,25,{align:"center"});let n=40;r.setTextColor(0,0,0),r.setFontSize(16),r.setFont("helvetica","bold"),r.text("1. CUSTOMER INFORMATION",14,n),n+=10,r.setFontSize(10),r.setFont("helvetica","normal");const a=[["Field","Value"],["Full Name",e.fullName||"Not Provided"],["Entity Type",e.entityType||"Not Specified"],["Nationality",e.nationality||"Not Provided"],["Gender",e.gender||"Not Provided"],["Date of Birth",e.dob||"Not Provided"]];FD(r,{head:[a[0]],body:a.slice(1),startY:n,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:[255,255,255]},margin:{left:14,right:14}}),n=r.lastAutoTable.finalY+15,r.setFontSize(16),r.setFont("helvetica","bold"),r.text("2. SCREENING CRITERIA",14,n),n+=10,r.setFontSize(10),r.setFont("helvetica","normal");const i=[["Parameter","Value"],["Screening List",e.screeningList||"All"],["Match Type",e.matchType||"Broad"],["Remarks",e.remarks||"None"]];FD(r,{head:[i[0]],body:i.slice(1),startY:n,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:[255,255,255]},margin:{left:14,right:14}}),n=r.lastAutoTable.finalY+15,r.setFontSize(16),r.setFont("helvetica","bold"),r.text("3. RESULTS SUMMARY",14,n),n+=10;const s=[...t.dowjones||[],...t.freeSource||[],...t.centralBank||[],...t.companyWhitelist||[],...t.companyBlacklist||[],...t.uaeList||[]],o=s.length,l=s.filter(e=>(e.score||0)>=70).length,c=s.filter(e=>(e.score||0)>=40&&(e.score||0)<70).length,u=s.filter(e=>(e.score||0)<40).length,d=Math.max(...s.map(e=>e.score||0),0),h=d>=70?"High":d>=40?"Medium":"Low",f=[["Metric","Count"],["Total Matches",o.toString()],["High Risk Matches (70+)",l.toString()],["Medium Risk Matches (40-69)",c.toString()],["Low Risk Matches (<40)",u.toString()],["Highest Risk Score",d.toString()],["Overall Risk Level",h]];FD(r,{head:[f[0]],body:f.slice(1),startY:n,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:[255,255,255]},margin:{left:14,right:14}}),n=r.lastAutoTable.finalY+15,r.setFontSize(16),r.setFont("helvetica","bold"),r.text("4. SOURCES CHECKED",14,n),n+=10,r.setFontSize(10),r.setFont("helvetica","normal");const p=[["Source","Status","Matches Found"],["Dow Jones","Completed",((t.dowjones||[]).length||0).toString()],["Free Sources (OFAC, UN, Interpol, EU)","Completed",((t.freeSource||[]).length||0).toString()],["Central Banks","Completed",((t.centralBank||[]).length||0).toString()],["Company Whitelist","Completed",((t.companyWhitelist||[]).length||0).toString()],["Company Blacklist","Completed",((t.companyBlacklist||[]).length||0).toString()],["UAE Lists","Completed",((t.uaeList||[]).length||0).toString()]];FD(r,{head:[p[0]],body:p.slice(1),startY:n,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:[255,255,255]},margin:{left:14,right:14}}),n=r.lastAutoTable.finalY+15,r.setFontSize(16),r.setFont("helvetica","bold"),r.text("5. RISK ASSESSMENT",14,n),n+=10,r.setFontSize(10),r.setFont("helvetica","normal");let m=[];m=d>=70?["Immediate investigation required","Enhanced due diligence recommended","Consider case creation","Monitor for additional risks"]:d>=40?["Additional verification recommended","Monitor for changes","Standard due diligence","Regular review required"]:["Standard procedures","Routine monitoring","No immediate action required","Continue normal operations"];const g=[["Risk Level",h],["Highest Score",d.toString()],["Total Matches",o.toString()],["Assessment Date",(new Date).toLocaleDateString()]];if(FD(r,{head:[["Risk Assessment","Value"]],body:g,startY:n,theme:"grid",styles:{fontSize:9},headStyles:{fillColor:[41,128,185],textColor:[255,255,255]},margin:{left:14,right:14}}),n=r.lastAutoTable.finalY+10,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Recommendations:",14,n),n+=8,r.setFontSize(10),r.setFont("helvetica","normal"),m.forEach((e,t)=>{r.text(`${t+1}. ${e}`,20,n),n+=6}),n+=10,o>0){r.setFontSize(16),r.setFont("helvetica","bold"),r.text("6. DETAILED RESULTS",14,n),n+=10;const e=s.map(e=>[(e.id||"N/A").toString(),(e.name||"N/A").toString(),(e.score||"N/A").toString(),(e.searchType||"N/A").toString(),(e.searchList||"N/A").toString(),(e.country||"N/A").toString(),(e.title||"N/A").toString(),(e.source||"N/A").toString()]);FD(r,{head:[["ID","Name","Score","Search Type","List","Country","Title","Source"]],body:e,startY:n,theme:"grid",styles:{fontSize:8},headStyles:{fillColor:[41,128,185],textColor:[255,255,255]},margin:{left:14,right:14},pageBreak:"auto"})}const y=r.internal.getNumberOfPages();for(let e=1;e<=y;e++)r.setPage(e),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Page ${e} of ${y}`,105,290,{align:"center"}),r.text("AML Platform - Advanced Screening Report",105,295,{align:"center"});const v=`advanced_screening_report_${e.fullName||"unknown"}_${Date.now()}.pdf`;r.save(v)}catch(tR){throw console.error("Error generating advanced screening report:",tR),new Error(`Failed to generate PDF: ${tR.message}`)}})(e,o),qt.success("Advanced screening report generated successfully!")}catch(tR){console.error("Advanced report error:",tR),qt.error("Failed to generate advanced report: "+tR.message)}},className:"px-4 py-2 rounded "+(o&&Object.values(o).some(e=>e&&e.length>0)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-400 text-gray-600 cursor-not-allowed"),disabled:c||!o||!Object.values(o).some(e=>e&&e.length>0),children:"Advanced Screening Report"})]}),c&&(0,Zt.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Zt.jsx)("span",{className:"ml-3 text-gray-600",children:"Performing screening..."})]}),!c&&(0,Zt.jsxs)(Zt.Fragment,{children:[m("DowJones",o.dowjones),m("Free Source",o.freeSource),m("Central Bank",o.centralBank),m("Company Whitelist Source",o.companyWhitelist),m("Company Blacklist Source",o.companyBlacklist),m("UAE List Source",o.uaeList),!c&&(!o.dowjones||0===o.dowjones.length)&&(!o.freeSource||0===o.freeSource.length)&&(!o.centralBank||0===o.centralBank.length)&&(!o.companyWhitelist||0===o.companyWhitelist.length)&&(!o.companyBlacklist||0===o.companyBlacklist.length)&&(!o.uaeList||0===o.uaeList.length)&&(0,Zt.jsxs)("div",{className:"text-center py-8",children:[(0,Zt.jsx)("p",{className:"text-gray-500",children:"No screening results found."}),(0,Zt.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Try adjusting your search criteria."})]})]})]})},$D=[{id:"alert-101",entity:"Acme Corp",screeningDate:"2025-08-04 09:00",alertType:"Sanction List Match",riskLevel:"High",status:"Open"},{id:"alert-102",entity:"John Doe",screeningDate:"2025-08-03 16:45",alertType:"Adverse Media",riskLevel:"Medium",status:"Under Review"},{id:"alert-103",entity:"Global Traders Ltd",screeningDate:"2025-08-02 11:15",alertType:"PEP Match",riskLevel:"Low",status:"Closed"}],WD=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[i,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),c=$D.filter(t=>{const r=t.entity.toLowerCase().includes(e.toLowerCase()),a=""===n||t.alertType===n,s=""===i||t.riskLevel===i,l=""===o||t.status===o;return r&&a&&s&&l});return(0,Zt.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Ongoing Screening Alerts"}),(0,Zt.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search by entity",value:e,onChange:e=>r(e.target.value),className:"border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"}),(0,Zt.jsxs)("select",{value:n,onChange:e=>a(e.target.value),className:"border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",children:[(0,Zt.jsx)("option",{value:"",children:"All Alert Types"}),(0,Zt.jsx)("option",{value:"Sanction List Match",children:"Sanction List Match"}),(0,Zt.jsx)("option",{value:"Adverse Media",children:"Adverse Media"}),(0,Zt.jsx)("option",{value:"PEP Match",children:"PEP Match"})]}),(0,Zt.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",children:[(0,Zt.jsx)("option",{value:"",children:"All Risk Levels"}),(0,Zt.jsx)("option",{value:"High",children:"High"}),(0,Zt.jsx)("option",{value:"Medium",children:"Medium"}),(0,Zt.jsx)("option",{value:"Low",children:"Low"})]}),(0,Zt.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",children:[(0,Zt.jsx)("option",{value:"",children:"All Statuses"}),(0,Zt.jsx)("option",{value:"Open",children:"Open"}),(0,Zt.jsx)("option",{value:"Under Review",children:"Under Review"}),(0,Zt.jsx)("option",{value:"Closed",children:"Closed"})]})]}),(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"w-full border border-gray-300 rounded",children:[(0,Zt.jsx)("thead",{className:"bg-gray-200 text-gray-700",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Entity"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Screening Date"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Alert Type"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Risk Level"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Status"}),(0,Zt.jsx)("th",{className:"p-3 text-left",children:"Actions"})]})}),(0,Zt.jsx)("tbody",{children:0===c.length?(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:6,className:"text-center p-4 text-gray-500",children:"No alerts found."})}):c.map(e=>(0,Zt.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.entity}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.screeningDate}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.alertType}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.riskLevel}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.status}),(0,Zt.jsxs)("td",{className:"p-3 border-t border-gray-300 space-x-2",children:[(0,Zt.jsx)(at,{to:`/screening/case/${e.id}`,className:"text-blue-600 hover:underline",children:"View"}),(0,Zt.jsx)("button",{onClick:()=>e(`Escalate ${e.entity} (mock)`),className:"px-2 py-1 bg-yellow-400 rounded text-sm hover:bg-yellow-500",children:"Escalate"}),(0,Zt.jsx)("button",{onClick:()=>e(`Close ${e.entity} (mock)`),className:"px-2 py-1 bg-red-500 rounded text-sm text-white hover:bg-red-600",children:"Close"})]})]},e.id))})]})})]})},HD=[{id:"case-002",entity:"Acme Corp",lastScreeningDate:"2025-08-03 15:20",riskLevel:"High",monitoringStatus:"Active"},{id:"case-005",entity:"Global Traders Ltd",lastScreeningDate:"2025-08-01 09:10",riskLevel:"Medium",monitoringStatus:"Active"},{id:"case-007",entity:"Jane Smith",lastScreeningDate:"2025-07-30 16:50",riskLevel:"Low",monitoringStatus:"Pending Review"}],KD=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),i=HD.filter(t=>{const r=""===e||t.riskLevel.toLowerCase()===e.toLowerCase(),a=t.entity.toLowerCase().includes(n.toLowerCase());return r&&a});return(0,Zt.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Monitoring List"}),(0,Zt.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search by entity",value:n,onChange:e=>a(e.target.value),className:"border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"}),(0,Zt.jsxs)("select",{value:e,onChange:e=>r(e.target.value),className:"border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",children:[(0,Zt.jsx)("option",{value:"",children:"All Risk Levels"}),(0,Zt.jsx)("option",{value:"High",children:"High"}),(0,Zt.jsx)("option",{value:"Medium",children:"Medium"}),(0,Zt.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"w-full border border-gray-300 rounded",children:[(0,Zt.jsx)("thead",{className:"bg-gray-200 text-gray-700",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Entity"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Last Screening"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Risk Level"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Monitoring Status"}),(0,Zt.jsx)("th",{className:"p-3 text-left",children:"Details"})]})}),(0,Zt.jsx)("tbody",{children:0===i.length?(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:5,className:"text-center p-4 text-gray-500",children:"No monitored entities found."})}):i.map(e=>(0,Zt.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.entity}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.lastScreeningDate}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.riskLevel}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.monitoringStatus}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:(0,Zt.jsx)(at,{to:`/screening/case/${e.id}`,className:"text-blue-600 hover:underline",children:"View Details"})})]},e.id))})]})})]})},VD=[{id:"case-001",screenedEntity:"John Doe",screeningType:"Instant",date:"2025-08-04 10:30",result:"No Match",riskScore:5},{id:"case-002",screenedEntity:"Acme Corp",screeningType:"Ongoing",date:"2025-08-03 15:20",result:"Match Found",riskScore:85},{id:"case-003",screenedEntity:"Jane Smith",screeningType:"Instant",date:"2025-08-02 11:45",result:"No Match",riskScore:10}],GD=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),i=VD.filter(t=>{const r=""===e||t.result.toLowerCase()===e.toLowerCase(),a=t.screenedEntity.toLowerCase().includes(n.toLowerCase());return r&&a});return(0,Zt.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Screening History"}),(0,Zt.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search by entity",value:n,onChange:e=>a(e.target.value),className:"border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"}),(0,Zt.jsxs)("select",{value:e,onChange:e=>r(e.target.value),className:"border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",children:[(0,Zt.jsx)("option",{value:"",children:"All Results"}),(0,Zt.jsx)("option",{value:"No Match",children:"No Match"}),(0,Zt.jsx)("option",{value:"Match Found",children:"Match Found"})]})]}),(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"w-full border border-gray-300 rounded",children:[(0,Zt.jsx)("thead",{className:"bg-gray-200 text-gray-700",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Date & Time"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Entity"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Screening Type"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Result"}),(0,Zt.jsx)("th",{className:"p-3 border-r border-gray-300 text-left",children:"Risk Score"}),(0,Zt.jsx)("th",{className:"p-3 text-left",children:"Details"})]})}),(0,Zt.jsx)("tbody",{children:0===i.length?(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:6,className:"text-center p-4 text-gray-500",children:"No screening cases found."})}):i.map(e=>(0,Zt.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.date}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.screenedEntity}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.screeningType}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.result}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:e.riskScore}),(0,Zt.jsx)("td",{className:"p-3 border-t border-gray-300",children:(0,Zt.jsx)(at,{to:`/screening/case/${e.id}`,className:"text-blue-600 hover:underline",children:"View Details"})})]},e.id))})]})})]})},YD={"case-002":{id:"case-002",entity:"Acme Corp",riskProfile:"High Risk",screeningType:"Ongoing",screeningDate:"2025-08-03 15:20",status:"Under Review",matches:[{type:"Sanction List",detail:"Matched with UN Sanctions"},{type:"Adverse Media",detail:"Negative news article"}],analystNotes:"Requires enhanced due diligence."},"case-005":{id:"case-005",entity:"Global Traders Ltd",riskProfile:"Medium Risk",screeningType:"Ongoing",screeningDate:"2025-08-01 09:10",status:"Active",matches:[{type:"PEP List",detail:"Politically exposed person"}],analystNotes:""}},JD=()=>{const{caseId:e}=ne(),r=re(),n=YD[e],[a,i]=(0,t.useState)((null===n||void 0===n?void 0:n.analystNotes)||"");return n?(0,Zt.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen max-w-4xl mx-auto",children:[(0,Zt.jsxs)("h2",{className:"text-2xl font-semibold mb-6",children:["Case Details - ",n.entity]}),(0,Zt.jsxs)("div",{className:"mb-4",children:[(0,Zt.jsx)("strong",{children:"Risk Profile:"})," ",n.riskProfile]}),(0,Zt.jsxs)("div",{className:"mb-4",children:[(0,Zt.jsx)("strong",{children:"Screening Type:"})," ",n.screeningType]}),(0,Zt.jsxs)("div",{className:"mb-4",children:[(0,Zt.jsx)("strong",{children:"Screening Date:"})," ",n.screeningDate]}),(0,Zt.jsxs)("div",{className:"mb-4",children:[(0,Zt.jsx)("strong",{children:"Status:"})," ",n.status]}),(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h3",{className:"font-semibold mb-2",children:"Matches Found:"}),0===n.matches.length?(0,Zt.jsx)("p",{children:"No matches found."}):(0,Zt.jsx)("ul",{className:"list-disc list-inside",children:n.matches.map((e,t)=>(0,Zt.jsxs)("li",{children:[(0,Zt.jsxs)("strong",{children:[e.type,":"]})," ",e.detail]},t))})]}),(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h3",{className:"font-semibold mb-2",children:"Analyst Notes:"}),(0,Zt.jsx)("textarea",{rows:5,className:"w-full border border-gray-300 rounded p-2 focus:outline-none focus:ring focus:ring-blue-300",value:a,onChange:e=>i(e.target.value),placeholder:"Add or update notes here..."})]}),(0,Zt.jsxs)("div",{className:"flex gap-4",children:[(0,Zt.jsx)("button",{onClick:()=>alert("Notes saved! (Implement actual save logic)"),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Save Notes"}),(0,Zt.jsx)("button",{onClick:()=>r(-1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Back to List"})]})]}):(0,Zt.jsxs)("div",{className:"p-6 text-center",children:[(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Case not found"}),(0,Zt.jsx)("button",{onClick:()=>r(-1),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"})]})},XD=()=>{const[e,r]=(0,t.useState)("manual"),[n,a]=(0,t.useState)(null),[i,s]=(0,t.useState)({customerName:"",customerId:"",transactionDate:"",amount:"",currency:"",transactionType:"",country:"",counterpartyName:"",sourceOfFunds:"",purpose:"",description:""}),[o,l]=(0,t.useState)({}),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),w=(0,t.useRef)(null),N=(e,t)=>{switch(e){case"customerName":return t.trim()?t.trim().length<2?"Customer Name must be at least 2 characters":t.trim().length>100?"Customer Name must be less than 100 characters":"":"Customer Name is required";case"transactionDate":if(!t)return"Transaction Date is required";return new Date(t)>new Date?"Transaction Date cannot be in the future":"";case"amount":if(!t)return"Amount is required";const e=parseFloat(t);return isNaN(e)?"Amount must be a valid number":e<=0?"Amount must be greater than 0":e>999999999.99?"Amount is too large":"";case"currency":return t?"":"Currency is required";case"transactionType":return t?"":"Transaction Type is required";case"country":return t?"":"Country is required";case"counterpartyName":return t.trim()?t.trim().length<2?"Counterparty Name must be at least 2 characters":t.trim().length>100?"Counterparty Name must be less than 100 characters":"":"Counterparty Name is required";case"sourceOfFunds":return t?"":"Source of Funds is required";case"purpose":return t.trim()?t.trim().length<5?"Purpose must be at least 5 characters":t.trim().length>200?"Purpose must be less than 200 characters":"":"Purpose of Transaction is required";case"description":return t&&t.trim().length>500?"Description must be less than 500 characters":"";default:return""}},_=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}));const n=N(t,r);l(e=>({...e,[t]:n}))},S=e=>{const{name:t}=e.target;u(e=>({...e,[t]:!0}))};(0,t.useEffect)(()=>{const e=e=>{w.current&&!w.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Add Transactions"}),(0,Zt.jsxs)("div",{className:"flex gap-4 border-b mb-6",children:[(0,Zt.jsx)("button",{className:"pb-2 "+("manual"===e?"border-b-2 border-blue-500 font-medium":"text-gray-500"),onClick:()=>r("manual"),children:"Manual Entry"}),(0,Zt.jsx)("button",{className:"pb-2 "+("upload"===e?"border-b-2 border-blue-500 font-medium":"text-gray-500"),onClick:()=>r("upload"),children:"Upload File"}),(0,Zt.jsx)("button",{className:"pb-2 "+("connect"===e?"border-b-2 border-blue-500 font-medium":"text-gray-500"),onClick:()=>r("connect"),children:"Connect Accounting Software"})]}),"manual"===e&&(0,Zt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={};if(Object.keys(i).forEach(e=>{t[e]=!0}),u(t),(()=>{const e={};return Object.keys(i).forEach(t=>{const r=N(t,i[t]);r&&(e[t]=r)}),i.customerId||(e.customerName="Please select a customer from the dropdown"),l(e),0===Object.keys(e).length})())if(i.customerId){h(!0);try{console.log("\ud83d\udd0d Processing transaction submission...");const e={customer_id:i.customerId,transaction_type:i.transactionType,amount:i.amount,currency:i.currency,transaction_date:i.transactionDate,source_account:i.customerName,destination_account:i.counterpartyName,description:i.description,risk_assessment_data:{destination_country:i.country,source_of_funds:i.sourceOfFunds,purpose:i.purpose,is_unusual_pattern:!1,involves_third_party:i.counterpartyName!==i.customerName,is_structuring:!1,involves_pep:!1,involves_sanctioned_entity:!1,frequency:1}};console.log("\ud83d\udcca Transaction data prepared:",e);const t=await UO.createTransaction(e);if(!t)throw new Error("Failed to create transaction");console.log("\u2705 Transaction created:",t),console.log("\ud83d\udcca Transaction risk score:",t.risk_score),console.log("\ud83d\udcca Transaction status:",t.status);let r=!1;if(t.risk_score>70||"Flagged"===t.status){console.log("\ud83d\udea8 High-risk transaction detected, creating case...");const e={customer_id:i.customerId,case_type:"Transaction",case_title:`High-Risk Transaction - ${i.customerName}`,description:`Transaction of ${i.amount} ${i.currency} flagged for review. Risk Score: ${t.risk_score}`,risk_level:t.risk_score>70?"High":"Medium",priority:t.risk_score>80?"High":"Medium",status:"Open",source_transaction_id:t.id},n=await qO.createCase(e);n&&(console.log("\u2705 Case created:",n),r=!0,await qO.addCaseAction(n.id,{action_type:"Transaction Flagged",description:`Transaction ${t.id} flagged with risk score ${t.risk_score}`,notes:`Amount: ${i.amount} ${i.currency}, Counterparty: ${i.counterpartyName}`}))}r?qt.success(`Transaction added successfully! Risk score: ${t.risk_score}. Case created for review.`):t.risk_score>50?qt.success(`Transaction added successfully! Risk score: ${t.risk_score}. Transaction flagged for monitoring.`):qt.success(`Transaction added successfully! Risk score: ${t.risk_score}.`),s({customerName:"",customerId:"",transactionDate:"",amount:"",currency:"",transactionType:"",country:"",counterpartyName:"",sourceOfFunds:"",purpose:"",description:""}),p(""),l({}),u({})}catch(tR){console.error("\u274c Error adding transaction:",tR),qt.error("Failed to add transaction. Please try again.")}finally{h(!1)}}else qt.error("Please select a valid customer from the dropdown");else qt.error("Please fix the errors before submitting")},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Zt.jsxs)("div",{className:"relative",ref:w,children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name / ID *"}),(0,Zt.jsx)("input",{type:"text",name:"customerName",value:f,onChange:e=>{const t=e.target.value;p(t),s(e=>({...e,customerName:t,customerId:""}));const r=setTimeout(()=>{(async e=>{if(e.length<2)return g([]),void v(!1);console.log("\ud83d\udd0d Searching for customers with term:",e),x(!0);try{const t=await kO.searchCustomers(e);console.log("\ud83d\udd0d Search result:",t),t.success?(console.log("\u2705 Found customers:",t.data),g(t.data||[]),v(!0)):(console.log("\u274c Search failed:",t.error),g([]),v(!1))}catch(tR){console.error("Error searching customers:",tR),g([]),v(!1)}finally{x(!1)}})(t)},300);return()=>clearTimeout(r)},onBlur:S,placeholder:"Start typing customer name or ID...",className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.customerName&&o.customerName?"border-red-500":"border-gray-300")}),b&&(0,Zt.jsx)("div",{className:"absolute right-3 top-8",children:(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})}),y&&m.length>0&&(0,Zt.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:m.map(e=>(0,Zt.jsxs)("div",{onClick:()=>(e=>{p(`${e.first_name} ${e.last_name} (${e.id})`),s(t=>({...t,customerName:`${e.first_name} ${e.last_name}`,customerId:e.id})),v(!1),g([])})(e),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0",children:[(0,Zt.jsxs)("div",{className:"font-medium",children:[e.first_name," ",e.last_name]}),(0,Zt.jsxs)("div",{className:"text-sm text-gray-600",children:["ID: ",e.id," \u2022 ",e.email]}),e.risk_level&&(0,Zt.jsxs)("div",{className:"text-xs px-2 py-1 rounded-full inline-block mt-1 "+("High"===e.risk_level?"bg-red-100 text-red-800":"Medium"===e.risk_level?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.risk_level," Risk"]})]},e.id))}),c.customerName&&o.customerName&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.customerName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Date *"}),(0,Zt.jsx)("input",{type:"date",name:"transactionDate",value:i.transactionDate,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.transactionDate&&o.transactionDate?"border-red-500":"border-gray-300")}),c.transactionDate&&o.transactionDate&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.transactionDate})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),(0,Zt.jsx)("input",{type:"number",step:"0.01",name:"amount",value:i.amount,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.amount&&o.amount?"border-red-500":"border-gray-300")}),c.amount&&o.amount&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.amount})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency *"}),(0,Zt.jsxs)("select",{name:"currency",value:i.currency,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.currency&&o.currency?"border-red-500":"border-gray-300"),children:[(0,Zt.jsx)("option",{value:"",children:"Select Currency"}),bP.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]}),c.currency&&o.currency&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.currency})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Type *"}),(0,Zt.jsxs)("select",{name:"transactionType",value:i.transactionType,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.transactionType&&o.transactionType?"border-red-500":"border-gray-300"),children:[(0,Zt.jsx)("option",{value:"",children:"Select Type"}),(0,Zt.jsx)("option",{value:"credit",children:"Credit"}),(0,Zt.jsx)("option",{value:"debit",children:"Debit"}),(0,Zt.jsx)("option",{value:"Cash",children:"Cash"})]}),c.transactionType&&o.transactionType&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.transactionType})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,Zt.jsxs)("select",{name:"country",value:i.country,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.country&&o.country?"border-red-500":"border-gray-300"),children:[(0,Zt.jsx)("option",{value:"",children:"Select Country"}),VO.map(e=>(0,Zt.jsx)("option",{value:e.code,children:e.name},e.code))]}),c.country&&o.country&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.country})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counterparty Name *"}),(0,Zt.jsx)("input",{type:"text",name:"counterpartyName",value:i.counterpartyName,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.counterpartyName&&o.counterpartyName?"border-red-500":"border-gray-300")}),c.counterpartyName&&o.counterpartyName&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.counterpartyName})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source of Funds *"}),(0,Zt.jsxs)("select",{name:"sourceOfFunds",value:i.sourceOfFunds,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.sourceOfFunds&&o.sourceOfFunds?"border-red-500":"border-gray-300"),children:[(0,Zt.jsx)("option",{value:"",children:"Select Source"}),rP.map(e=>(0,Zt.jsx)("option",{value:e,children:e},e))]}),c.sourceOfFunds&&o.sourceOfFunds&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.sourceOfFunds})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose of Transaction *"}),(0,Zt.jsx)("input",{type:"text",name:"purpose",value:i.purpose,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.purpose&&o.purpose?"border-red-500":"border-gray-300")}),c.purpose&&o.purpose&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.purpose})]}),(0,Zt.jsxs)("div",{className:"md:col-span-2",children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Notes"}),(0,Zt.jsx)("textarea",{rows:"4",name:"description",value:i.description,onChange:_,onBlur:S,className:"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(c.description&&o.description?"border-red-500":"border-gray-300")}),c.description&&o.description&&(0,Zt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.description})]}),(0,Zt.jsx)("div",{className:"md:col-span-2",children:(0,Zt.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200 "+(d?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:d?"Adding Transaction...":"Submit Transaction"})})]}),"upload"===e&&(0,Zt.jsxs)("div",{className:"space-y-4",children:[(0,Zt.jsx)("input",{type:"file",accept:".csv, .xlsx",onChange:e=>{a(e.target.files[0])}}),n&&(0,Zt.jsxs)("p",{className:"text-sm text-gray-600",children:["Selected file: ",n.name]}),(0,Zt.jsx)("a",{href:"/sample-template.xlsx",download:!0,className:"text-blue-500 underline",children:"Download sample template"}),(0,Zt.jsx)("button",{className:"btn-primary",children:"Upload"})]}),"connect"===e&&(0,Zt.jsxs)("div",{className:"space-y-4",children:[(0,Zt.jsx)("button",{className:"btn-disabled",children:"Connect to QuickBooks (Coming Soon)"}),(0,Zt.jsx)("button",{className:"btn-disabled",children:"Connect to Xero (Coming Soon)"}),(0,Zt.jsx)("p",{className:"text-sm text-gray-500",children:"These integrations will allow automated syncing of customer transactions in future updates."})]})]})};function QD(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ZD=t.forwardRef(QD);function eI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const tI=t.forwardRef(eI);function rI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const nI=t.forwardRef(rI);function aI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const iI=t.forwardRef(aI);function sI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const oI=t.forwardRef(sI);function lI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const cI=t.forwardRef(lI);function uI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const dI=t.forwardRef(uI);function hI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const fI=t.forwardRef(hI),pI=()=>{var e,r,n,a;const[i,s]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)({search:"",dateFrom:"",dateTo:"",status:"",riskScore:"",transactionType:"",page:1,limit:50}),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),[b,x]=(0,t.useState)(!1),[w,N]=(0,t.useState)([]),_=async()=>{l(!0),u(null);try{const e=await UO.getTransactions(f.page,f.limit,f);e.success?(s(e.data||[]),h(e.count||0)):(u(e.error||"Failed to fetch transactions"),qt.error("Failed to load transactions"))}catch(c){console.error("Error fetching transactions:",c),u("Failed to fetch transactions"),qt.error("Failed to load transactions")}finally{l(!1)}};(0,t.useEffect)(()=>{_()},[f.page,f.limit]);const S=(e,t)=>{p(r=>({...r,[e]:t,page:1}))},j=async e=>{try{await UO.flagTransaction(e,"Manual flag from monitoring")&&(qt.success("Transaction flagged successfully"),_())}catch(c){console.error("Error flagging transaction:",c),qt.error("Failed to flag transaction")}};return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Transaction Monitoring"}),(0,Zt.jsxs)("p",{className:"text-gray-600 mt-1",children:[d," transactions \u2022 ",i.filter(e=>"Flagged"===e.status).length," flagged"]})]}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsxs)("button",{onClick:()=>{const e=[["Date","Customer","Amount","Currency","Type","Risk Score","Status"],...i.map(e=>{var t,r;return[e.transaction_date,`${null===(t=e.customers)||void 0===t?void 0:t.first_name} ${null===(r=e.customers)||void 0===r?void 0:r.last_name}`,e.amount,e.currency,e.transaction_type,e.risk_score,e.status]})].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`transactions-${(new Date).toISOString().split("T")[0]}.csv`,n.click(),window.URL.revokeObjectURL(r),qt.success("Transactions exported successfully")},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[(0,Zt.jsx)(ZD,{className:"w-4 h-4"}),"Export"]}),(0,Zt.jsxs)("button",{onClick:()=>g(!m),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,Zt.jsx)(tI,{className:"w-4 h-4"}),"Filters"]})]})]}),m&&(0,Zt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6 shadow-sm",children:[(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)(nI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Zt.jsx)("input",{type:"text",placeholder:"Search by customer name...",value:f.search,onChange:e=>S("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),(0,Zt.jsx)("input",{type:"date",value:f.dateFrom,onChange:e=>S("dateFrom",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),(0,Zt.jsx)("input",{type:"date",value:f.dateTo,onChange:e=>S("dateTo",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Zt.jsxs)("select",{value:f.status,onChange:e=>S("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Zt.jsx)("option",{value:"",children:"All Status"}),(0,Zt.jsx)("option",{value:"Normal",children:"Normal"}),(0,Zt.jsx)("option",{value:"Flagged",children:"Flagged"}),(0,Zt.jsx)("option",{value:"Blocked",children:"Blocked"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Risk Score"}),(0,Zt.jsxs)("select",{value:f.riskScore,onChange:e=>S("riskScore",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Zt.jsx)("option",{value:"",children:"All Risk Levels"}),(0,Zt.jsx)("option",{value:"0-30",children:"Low (0-30)"}),(0,Zt.jsx)("option",{value:"31-70",children:"Medium (31-70)"}),(0,Zt.jsx)("option",{value:"71-100",children:"High (71-100)"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Type"}),(0,Zt.jsxs)("select",{value:f.transactionType,onChange:e=>S("transactionType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Zt.jsx)("option",{value:"",children:"All Types"}),(0,Zt.jsx)("option",{value:"credit",children:"Credit"}),(0,Zt.jsx)("option",{value:"debit",children:"Debit"}),(0,Zt.jsx)("option",{value:"Cash",children:"Cash"})]})]})]}),(0,Zt.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,Zt.jsx)("button",{onClick:()=>{_()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Apply Filters"}),(0,Zt.jsx)("button",{onClick:()=>{p({search:"",dateFrom:"",dateTo:"",status:"",riskScore:"",transactionType:"",page:1,limit:50})},className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Clear Filters"})]})]}),w.length>0&&(0,Zt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Zt.jsxs)("span",{className:"text-blue-800 font-medium",children:[w.length," transaction(s) selected"]}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsxs)("button",{onClick:async()=>{if(0!==w.length)try{for(const e of w)await UO.flagTransaction(e,"Bulk flag from monitoring");qt.success(`${w.length} transactions flagged successfully`),N([]),_()}catch(c){console.error("Error bulk flagging transactions:",c),qt.error("Failed to flag some transactions")}else qt.warning("Please select transactions to flag")},className:"flex items-center gap-2 px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",children:[(0,Zt.jsx)(iI,{className:"w-4 h-4"}),"Flag Selected"]}),(0,Zt.jsx)("button",{onClick:()=>N([]),className:"px-3 py-1 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors text-sm",children:"Clear Selection"})]})]})}),o&&(0,Zt.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Zt.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading transactions..."})]}),c&&(0,Zt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)(oI,{className:"w-5 h-5 text-red-400 mr-2"}),(0,Zt.jsx)("span",{className:"text-red-800",children:c})]})}),!o&&!c&&(0,Zt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Zt.jsx)("thead",{className:"bg-gray-50",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Zt.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?N(i.map(e=>e.id)):N([])},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Score"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Zt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(e=>(0,Zt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsx)("input",{type:"checkbox",checked:w.includes(e.id),onChange:()=>{return t=e.id,void N(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.transaction_date).toLocaleDateString()}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.customers?`${e.customers.first_name} ${e.customers.last_name}`:"Unknown Customer"}),(0,Zt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.currency," ",parseFloat(e.amount).toLocaleString()]}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.transaction_type}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.risk_score>=70?"bg-red-100 text-red-800":e.risk_score>=40?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.risk_score})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Flagged"===e.status?"bg-red-100 text-red-800":"Blocked"===e.status?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800"),children:["Flagged"===e.status&&(0,Zt.jsx)(cI,{className:"w-3 h-3 mr-1"}),"Normal"===e.status&&(0,Zt.jsx)(dI,{className:"w-3 h-3 mr-1"}),e.status]})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("button",{onClick:()=>(async e=>{try{const t=await UO.getTransactionById(e);v(t),x(!0)}catch(c){console.error("Error fetching transaction details:",c),qt.error("Failed to load transaction details")}})(e.id),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"View Details",children:(0,Zt.jsx)(fI,{className:"w-4 h-4"})}),"Flagged"!==e.status&&(0,Zt.jsx)("button",{onClick:()=>j(e.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Flag Transaction",children:(0,Zt.jsx)(iI,{className:"w-4 h-4"})})]})})]},e.id))})]})}),0===i.length&&!o&&(0,Zt.jsxs)("div",{className:"text-center py-12",children:[(0,Zt.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Zt.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Zt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No transactions found"}),(0,Zt.jsx)("p",{className:"text-gray-500",children:"Try adjusting your filters or add some transactions."})]})]}),d>f.limit&&(0,Zt.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,Zt.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(f.page-1)*f.limit+1," to ",Math.min(f.page*f.limit,d)," of ",d," results"]}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("button",{onClick:()=>S("page",f.page-1),disabled:1===f.page,className:"px-3 py-2 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,Zt.jsx)("button",{onClick:()=>S("page",f.page+1),disabled:f.page*f.limit>=d,className:"px-3 py-2 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]}),b&&y&&(0,Zt.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Zt.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Zt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction Details"}),(0,Zt.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Zt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Transaction Information"}),(0,Zt.jsxs)("div",{className:"space-y-2",children:[(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,Zt.jsx)("span",{className:"font-medium",children:y.id})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,Zt.jsx)("span",{className:"font-medium",children:new Date(y.transaction_date).toLocaleDateString()})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,Zt.jsx)("span",{className:"font-medium",children:y.transaction_type})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,Zt.jsxs)("span",{className:"font-medium",children:[y.currency," ",parseFloat(y.amount).toLocaleString()]})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,Zt.jsx)("span",{className:"font-medium "+("Flagged"===y.status?"text-red-600":"Blocked"===y.status?"text-gray-600":"text-green-600"),children:y.status})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Risk Score:"}),(0,Zt.jsx)("span",{className:"font-medium "+(y.risk_score>=70?"text-red-600":y.risk_score>=40?"text-yellow-600":"text-green-600"),children:y.risk_score})]})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Customer Information"}),(0,Zt.jsxs)("div",{className:"space-y-2",children:[(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,Zt.jsx)("span",{className:"font-medium",children:y.customers?`${y.customers.first_name} ${y.customers.last_name}`:"Unknown Customer"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,Zt.jsx)("span",{className:"font-medium",children:(null===(e=y.customers)||void 0===e?void 0:e.email)||"N/A"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Risk Level:"}),(0,Zt.jsx)("span",{className:"font-medium "+("High"===(null===(r=y.customers)||void 0===r?void 0:r.risk_level)?"text-red-600":"Medium"===(null===(n=y.customers)||void 0===n?void 0:n.risk_level)?"text-yellow-600":"text-green-600"),children:(null===(a=y.customers)||void 0===a?void 0:a.risk_level)||"N/A"})]})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Account Information"}),(0,Zt.jsxs)("div",{className:"space-y-2",children:[(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Source Account:"}),(0,Zt.jsx)("span",{className:"font-medium",children:y.source_account||"N/A"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Destination Account:"}),(0,Zt.jsx)("span",{className:"font-medium",children:y.destination_account||"N/A"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Description:"}),(0,Zt.jsx)("span",{className:"font-medium",children:y.description||"N/A"})]})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Risk Analysis"}),(0,Zt.jsxs)("div",{className:"space-y-2",children:[(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Risk Level:"}),(0,Zt.jsx)("span",{className:"font-medium "+(y.risk_score>=70?"text-red-600":y.risk_score>=40?"text-yellow-600":"text-green-600"),children:y.risk_score>=70?"High":y.risk_score>=40?"Medium":"Low"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Created:"}),(0,Zt.jsx)("span",{className:"font-medium",children:new Date(y.created_at).toLocaleString()})]}),y.transaction_alerts&&y.transaction_alerts.length>0&&(0,Zt.jsxs)("div",{className:"mt-3",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Alerts:"}),(0,Zt.jsx)("div",{className:"mt-1 space-y-1",children:y.transaction_alerts.map((e,t)=>(0,Zt.jsxs)("div",{className:"text-sm bg-red-50 p-2 rounded",children:[(0,Zt.jsx)("span",{className:"font-medium text-red-800",children:e.alert_type}),(0,Zt.jsx)("p",{className:"text-red-600 text-xs",children:e.reason||"No reason provided"})]},t))})]})]})]})]}),(0,Zt.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:["Flagged"!==y.status&&(0,Zt.jsx)("button",{onClick:()=>{j(y.id),x(!1)},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Flag Transaction"}),(0,Zt.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Close"})]})]})})]})};function mI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const gI=t.forwardRef(mI);function yI(e,r){let{title:n,titleId:a,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),n?t.createElement("title",{id:a},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vI=t.forwardRef(yI),bI=()=>{var e,r,n;const[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)({search:"",dateFrom:"",dateTo:"",status:"",alertType:"",riskScore:"",page:1,limit:50}),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(!1),[N,_]=(0,t.useState)([]),S=async()=>{o(!0),c(null);try{console.log("\ud83d\udd0d Fetching alerts with filters:",p);const t=await HO.getAlerts(p.page,p.limit,p);var e;if(console.log("\ud83d\udcca Alert service result:",t),t.success)i(t.data||[]),d(t.count||0),console.log(`\u2705 Successfully loaded ${(null===(e=t.data)||void 0===e?void 0:e.length)||0} alerts`),console.log("\ud83d\udcca Alert data:",t.data);else c(t.error||"Failed to fetch alerts"),qt.error("Failed to load alerts"),console.error("\u274c Alert service error:",t.error)}catch(l){console.error("Error fetching alerts:",l),c("Failed to fetch alerts"),qt.error("Failed to load alerts")}finally{o(!1)}},j=async()=>{try{const e=await HO.getAlertStats();f(e)}catch(l){console.error("Error fetching alert stats:",l)}};(0,t.useEffect)(()=>{(async()=>{await E(),S(),j()})()},[p.page,p.limit]);const k=(e,t)=>{m(r=>({...r,[e]:t,page:1}))},[A,C]=(0,t.useState)(""),[O,P]=(0,t.useState)(""),E=async()=>{try{console.log("\ud83d\udd27 Creating alerts for flagged transactions...");const e=await HO.createAlertsForFlaggedTransactions();e.success&&e.createdCount>0&&(qt.success(e.message),S(),j())}catch(l){console.error("Error creating missing alerts:",l)}};return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Alerts"}),(0,Zt.jsxs)("p",{className:"text-gray-600 mt-1",children:[u," alerts \u2022 ",(null===h||void 0===h?void 0:h.unread)||0," unread \u2022 ",(null===h||void 0===h?void 0:h.highRisk)||0," high risk"]})]}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsxs)("button",{onClick:()=>{const e=[["Date","Customer","Alert Type","Severity","Status","Description"],...a.map(e=>{var t;return[new Date(e.created_at).toLocaleDateString(),null!==(t=e.transactions)&&void 0!==t&&t.customers?`${e.transactions.customers.first_name} ${e.transactions.customers.last_name}`:"Unknown Customer",e.alert_type,e.severity,e.status,e.description||"N/A"]})].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`alerts-${(new Date).toISOString().split("T")[0]}.csv`,n.click(),window.URL.revokeObjectURL(r),qt.success("Alerts exported successfully")},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[(0,Zt.jsx)(ZD,{className:"w-4 h-4"}),"Export"]}),(0,Zt.jsxs)("button",{onClick:()=>y(!g),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,Zt.jsx)(tI,{className:"w-4 h-4"}),"Filters"]})]})]}),h&&(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)(gI,{className:"w-8 h-8 text-blue-600"}),(0,Zt.jsxs)("div",{className:"ml-3",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Alerts"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:h.total})]})]})}),(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)(cI,{className:"w-8 h-8 text-red-600"}),(0,Zt.jsxs)("div",{className:"ml-3",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"High Risk"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:h.highRisk})]})]})}),(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)(vI,{className:"w-8 h-8 text-yellow-600"}),(0,Zt.jsxs)("div",{className:"ml-3",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Unread"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:h.unread})]})]})}),(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)(dI,{className:"w-8 h-8 text-green-600"}),(0,Zt.jsxs)("div",{className:"ml-3",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:(null===(e=h.byStatus)||void 0===e?void 0:e.Resolved)||0})]})]})})]}),g&&(0,Zt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6 shadow-sm",children:[(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)(nI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Zt.jsx)("input",{type:"text",placeholder:"Search by customer name...",value:p.search,onChange:e=>k("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),(0,Zt.jsx)("input",{type:"date",value:p.dateFrom,onChange:e=>k("dateFrom",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),(0,Zt.jsx)("input",{type:"date",value:p.dateTo,onChange:e=>k("dateTo",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Zt.jsxs)("select",{value:p.status,onChange:e=>k("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Zt.jsx)("option",{value:"",children:"All Status"}),(0,Zt.jsx)("option",{value:"Open",children:"Open"}),(0,Zt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Zt.jsx)("option",{value:"Resolved",children:"Resolved"}),(0,Zt.jsx)("option",{value:"Closed",children:"Closed"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alert Type"}),(0,Zt.jsxs)("select",{value:p.alertType,onChange:e=>k("alertType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Zt.jsx)("option",{value:"",children:"All Types"}),(0,Zt.jsx)("option",{value:"High Risk Transaction",children:"High Risk Transaction"}),(0,Zt.jsx)("option",{value:"Manual Flag",children:"Manual Flag"}),(0,Zt.jsx)("option",{value:"Suspicious Pattern",children:"Suspicious Pattern"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Risk Score"}),(0,Zt.jsxs)("select",{value:p.riskScore,onChange:e=>k("riskScore",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Zt.jsx)("option",{value:"",children:"All Risk Levels"}),(0,Zt.jsx)("option",{value:"0-30",children:"Low (0-30)"}),(0,Zt.jsx)("option",{value:"31-70",children:"Medium (31-70)"}),(0,Zt.jsx)("option",{value:"71-100",children:"High (71-100)"})]})]})]}),(0,Zt.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,Zt.jsx)("button",{onClick:()=>{S()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Apply Filters"}),(0,Zt.jsx)("button",{onClick:()=>{m({search:"",dateFrom:"",dateTo:"",status:"",alertType:"",riskScore:"",page:1,limit:50})},className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Clear Filters"})]})]}),N.length>0&&(0,Zt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Zt.jsxs)("span",{className:"text-blue-800 font-medium",children:[N.length," alert(s) selected"]}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsxs)("button",{onClick:async()=>{if(0!==N.length)try{for(const e of N)await HO.updateAlertStatus(e,"Resolved","Bulk resolved from alerts page");qt.success(`${N.length} alerts resolved successfully`),_([]),S(),j()}catch(l){console.error("Error bulk resolving alerts:",l),qt.error("Failed to resolve some alerts")}else qt.warning("Please select alerts to resolve")},className:"flex items-center gap-2 px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[(0,Zt.jsx)(dI,{className:"w-4 h-4"}),"Resolve Selected"]}),(0,Zt.jsx)("button",{onClick:()=>_([]),className:"px-3 py-1 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors text-sm",children:"Clear Selection"})]})]})}),s&&(0,Zt.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Zt.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading alerts..."})]}),l&&(0,Zt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)(oI,{className:"w-5 h-5 text-red-400 mr-2"}),(0,Zt.jsx)("span",{className:"text-red-800",children:l})]})}),!s&&!l&&(0,Zt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Zt.jsx)("thead",{className:"bg-gray-50",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Zt.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?_(a.map(e=>e.id)):_([])},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Alert Type"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Severity"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Zt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>{var t;return(0,Zt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsx)("input",{type:"checkbox",checked:N.includes(e.id),onChange:()=>{return t=e.id,void _(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString()}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:null!==(t=e.transactions)&&void 0!==t&&t.customers?`${e.transactions.customers.first_name} ${e.transactions.customers.last_name}`:"Unknown Customer"}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.alert_type}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Critical"===e.severity?"bg-red-100 text-red-800":"High"===e.severity?"bg-orange-100 text-orange-800":"Medium"===e.severity?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.severity})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Open"===e.status?"bg-red-100 text-red-800":"In Progress"===e.status?"bg-yellow-100 text-yellow-800":"Resolved"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:["Open"===e.status&&(0,Zt.jsx)(cI,{className:"w-3 h-3 mr-1"}),"Resolved"===e.status&&(0,Zt.jsx)(dI,{className:"w-3 h-3 mr-1"}),"In Progress"===e.status&&(0,Zt.jsx)(vI,{className:"w-3 h-3 mr-1"}),e.status]})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Zt.jsxs)("button",{onClick:()=>(async e=>{try{console.log("\ud83d\udd0d Fetching alert details for ID:",e);const t=await HO.getAlertById(e);console.log("\ud83d\udcca Alert details received:",t),b(t),C(t.status||""),P(""),w(!0)}catch(l){console.error("Error fetching alert details:",l),qt.error(`Failed to load alert details: ${l.message}`);const r=a.find(t=>t.id===e);r&&(console.log("\ud83d\udcca Using current alert data as fallback:",r),b(r),C(r.status||""),P(""),w(!0))}})(e.id),className:"text-blue-600 hover:text-blue-900 transition-colors flex items-center gap-1",title:"View Details",children:[(0,Zt.jsx)(fI,{className:"w-4 h-4"}),"View Details"]})})]},e.id)})})]})}),0===a.length&&!s&&(0,Zt.jsxs)("div",{className:"text-center py-12",children:[(0,Zt.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Zt.jsx)(gI,{className:"mx-auto h-12 w-12"})}),(0,Zt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No alerts found"}),(0,Zt.jsx)("p",{className:"text-gray-500",children:"Try adjusting your filters or check back later."})]})]}),u>p.limit&&(0,Zt.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,Zt.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(p.page-1)*p.limit+1," to ",Math.min(p.page*p.limit,u)," of ",u," results"]}),(0,Zt.jsxs)("div",{className:"flex gap-2",children:[(0,Zt.jsx)("button",{onClick:()=>k("page",p.page-1),disabled:1===p.page,className:"px-3 py-2 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,Zt.jsx)("button",{onClick:()=>k("page",p.page+1),disabled:p.page*p.limit>=u,className:"px-3 py-2 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]}),x&&v&&(0,Zt.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Zt.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Zt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Alert Details"}),(0,Zt.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Zt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Alert Information"}),(0,Zt.jsxs)("div",{className:"space-y-2",children:[(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Alert ID:"}),(0,Zt.jsx)("span",{className:"font-medium",children:v.id})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Date Created:"}),(0,Zt.jsx)("span",{className:"font-medium",children:new Date(v.created_at).toLocaleDateString()})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Alert Type:"}),(0,Zt.jsx)("span",{className:"font-medium",children:v.alert_type})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,Zt.jsx)("span",{className:"font-medium "+("Open"===v.status?"text-red-600":"In Progress"===v.status?"text-yellow-600":"Resolved"===v.status?"text-green-600":"text-gray-600"),children:v.status})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Severity:"}),(0,Zt.jsx)("span",{className:"font-medium "+("Critical"===v.severity?"text-red-600":"High"===v.severity?"text-orange-600":"Medium"===v.severity?"text-yellow-600":"text-green-600"),children:v.severity})]})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Customer Information"}),(0,Zt.jsxs)("div",{className:"space-y-2",children:[(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,Zt.jsx)("span",{className:"font-medium",children:null!==(r=v.transactions)&&void 0!==r&&r.customers?`${v.transactions.customers.first_name} ${v.transactions.customers.last_name}`:"Unknown Customer"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Customer ID:"}),(0,Zt.jsx)("span",{className:"font-medium",children:v.customer_id})]})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Transaction Information"}),(0,Zt.jsxs)("div",{className:"space-y-2",children:[(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,Zt.jsx)("span",{className:"font-medium",children:v.transaction_id})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,Zt.jsx)("span",{className:"font-medium",children:v.transactions?`${v.transactions.currency} ${parseFloat(v.transactions.amount).toLocaleString()}`:"N/A"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,Zt.jsx)("span",{className:"font-medium",children:(null===(n=v.transactions)||void 0===n?void 0:n.transaction_type)||"N/A"})]})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Alert Details"}),(0,Zt.jsxs)("div",{className:"space-y-2",children:[(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Description:"}),(0,Zt.jsx)("span",{className:"font-medium",children:v.description||"N/A"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Alert Type:"}),(0,Zt.jsx)("span",{className:"font-medium",children:v.alert_type||"N/A"})]}),(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Severity:"}),(0,Zt.jsx)("span",{className:"font-medium",children:v.severity||"N/A"})]}),v.resolved_at&&(0,Zt.jsxs)("div",{className:"flex justify-between",children:[(0,Zt.jsx)("span",{className:"text-gray-600",children:"Resolved At:"}),(0,Zt.jsx)("span",{className:"font-medium",children:new Date(v.resolved_at).toLocaleString()})]})]})]})]}),(0,Zt.jsxs)("div",{className:"mt-6 border-t pt-6",children:[(0,Zt.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Update Alert Status"}),(0,Zt.jsxs)("div",{className:"space-y-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Zt.jsxs)("select",{value:A,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Zt.jsx)("option",{value:"",children:"Select Status"}),(0,Zt.jsx)("option",{value:"Open",children:"Open"}),(0,Zt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Zt.jsx)("option",{value:"Resolved",children:"Resolved"}),(0,Zt.jsx)("option",{value:"Closed",children:"Closed"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks/Justification"}),(0,Zt.jsx)("textarea",{value:O,onChange:e=>P(e.target.value),placeholder:"Enter remarks or justification for the status change...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,Zt.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,Zt.jsx)("button",{onClick:()=>{w(!1),C(""),P("")},className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,Zt.jsx)("button",{onClick:async()=>{if(v)try{console.log("\ud83d\udd27 Updating alert status:",{alertId:v.id,newStatus:A,remarks:O});const e=await HO.updateAlertStatus(v.id,A,O);console.log("\ud83d\udcca Update result:",e),e.success?(qt.success("Alert status updated successfully"),w(!1),C(""),P(""),await S(),await j(),console.log("\u2705 Alert status updated and list refreshed")):qt.error(e.error||"Failed to update alert status")}catch(l){console.error("Error updating alert status:",l),qt.error(`Failed to update alert status: ${l.message}`)}},disabled:!A,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})]})})]})},xI=()=>{const[e,r]=(0,t.useState)(""),n=BO.map(e=>({name:e.name,description:e.description,condition:e.condition.toString().includes(">")?">":e.condition.toString().includes("<")?"<":e.condition.toString().includes("===")?"===":"Check",threshold:e.condition.toString().includes("10000")?"> $10,000":e.condition.toString().includes("5000")?"> $5,000":e.condition.toString().includes("5")?"> 5 transactions":e.condition.toString().includes("true")?"Match":"Custom",category:e.category,status:"Active",score:e.score})).filter(t=>t.name.toLowerCase().includes(e.toLowerCase()));return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Transaction Monitoring Rules"}),(0,Zt.jsx)("p",{className:"text-gray-600 mt-1",children:"System-defined rules for transaction risk assessment"})]}),(0,Zt.jsx)("div",{className:"mb-6",children:(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search rules by name...",value:e,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,Zt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Zt.jsx)("thead",{className:"bg-gray-50",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rule Name"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Score"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,Zt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>(0,Zt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Zt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.description}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.category})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.score>=60?"bg-red-100 text-red-800":e.score>=40?"bg-orange-100 text-orange-800":e.score>=20?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.score," points"]})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.status})})]},t))})]})})})]})},wI=e=>{switch(e){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return""}},NI=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)({totalCustomers:0,byRiskLevel:{Low:0,Medium:0,High:0},averageRiskScore:0});(0,t.useEffect)(()=>{d(),h()},[]);const d=async()=>{try{a(!0);const e=await WO.getCustomersByRiskLevel(null,1,100);e.success?(r(e.data||[]),s(null)):(s(e.error||"Failed to fetch customers"),r([]))}catch(i){s("Failed to fetch customers"),r([]),console.error("Error fetching customers:",i)}finally{a(!1)}},h=async()=>{try{const e=await WO.getRiskStats();u(e)}catch(i){console.error("Error fetching stats:",i)}},f=e.filter(e=>`${e.first_name} ${e.last_name}`.toLowerCase().includes(o.toLowerCase()));return n?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):i?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Zt.jsxs)("div",{className:"flex",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Zt.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Zt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading data"}),(0,Zt.jsx)("div",{className:"mt-2 text-sm text-red-700",children:i}),(0,Zt.jsx)("div",{className:"mt-4",children:(0,Zt.jsx)("button",{onClick:()=>{s(null),d(),h()},className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Retry"})})]})]})})}):(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Risk Assessments"}),(0,Zt.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor and manage customer risk profiles"})]}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Customers"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.totalCustomers})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Low Risk"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byRiskLevel.Low})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Medium Risk"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byRiskLevel.Medium})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"High Risk"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byRiskLevel.High})]})]})})]}),(0,Zt.jsx)("div",{className:"mb-6",children:(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search by customer name...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,Zt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Zt.jsx)("thead",{className:"bg-gray-50",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Name"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Score"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Level"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Assessed"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Zt.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[f.map(e=>{var t,r;return(0,Zt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Zt.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,Zt.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[null===(t=e.first_name)||void 0===t?void 0:t.charAt(0),null===(r=e.last_name)||void 0===r?void 0:r.charAt(0)]})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsx)("div",{className:"text-sm text-gray-900",children:e.risk_score||0})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${wI(e.risk_level)}`,children:e.risk_level||"Not Assessed"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.last_risk_assessment?new Date(e.last_risk_assessment).toLocaleDateString():"Never"}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Zt.jsx)("button",{onClick:()=>(async e=>{try{console.log("Starting risk assessment for customer:",e);const t=await WO.performRiskAssessment(e);console.log("Risk assessment result:",t),t.success?(qt.success("Risk assessment completed successfully"),d(),h()):(qt.error(t.error||"Failed to perform risk assessment"),console.error("Risk assessment failed:",t.error))}catch(i){qt.error("Error performing risk assessment"),console.error("Error:",i)}})(e.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reassess"})})]},e.id)}),0===f.length&&(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:(0,Zt.jsxs)("div",{className:"text-gray-500",children:[(0,Zt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Zt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No customers found"}),(0,Zt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:o?"No customers match your search criteria.":"No customers have been added yet."})]})})})]})]})})})]})},_I=()=>{const[e,r]=(0,t.useState)(""),n=NO.map(e=>({name:e.name,description:e.description,condition:e.condition.toString().includes("isPEP")?"PEP Check":e.condition.toString().includes("country")?"Country Check":e.condition.toString().includes("income")?"Income Check":e.condition.toString().includes("business")?"Business Check":e.condition.toString().includes("true")?"Match":"Custom",weight:e.score,category:e.category,status:"Active",score:e.score})).filter(t=>t.name.toLowerCase().includes(e.toLowerCase()));return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Risk Rules"}),(0,Zt.jsx)("p",{className:"text-gray-600 mt-1",children:"System-defined rules for customer risk assessment"})]}),(0,Zt.jsx)("div",{className:"mb-6",children:(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search rules by name...",value:e,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,Zt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Zt.jsx)("thead",{className:"bg-gray-50",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rule Name"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Score"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,Zt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>(0,Zt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Zt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.description}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.category})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.score>=60?"bg-red-100 text-red-800":e.score>=40?"bg-orange-100 text-orange-800":e.score>=20?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.score," points"]})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.status})})]},t))})]})})})]})},SI=()=>{const[e,r]=(0,t.useState)([{id:1,name:"Default UAE Model",description:"Standard model for UAE FI clients",scoringRange:"0 - 100",mapping:"Low (0\u201330), Med (31\u201370), High (71\u2013100)",status:"Active"},{id:2,name:"High-Risk Entity Model",description:"Customized scoring for high-risk entities",scoringRange:"0 - 10",mapping:"Low (0\u20133), Med (4\u20136), High (7\u201310)",status:"Inactive"}]);return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-semibold",children:"Risk Models"}),(0,Zt.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ Add Risk Model"})]}),(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full bg-white border rounded-lg",children:[(0,Zt.jsx)("thead",{className:"bg-gray-100",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"py-3 px-4 text-left",children:"Model Name"}),(0,Zt.jsx)("th",{className:"py-3 px-4 text-left",children:"Description"}),(0,Zt.jsx)("th",{className:"py-3 px-4 text-left",children:"Scoring Range"}),(0,Zt.jsx)("th",{className:"py-3 px-4 text-left",children:"Risk Level Mapping"}),(0,Zt.jsx)("th",{className:"py-3 px-4 text-left",children:"Status"}),(0,Zt.jsx)("th",{className:"py-3 px-4",children:"Actions"})]})}),(0,Zt.jsx)("tbody",{children:e.map(e=>(0,Zt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"py-3 px-4",children:e.name}),(0,Zt.jsx)("td",{className:"py-3 px-4",children:e.description}),(0,Zt.jsx)("td",{className:"py-3 px-4",children:e.scoringRange}),(0,Zt.jsx)("td",{className:"py-3 px-4",children:e.mapping}),(0,Zt.jsx)("td",{className:"py-3 px-4",children:(0,Zt.jsx)("span",{className:"px-2 py-1 rounded text-sm font-medium "+("Active"===e.status?"bg-green-100 text-green-800":"bg-gray-200 text-gray-700"),children:e.status})}),(0,Zt.jsxs)("td",{className:"py-3 px-4 text-center space-x-2",children:[(0,Zt.jsx)("button",{className:"text-blue-600 hover:underline",children:"Edit"}),(0,Zt.jsx)("button",{className:"text-gray-600 hover:underline",children:"Duplicate"}),(0,Zt.jsx)("button",{className:"text-red-600 hover:underline",children:"Delete"})]})]},e.id))})]})})]})},jI={1:{name:"Mohammad Zain",riskScore:82,riskLevel:"High",scoring:{kyc:25,screening:30,transaction:20,behavior:7},lastAssessed:"2025-07-29",comments:"Multiple high-value transactions to sanctioned countries."},2:{name:"Fatima Bano",riskScore:45,riskLevel:"Medium",scoring:{kyc:15,screening:10,transaction:15,behavior:5},lastAssessed:"2025-07-26",comments:"Some inconsistencies in address verification."},3:{name:"Ali Khan",riskScore:20,riskLevel:"Low",scoring:{kyc:5,screening:5,transaction:5,behavior:5},lastAssessed:"2025-07-15",comments:"Clean background and limited transaction activity."}},kI=e=>{switch(e){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return""}},AI=()=>{const{id:e}=ne(),t=jI[e];return t?(0,Zt.jsxs)("div",{className:"p-6 max-w-3xl",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Risk Profile"}),(0,Zt.jsx)("p",{className:"text-gray-600 mb-6",children:t.name}),(0,Zt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"font-semibold text-gray-700",children:"Risk Score:"}),(0,Zt.jsx)("p",{children:t.riskScore})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"font-semibold text-gray-700",children:"Risk Level:"}),(0,Zt.jsx)("p",{className:`inline-block px-2 py-1 text-sm rounded ${kI(t.riskLevel)}`,children:t.riskLevel})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"font-semibold text-gray-700",children:"Last Assessed:"}),(0,Zt.jsx)("p",{children:t.lastAssessed})]})]}),(0,Zt.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Scoring Breakdown"}),(0,Zt.jsxs)("ul",{className:"mb-6 list-disc pl-5 text-gray-700",children:[(0,Zt.jsxs)("li",{children:["KYC Risk: ",t.scoring.kyc]}),(0,Zt.jsxs)("li",{children:["Screening Risk: ",t.scoring.screening]}),(0,Zt.jsxs)("li",{children:["Transaction Risk: ",t.scoring.transaction]}),(0,Zt.jsxs)("li",{children:["Behavioral Risk: ",t.scoring.behavior]})]}),(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Analyst Comments"}),(0,Zt.jsx)("p",{className:"text-gray-800",children:t.comments})]}),(0,Zt.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"Update Risk Profile"})]}):(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Risk Profile"}),(0,Zt.jsx)("p",{className:"text-red-500",children:"Profile not found."})]})},CI=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)({total:0,byStatus:{Open:0,"In Progress":0,Resolved:0,Closed:0},byRiskLevel:{Low:0,Medium:0,High:0},byType:{Screening:0,Transaction:0,KYC:0}}),d=re();(0,t.useEffect)(()=>{h(),f()},[]);const h=async()=>{try{a(!0);const e=await qO.getCases(1,100);e.data?(r(e.data||[]),s(null)):(s("Failed to fetch cases"),r([]))}catch(i){s("Failed to fetch cases"),r([]),console.error("Error fetching cases:",i)}finally{a(!1)}},f=async()=>{try{const e=await qO.getCaseStats();u(e)}catch(i){console.error("Error fetching stats:",i)}},p=e.filter(e=>{var t,r,n;return`${null===(t=e.customers)||void 0===t?void 0:t.first_name} ${null===(r=e.customers)||void 0===r?void 0:r.last_name}`.toLowerCase().includes(o.toLowerCase())||(null===(n=e.case_number)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase()))});return n?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):i?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Zt.jsxs)("div",{className:"flex",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Zt.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Zt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading data"}),(0,Zt.jsx)("div",{className:"mt-2 text-sm text-red-700",children:i}),(0,Zt.jsx)("div",{className:"mt-4",children:(0,Zt.jsx)("button",{onClick:()=>{s(null),h(),f()},className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Retry"})})]})]})})}):(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Case Management"}),(0,Zt.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor and manage investigation cases"})]}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Cases"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.total})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Open Cases"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byStatus.Open})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"In Progress"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byStatus["In Progress"]})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Resolved"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byStatus.Resolved})]})]})})]}),(0,Zt.jsx)("div",{className:"mb-6",children:(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search by customer name or case number...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,Zt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Zt.jsx)("thead",{className:"bg-gray-50",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Case ID"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Name"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Level"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,Zt.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[p.map(e=>{var t,r,n,a,i,s,o;return(0,Zt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.case_number||e.id}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Zt.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,Zt.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[null===(t=e.customers)||void 0===t||null===(r=t.first_name)||void 0===r?void 0:r.charAt(0),null===(n=e.customers)||void 0===n||null===(a=n.last_name)||void 0===a?void 0:a.charAt(0)]})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[null===(i=e.customers)||void 0===i?void 0:i.first_name," ",null===(s=e.customers)||void 0===s?void 0:s.last_name]}),(0,Zt.jsx)("div",{className:"text-sm text-gray-500",children:null===(o=e.customers)||void 0===o?void 0:o.email})]})]})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.case_type||"Unknown"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("High"===e.risk_level?"bg-red-100 text-red-800":"Medium"===e.risk_level?"bg-orange-100 text-orange-800":"Low"===e.risk_level?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.risk_level||"Not Set"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Open"===e.status?"bg-blue-100 text-blue-800":"In Progress"===e.status?"bg-yellow-100 text-yellow-800":"Resolved"===e.status?"bg-green-100 text-green-800":(e.status,"bg-gray-100 text-gray-800")),children:e.status||"Unknown"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.assigned_to||"Unassigned"}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Zt.jsx)("button",{onClick:()=>d(`/cases/details/${e.id}`),className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Details"})})]},e.id)}),0===p.length&&(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:"8",className:"px-6 py-12 text-center",children:(0,Zt.jsxs)("div",{className:"text-gray-500",children:[(0,Zt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Zt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No cases found"}),(0,Zt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:o?"No cases match your search criteria.":"No cases have been created yet."})]})})})]})]})})})]})},OI={id:"CASE-001",customerName:"Ali Raza",customerId:"CUST-1023",type:"Transaction",severity:"High",status:"Open",createdAt:"2025-08-01",assignedTo:"Analyst A",description:"Suspicious transaction pattern detected on 3 consecutive days exceeding AED 500,000.",actionsTaken:["Customer risk score recalculated","Transaction flagged and temporarily held","Initial review completed by Analyst A"],relatedTransactions:[{id:"TXN-345",amount:"AED 600,000",date:"2025-07-29",status:"Flagged"},{id:"TXN-352",amount:"AED 550,000",date:"2025-07-30",status:"Flagged"}]},PI=()=>{const{caseId:e}=ne(),r=re(),n=OI,[a,i]=(0,t.useState)(n.status),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(null);return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("button",{onClick:()=>r(-1),className:"mb-4 text-blue-600 hover:underline",children:"\u2190 Back to Case List"}),(0,Zt.jsxs)("h1",{className:"text-2xl font-semibold mb-2",children:["Case Details: ",n.id]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded shadow-sm space-y-2 mb-6",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("strong",{children:"Customer Name:"})," ",n.customerName]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("strong",{children:"Customer ID:"})," ",n.customerId]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("strong",{children:"Type:"})," ",n.type]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("strong",{children:"Severity:"})," ",n.severity]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("strong",{children:"Status:"})," ",n.status]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("strong",{children:"Created At:"})," ",n.createdAt]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("strong",{children:"Assigned To:"})," ",n.assignedTo]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("strong",{children:"Description:"})," ",n.description]})]}),(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Actions Taken"}),(0,Zt.jsx)("ul",{className:"list-disc list-inside bg-white p-4 rounded shadow-sm mb-6",children:n.actionsTaken.map((e,t)=>(0,Zt.jsx)("li",{children:e},t))}),(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Related Transactions"}),(0,Zt.jsx)("div",{className:"overflow-x-auto mb-6",children:(0,Zt.jsxs)("table",{className:"min-w-full border rounded shadow-sm",children:[(0,Zt.jsx)("thead",{className:"bg-gray-100",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"text-left p-3",children:"Transaction ID"}),(0,Zt.jsx)("th",{className:"text-left p-3",children:"Amount"}),(0,Zt.jsx)("th",{className:"text-left p-3",children:"Date"}),(0,Zt.jsx)("th",{className:"text-left p-3",children:"Status"})]})}),(0,Zt.jsx)("tbody",{children:n.relatedTransactions.map(e=>(0,Zt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"p-3",children:e.id}),(0,Zt.jsx)("td",{className:"p-3",children:e.amount}),(0,Zt.jsx)("td",{className:"p-3",children:e.date}),(0,Zt.jsx)("td",{className:"p-3",children:e.status})]},e.id))})]})}),(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Work on Case"}),(0,Zt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert(`Status updated to: ${a}\nComment: ${s}\nFile: ${(null===l||void 0===l?void 0:l.name)||"No file uploaded"}`)},className:"bg-white p-4 rounded shadow-sm space-y-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Update Status"}),(0,Zt.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"border p-2 rounded w-full",children:[(0,Zt.jsx)("option",{value:"Open",children:"Open"}),(0,Zt.jsx)("option",{value:"Under Review",children:"Under Review"}),(0,Zt.jsx)("option",{value:"Resolved",children:"Resolved"}),(0,Zt.jsx)("option",{value:"Escalated",children:"Escalated"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Add Internal Comment"}),(0,Zt.jsx)("textarea",{value:s,onChange:e=>o(e.target.value),rows:4,className:"border p-2 rounded w-full",placeholder:"Write any notes, findings, or updates here..."})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Upload Supporting Document"}),(0,Zt.jsx)("input",{type:"file",onChange:e=>c(e.target.files[0]),className:"border p-2 rounded w-full"})]}),(0,Zt.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Submit Updates"})]})]})},EI=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[i,s]=(0,t.useState)("medium"),[o,l]=(0,t.useState)("");return(0,Zt.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"Assign Case"}),(0,Zt.jsxs)("div",{className:"space-y-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Case ID"}),(0,Zt.jsx)("input",{type:"text",className:"w-full border px-3 py-2 rounded-md",value:e,onChange:e=>r(e.target.value),placeholder:"Enter Case ID"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Assign to User"}),(0,Zt.jsx)("input",{type:"text",className:"w-full border px-3 py-2 rounded-md",value:n,onChange:e=>a(e.target.value),placeholder:"Enter user email or name"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Priority"}),(0,Zt.jsxs)("select",{className:"w-full border px-3 py-2 rounded-md",value:i,onChange:e=>s(e.target.value),children:[(0,Zt.jsx)("option",{value:"low",children:"Low"}),(0,Zt.jsx)("option",{value:"medium",children:"Medium"}),(0,Zt.jsx)("option",{value:"high",children:"High"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Note (optional)"}),(0,Zt.jsx)("textarea",{className:"w-full border px-3 py-2 rounded-md",rows:"3",value:o,onChange:e=>l(e.target.value),placeholder:"Add any special instructions or comments"})]}),(0,Zt.jsx)("button",{onClick:()=>{console.log("Case Assigned:",{caseId:e,assignee:n,priority:i,note:o}),alert("Case assigned successfully")},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Assign Case"})]})]})},LI=e=>{let{children:t,className:r}=e;return(0,Zt.jsx)("div",{className:`border rounded-lg shadow p-4 bg-white ${r||""}`,children:t})},TI=e=>{let{children:t}=e;return(0,Zt.jsx)("div",{className:"mt-2",children:t})},DI=e=>{let{children:t,className:r}=e;return(0,Zt.jsx)("div",{className:`overflow-y-auto max-h-[400px] ${r||""}`,children:t})},II=e=>{let{children:t}=e;return(0,Zt.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-sm",children:t})},RI=e=>{let{children:t}=e;return(0,Zt.jsx)("span",{children:t})},MI=lr("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),FI=[{id:1,type:"Status Update",actor:"System",timestamp:"2025-08-07 10:15 AM",details:"Case status changed to 'Under Review'",comment:"",attachment:null},{id:2,type:"Comment",actor:"Analyst John Doe",timestamp:"2025-08-07 11:00 AM",details:"",comment:"Investigating customer source of funds. No immediate red flags.",attachment:null},{id:3,type:"File Upload",actor:"Analyst Jane Smith",timestamp:"2025-08-07 12:45 PM",details:"Uploaded supporting document.",comment:"",attachment:{name:"kyc_verification.pdf",url:"#"}}],BI=()=>(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Case Actions Timeline"}),(0,Zt.jsx)(DI,{className:"h-[500px] pr-4",children:(0,Zt.jsx)("div",{className:"space-y-6",children:FI.map(e=>(0,Zt.jsx)(LI,{children:(0,Zt.jsxs)(TI,{className:"p-4 flex gap-4",children:[(0,Zt.jsx)(II,{children:(0,Zt.jsx)(RI,{children:e.actor[0]})}),(0,Zt.jsxs)("div",{className:"flex-1",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Zt.jsx)("h3",{className:"font-medium",children:e.actor}),(0,Zt.jsx)("span",{className:"text-sm text-muted-foreground",children:e.timestamp})]}),(0,Zt.jsx)("p",{className:"text-sm font-semibold",children:e.type}),e.details&&(0,Zt.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.details}),e.comment&&(0,Zt.jsx)("div",{className:"bg-muted p-2 rounded mt-2 text-sm",children:e.comment}),e.attachment&&(0,Zt.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-sm text-blue-600 hover:underline cursor-pointer",children:[(0,Zt.jsx)(MI,{size:14}),(0,Zt.jsx)("a",{href:e.attachment.url,children:e.attachment.name})]})]})]})},e.id))})})]}),zI=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)("PDF"),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[w,N]=(0,t.useState)(""),[_,S]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{h(!0);const e=await kO.getCustomers();e.success?l(e.data||[]):(qt.error("Failed to fetch customers"),l([]))}catch(tR){console.error("Error fetching customers:",tR),qt.error("Failed to fetch customers"),l([])}finally{h(!1)}})()},[]);return(0,Zt.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Generate Report"}),(0,Zt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i)if(e){u(!0);try{const t={customerId:i.id,customerName:`${i.first_name} ${i.last_name}`,customerEmail:i.email,reportType:e,format:n,createdAt:(new Date).toISOString(),preparedBy:"CurrentUser",data:{}};"Suspicious Transaction Report"===e?t.data={transactionId:f,suspicionReason:m}:"Screening Match Report"===e?t.data={matchedEntity:y,matchDetails:b}:"goAML XML Report"===e&&(t.data={goamlType:w,submissionReason:_}),console.log("Generated Report:",t),qt.success("Report generated successfully!"),s(null),r(""),p(""),g(""),v(""),x(""),N(""),S("")}catch(tR){console.error("Error generating report:",tR),qt.error("Failed to generate report")}finally{u(!1)}}else qt.error("Please select a report type");else qt.error("Please select a customer")},className:"space-y-4",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"Customer"}),(0,Zt.jsxs)("select",{className:"w-full p-2 border rounded",value:(null===i||void 0===i?void 0:i.id)||"",onChange:e=>{const t=o.find(t=>t.id===e.target.value);s(t)},disabled:d,children:[(0,Zt.jsx)("option",{value:"",children:d?"Loading customers...":"Select Customer"}),o.map(e=>(0,Zt.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," - ",e.email]},e.id))]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"Report Type"}),(0,Zt.jsxs)("select",{className:"w-full p-2 border rounded",value:e,onChange:e=>r(e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select Type"}),(0,Zt.jsx)("option",{value:"Suspicious Transaction Report",children:"Suspicious Transaction Report"}),(0,Zt.jsx)("option",{value:"Screening Match Report",children:"Screening Match Report"}),(0,Zt.jsx)("option",{value:"goAML XML Report",children:"goAML XML Report"})]})]}),"Suspicious Transaction Report"===e&&(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"Transaction ID"}),(0,Zt.jsx)("input",{className:"w-full p-2 border rounded",value:f,onChange:e=>p(e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"Suspicion Reason"}),(0,Zt.jsx)("textarea",{className:"w-full p-2 border rounded",value:m,onChange:e=>g(e.target.value)})]})]}),"Screening Match Report"===e&&(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"Matched Entity"}),(0,Zt.jsx)("input",{className:"w-full p-2 border rounded",value:y,onChange:e=>v(e.target.value)})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"Match Details"}),(0,Zt.jsx)("textarea",{className:"w-full p-2 border rounded",value:b,onChange:e=>x(e.target.value)})]})]}),"goAML XML Report"===e&&(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"goAML Report Type"}),(0,Zt.jsxs)("select",{className:"w-full p-2 border rounded",value:w,onChange:e=>N(e.target.value),children:[(0,Zt.jsx)("option",{value:"",children:"Select"}),(0,Zt.jsx)("option",{value:"STR",children:"STR (Suspicious Transaction)"}),(0,Zt.jsx)("option",{value:"SAR",children:"SAR (Suspicious Activity)"}),(0,Zt.jsx)("option",{value:"CTR",children:"CTR (Cash Transaction)"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"Submission Reason"}),(0,Zt.jsx)("textarea",{className:"w-full p-2 border rounded",value:_,onChange:e=>S(e.target.value)})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium",children:"Report Format"}),(0,Zt.jsxs)("select",{className:"w-full p-2 border rounded",value:n,onChange:e=>a(e.target.value),children:[(0,Zt.jsx)("option",{value:"PDF",children:"PDF"}),"goAML XML Report"===e&&(0,Zt.jsx)("option",{value:"XML",children:"XML"}),"goAML XML Report"===e&&(0,Zt.jsx)("option",{value:"Both",children:"Both"})]})]}),(0,Zt.jsx)("button",{type:"submit",className:"px-4 py-2 text-white rounded "+(c?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),disabled:c,children:c?"Generating...":"Generate Report"})]})]})},UI=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)({total:0,byType:{},byDate:{today:0,thisWeek:0,thisMonth:0}});(0,t.useEffect)(()=>{d(),h()},[]);const d=async()=>{try{a(!0);const e=await $O.getReports(1,100);e.data?(r(e.data||[]),s(null)):(s("Failed to fetch reports"),r([]))}catch(i){s("Failed to fetch reports"),r([]),console.error("Error fetching reports:",i)}finally{a(!1)}},h=async()=>{try{const e=await $O.getReportStats();u(e)}catch(i){console.error("Error fetching stats:",i)}},f=e.filter(e=>{var t,r;return(null===(t=e.report_type)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.report_number)||void 0===r?void 0:r.toLowerCase().includes(o.toLowerCase()))});return n?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):i?(0,Zt.jsx)("div",{className:"p-6",children:(0,Zt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Zt.jsxs)("div",{className:"flex",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Zt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Zt.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Zt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading data"}),(0,Zt.jsx)("div",{className:"mt-2 text-sm text-red-700",children:i}),(0,Zt.jsx)("div",{className:"mt-4",children:(0,Zt.jsx)("button",{onClick:()=>{s(null),d(),h()},className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Retry"})})]})]})})}):(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"mb-6",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Generated Reports"}),(0,Zt.jsx)("p",{className:"text-gray-600 mt-1",children:"View and manage all generated reports"})]}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Reports"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.total})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Today"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byDate.today})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"This Week"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byDate.thisWeek})]})]})}),(0,Zt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Zt.jsxs)("div",{className:"flex items-center",children:[(0,Zt.jsx)("div",{className:"flex-shrink-0",children:(0,Zt.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-md flex items-center justify-center",children:(0,Zt.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,Zt.jsxs)("div",{className:"ml-4",children:[(0,Zt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"This Month"}),(0,Zt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:c.byDate.thisMonth})]})]})})]}),(0,Zt.jsx)("div",{className:"mb-6",children:(0,Zt.jsxs)("div",{className:"relative",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Search by report type or number...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,Zt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Zt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,Zt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Zt.jsx)("thead",{className:"bg-gray-50",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report ID"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Type"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Format"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Zt.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[f.map(e=>(0,Zt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.report_number||e.id}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.report_type||"Unknown"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"goAML"===e.report_template?"XML":"PDF"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.generated_at?new Date(e.generated_at).toLocaleDateString():"N/A"}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"goAML"===e.report_template?(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Ready for Upload"}):(0,Zt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Generated"})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Zt.jsxs)("div",{className:"flex space-x-2",children:[(0,Zt.jsx)("button",{onClick:()=>(async e=>{try{const t=await $O.exportReportToPDF(e);t.success?(qt.success("Report opened for printing"),console.log("Print URL:",t.downloadUrl)):qt.error("Failed to open report for printing")}catch(i){qt.error("Error opening report for printing"),console.error("Error:",i)}})(e.id),className:"text-blue-600 hover:text-blue-900 font-medium",children:"Print"}),(0,Zt.jsx)("button",{onClick:()=>(async e=>{try{const t=await $O.exportReportToPDF(e);t.success?(qt.success("Report downloaded successfully"),console.log("Download URL:",t.downloadUrl)):qt.error("Failed to download report")}catch(i){qt.error("Error downloading report"),console.error("Error:",i)}})(e.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Download"}),"goAML"===e.report_template&&(0,Zt.jsx)("button",{onClick:()=>(async()=>{try{qt.success("Report marked as uploaded"),d()}catch(i){qt.error("Failed to update report status"),console.error("Error:",i)}})(e.id),className:"text-yellow-600 hover:text-yellow-900 font-medium",children:"Mark Uploaded"})]})})]},e.id)),0===f.length&&(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center",children:(0,Zt.jsxs)("div",{className:"text-gray-500",children:[(0,Zt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Zt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No reports found"}),(0,Zt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:o?"No reports match your search criteria.":"No reports have been generated yet."})]})})})]})]})})})]})},qI=[{id:1,name:"Ayesha Khan",email:"ayesha.khan@example.com",role:"Admin",status:"Active",lastLogin:"2025-08-06 14:32"},{id:2,name:"Ali Raza",email:"ali.raza@example.com",role:"Analyst",status:"Inactive",lastLogin:"2025-07-30 10:45"}];function $I(){const[e,r]=(0,t.useState)(qI),[n,a]=(0,t.useState)(!1),[i,s]=(0,t.useState)({name:"",email:"",role:"Analyst",password:"",status:"Active"}),o=e=>{s(t=>({...t,[e.target.name]:e.target.value}))};return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Zt.jsx)("h1",{className:"text-xl font-bold",children:"User Management"}),(0,Zt.jsx)("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"+ Add User"})]}),(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"w-full bg-white border border-gray-200",children:[(0,Zt.jsx)("thead",{className:"bg-gray-100 text-left",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"p-3 border-b",children:"Name"}),(0,Zt.jsx)("th",{className:"p-3 border-b",children:"Email"}),(0,Zt.jsx)("th",{className:"p-3 border-b",children:"Role"}),(0,Zt.jsx)("th",{className:"p-3 border-b",children:"Status"}),(0,Zt.jsx)("th",{className:"p-3 border-b",children:"Last Login"}),(0,Zt.jsx)("th",{className:"p-3 border-b text-center",children:"Actions"})]})}),(0,Zt.jsxs)("tbody",{children:[e.map(e=>(0,Zt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"p-3",children:e.name}),(0,Zt.jsx)("td",{className:"p-3",children:e.email}),(0,Zt.jsx)("td",{className:"p-3",children:e.role}),(0,Zt.jsx)("td",{className:"p-3",children:e.status}),(0,Zt.jsx)("td",{className:"p-3",children:e.lastLogin}),(0,Zt.jsx)("td",{className:"p-3 text-center",children:(0,Zt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this user?")&&r(e=>e.filter(e=>e.id!==t)));var t},className:"text-red-600 hover:underline",children:"Delete"})})]},e.id)),0===e.length&&(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:"6",className:"p-4 text-center text-gray-500",children:"No users found."})})]})]})}),n&&(0,Zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Zt.jsxs)("div",{className:"bg-white rounded shadow-lg p-6 w-full max-w-md",children:[(0,Zt.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Add New User"}),(0,Zt.jsxs)("div",{className:"space-y-3",children:[(0,Zt.jsx)("input",{type:"text",name:"name",placeholder:"Full Name",value:i.name,onChange:o,className:"w-full border rounded px-3 py-2"}),(0,Zt.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",value:i.email,onChange:o,className:"w-full border rounded px-3 py-2"}),(0,Zt.jsx)("input",{type:"password",name:"password",placeholder:"Temporary Password",value:i.password,onChange:o,className:"w-full border rounded px-3 py-2"}),(0,Zt.jsxs)("select",{name:"role",value:i.role,onChange:o,className:"w-full border rounded px-3 py-2",children:[(0,Zt.jsx)("option",{value:"Admin",children:"Admin"}),(0,Zt.jsx)("option",{value:"Analyst",children:"Analyst"}),(0,Zt.jsx)("option",{value:"Reviewer",children:"Reviewer"}),(0,Zt.jsx)("option",{value:"Auditor",children:"Auditor"})]}),(0,Zt.jsxs)("select",{name:"status",value:i.status,onChange:o,className:"w-full border rounded px-3 py-2",children:[(0,Zt.jsx)("option",{value:"Active",children:"Active"}),(0,Zt.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,Zt.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,Zt.jsx)("button",{onClick:()=>a(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),(0,Zt.jsx)("button",{onClick:()=>{const t={id:e.length+1,...i,lastLogin:"Never"};r(e=>[...e,t]),s({name:"",email:"",role:"Analyst",password:"",status:"Active"}),a(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add User"})]})]})})]})}const WI={Customer:["View Customers","Add Customer","Edit Customer","Delete Customer"],Screening:["Run Instant Screening","Manage Screening Rules"],Monitoring:["View Transactions","Flag Transactions","Add Transactions"],Risk:["View Risk Profiles","Manage Risk Rules"],CaseManagement:["View Cases","Take Case Actions","Close Cases"],Reports:["Generate Reports","Generate goAML XML","Mark Report as Uploaded"],Admin:["Manage Users","Manage Roles","Change Settings"]},HI=[{id:1,name:"Admin",description:"Full access to all modules",permissions:Object.values(WI).flat()},{id:2,name:"Compliance Officer",description:"Can screen and monitor transactions",permissions:["View Customers","Run Instant Screening","View Transactions","Flag Transactions","View Risk Profiles","View Cases","Generate Reports"]}],KI=()=>{const[e,r]=(0,t.useState)(HI),[n,a]=(0,t.useState)({name:"",description:""}),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1);return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Roles & Permissions"}),(0,Zt.jsxs)("div",{className:"mb-6 bg-gray-50 p-4 rounded shadow",children:[(0,Zt.jsx)("h3",{className:"font-semibold mb-2",children:"Add New Role"}),(0,Zt.jsxs)("div",{className:"flex gap-4",children:[(0,Zt.jsx)("input",{type:"text",placeholder:"Role Name",className:"border p-2 w-1/3",value:n.name,onChange:e=>a({...n,name:e.target.value})}),(0,Zt.jsx)("input",{type:"text",placeholder:"Description",className:"border p-2 w-1/2",value:n.description,onChange:e=>a({...n,description:e.target.value})}),(0,Zt.jsx)("button",{onClick:()=>{if(!n.name.trim())return;const t={id:e.length+1,name:n.name,description:n.description,permissions:[]};r([...e,t]),a({name:"",description:""})},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add Role"})]})]}),(0,Zt.jsx)("div",{className:"bg-white shadow rounded",children:(0,Zt.jsxs)("table",{className:"w-full border",children:[(0,Zt.jsx)("thead",{className:"bg-gray-100",children:(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("th",{className:"p-2 border",children:"Role Name"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Description"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Permissions"}),(0,Zt.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,Zt.jsx)("tbody",{children:e.map(t=>(0,Zt.jsxs)("tr",{children:[(0,Zt.jsx)("td",{className:"p-2 border",children:t.name}),(0,Zt.jsx)("td",{className:"p-2 border",children:t.description}),(0,Zt.jsxs)("td",{className:"p-2 border text-sm text-gray-600",children:[t.permissions.slice(0,3).join(", "),t.permissions.length>3&&(0,Zt.jsxs)("span",{className:"text-gray-400",children:[" ","+",t.permissions.length-3," more"]})]}),(0,Zt.jsxs)("td",{className:"p-2 border space-x-2",children:[(0,Zt.jsx)("button",{onClick:()=>(e=>{s({...e}),l(!0)})(t),className:"text-blue-600 underline",children:"Edit"}),(0,Zt.jsx)("button",{onClick:()=>{return n=t.id,void r(e.filter(e=>e.id!==n));var n},className:"text-red-600 underline",children:"Delete"})]})]},t.id))})]})}),o&&i&&(0,Zt.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,Zt.jsxs)("div",{className:"bg-white p-6 rounded w-[600px] max-h-[80vh] overflow-y-auto",children:[(0,Zt.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Edit Permissions: ",i.name]}),Object.entries(WI).map(e=>{let[t,r]=e;return(0,Zt.jsxs)("div",{className:"mb-4",children:[(0,Zt.jsx)("h4",{className:"font-semibold mb-1",children:t}),(0,Zt.jsx)("div",{className:"flex flex-wrap gap-3",children:r.map(e=>(0,Zt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Zt.jsx)("input",{type:"checkbox",checked:i.permissions.includes(e),onChange:()=>(e=>{const t=i.permissions.includes(e)?i.permissions.filter(t=>t!==e):[...i.permissions,e];s(e=>({...e,permissions:t}))})(e)}),e]},e))})]},t)}),(0,Zt.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,Zt.jsx)("button",{className:"px-4 py-2 border rounded",onClick:()=>{l(!1),s(null)},children:"Cancel"}),(0,Zt.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>{r(e=>e.map(e=>e.id===i.id?i:e)),l(!1),s(null)},children:"Save Changes"})]})]})})]})},VI=()=>{const[e,r]=(0,t.useState)(!0),[n,a]=(0,t.useState)(15),[i,s]=(0,t.useState)("Asia/Dubai");return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"System Settings"}),(0,Zt.jsxs)("div",{className:"space-y-6 max-w-xl",children:[(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Email Notifications"}),(0,Zt.jsxs)("select",{value:e?"enabled":"disabled",onChange:e=>r("enabled"===e.target.value),className:"w-full border border-gray-300 rounded p-2",children:[(0,Zt.jsx)("option",{value:"enabled",children:"Enabled"}),(0,Zt.jsx)("option",{value:"disabled",children:"Disabled"})]})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"Auto Logout (minutes)"}),(0,Zt.jsx)("input",{type:"number",value:n,onChange:e=>a(Number(e.target.value)),min:"1",className:"w-full border border-gray-300 rounded p-2"})]}),(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)("label",{className:"block font-medium mb-1",children:"System Timezone"}),(0,Zt.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"w-full border border-gray-300 rounded p-2",children:[(0,Zt.jsx)("option",{value:"Asia/Dubai",children:"Asia/Dubai (UAE)"}),(0,Zt.jsx)("option",{value:"UTC",children:"UTC"}),(0,Zt.jsx)("option",{value:"Asia/Karachi",children:"Asia/Karachi"}),(0,Zt.jsx)("option",{value:"Asia/Riyadh",children:"Asia/Riyadh"}),(0,Zt.jsx)("option",{value:"Asia/Kolkata",children:"Asia/Kolkata"})]})]}),(0,Zt.jsx)("div",{className:"pt-4",children:(0,Zt.jsx)("button",{onClick:()=>{alert("Settings saved!")},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded",children:"Save Settings"})})]})]})},GI={async getActivityLogs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=hO.from("system_logs").select("\n          *,\n          users (\n            id,\n            first_name,\n            last_name,\n            email\n          )\n        ").order("created_at",{ascending:!1});e.user&&(t=t.eq("user_id",e.user)),e.module&&(t=t.eq("module",e.module)),e.action&&(t=t.eq("action",e.action)),e.fromDate&&(t=t.gte("created_at",e.fromDate)),e.toDate&&(t=t.lte("created_at",e.toDate));const{data:r,error:n,count:a}=await t;if(n)return console.error("Error fetching activity logs:",n),{success:!1,data:[],count:0,error:n.message};const i=r.map(e=>({id:e.id,timestamp:new Date(e.created_at).toLocaleString(),user:e.users?`${e.users.first_name} ${e.users.last_name}`:"System",action:e.action,module:e.module,details:this.formatLogDetails(e),ip_address:e.ip_address,user_agent:e.user_agent,record_id:e.record_id,table_name:e.table_name}));return{success:!0,data:i,count:a||i.length,error:null}}catch(tR){return console.error("Error in getActivityLogs:",tR),{success:!1,data:[],count:0,error:tR.message}}},async getActivityLogById(e){try{const{data:t,error:r}=await hO.from("system_logs").select("\n          *,\n          users (\n            id,\n            first_name,\n            last_name,\n            email\n          )\n        ").eq("id",e).single();if(r)return console.error("Error fetching activity log:",r),{success:!1,data:null,error:r.message};return{success:!0,data:{id:t.id,timestamp:new Date(t.created_at).toLocaleString(),user:t.users?`${t.users.first_name} ${t.users.last_name}`:"System",action:t.action,module:t.module,details:this.formatLogDetails(t),ip_address:t.ip_address,user_agent:t.user_agent,record_id:t.record_id,table_name:t.table_name,old_values:t.old_values,new_values:t.new_values},error:null}}catch(tR){return console.error("Error in getActivityLogById:",tR),{success:!1,data:null,error:tR.message}}},async createActivityLog(e){try{const{data:t,error:r}=await hO.from("system_logs").insert([e]).select().single();return r?(console.error("Error creating activity log:",r),{success:!1,data:null,error:r.message}):{success:!0,data:t,error:null}}catch(tR){return console.error("Error in createActivityLog:",tR),{success:!1,data:null,error:tR.message}}},async getActivityLogStats(){try{const{count:e,error:t}=await hO.from("system_logs").select("*",{count:"exact",head:!0});if(t)return console.error("Error getting total count:",t),{success:!1,data:null,error:t.message};const r=new Date;r.setHours(0,0,0,0);const{count:n,error:a}=await hO.from("system_logs").select("*",{count:"exact",head:!0}).gte("created_at",r.toISOString());if(a)return console.error("Error getting today count:",a),{success:!1,data:null,error:a.message};const i=new Date;i.setDate(i.getDate()-7);const{count:s,error:o}=await hO.from("system_logs").select("*",{count:"exact",head:!0}).gte("created_at",i.toISOString());if(o)return console.error("Error getting week count:",o),{success:!1,data:null,error:o.message};const{data:l,error:c}=await hO.from("system_logs").select("action").gte("created_at",i.toISOString());if(c)return console.error("Error getting action counts:",c),{success:!1,data:null,error:c.message};const u=l.reduce((e,t)=>(e[t.action]=(e[t.action]||0)+1,e),{});return{success:!0,data:{total:e||0,today:n||0,thisWeek:s||0,actionStats:u},error:null}}catch(tR){return console.error("Error in getActivityLogStats:",tR),{success:!1,data:null,error:tR.message}}},formatLogDetails(e){let t=`${e.action} in ${e.module}`;return e.table_name&&(t+=` (${e.table_name})`),e.record_id&&(t+=` - Record ID: ${e.record_id}`),e.old_values&&e.new_values?t+=" - Updated":e.new_values?t+=" - Created":e.old_values&&(t+=" - Deleted"),t}},YI=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)({total:0,today:0,thisWeek:0,actionStats:{}}),[c,u]=(0,t.useState)({user:"",module:"",action:"",fromDate:"",toDate:""}),d=async()=>{try{a(!0),s(null);const e=await GI.getActivityLogs(c);e.success?r(e.data||[]):(s(e.error||"Failed to fetch logs"),qt.error("Failed to fetch activity logs"))}catch(i){console.error("Error fetching logs:",i),s("Failed to fetch logs"),qt.error("Failed to fetch activity logs")}finally{a(!1)}};(0,t.useEffect)(()=>{d(),(async()=>{try{const e=await GI.getActivityLogStats();e.success&&l(e.data)}catch(i){console.error("Error fetching stats:",i)}})()},[]);const h=e=>{u({...c,[e.target.name]:e.target.value})},f=e=>{e.preventDefault(),d()},p=e;return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Activity Logs"}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"text-sm text-gray-600",children:"Total Logs"}),(0,Zt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.total})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"text-sm text-gray-600",children:"Today"}),(0,Zt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o.today})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"text-sm text-gray-600",children:"This Week"}),(0,Zt.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o.thisWeek})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"text-sm text-gray-600",children:"Actions"}),(0,Zt.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Object.keys(o.actionStats).length})]})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:[(0,Zt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filters"}),(0,Zt.jsxs)("form",{onSubmit:f,className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Zt.jsx)("input",{type:"text",name:"user",placeholder:"Search by user",value:c.user,onChange:h,className:"border px-3 py-2 rounded"}),(0,Zt.jsxs)("select",{name:"module",value:c.module,onChange:h,className:"border px-3 py-2 rounded",children:[(0,Zt.jsx)("option",{value:"",children:"All Modules"}),(0,Zt.jsx)("option",{value:"Customer",children:"Customer"}),(0,Zt.jsx)("option",{value:"Screening",children:"Screening"}),(0,Zt.jsx)("option",{value:"Monitoring",children:"Monitoring"}),(0,Zt.jsx)("option",{value:"Report",children:"Report"}),(0,Zt.jsx)("option",{value:"System",children:"System"}),(0,Zt.jsx)("option",{value:"KYC",children:"KYC"}),(0,Zt.jsx)("option",{value:"Case",children:"Case"}),(0,Zt.jsx)("option",{value:"Risk",children:"Risk"})]}),(0,Zt.jsxs)("select",{name:"action",value:c.action,onChange:h,className:"border px-3 py-2 rounded",children:[(0,Zt.jsx)("option",{value:"",children:"All Actions"}),(0,Zt.jsx)("option",{value:"Created",children:"Created"}),(0,Zt.jsx)("option",{value:"Updated",children:"Updated"}),(0,Zt.jsx)("option",{value:"Deleted",children:"Deleted"}),(0,Zt.jsx)("option",{value:"Submitted",children:"Submitted"}),(0,Zt.jsx)("option",{value:"Auto-Flagged",children:"Auto-Flagged"}),(0,Zt.jsx)("option",{value:"Login",children:"Login"}),(0,Zt.jsx)("option",{value:"Assessed",children:"Assessed"}),(0,Zt.jsx)("option",{value:"Flagged",children:"Flagged"})]}),(0,Zt.jsx)("input",{type:"date",name:"fromDate",value:c.fromDate,onChange:h,className:"border px-3 py-2 rounded",placeholder:"From Date"}),(0,Zt.jsx)("input",{type:"date",name:"toDate",value:c.toDate,onChange:h,className:"border px-3 py-2 rounded",placeholder:"To Date"})]}),(0,Zt.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,Zt.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Apply Filters"}),(0,Zt.jsx)("button",{type:"button",onClick:()=>{u({user:"",module:"",action:"",fromDate:"",toDate:""})},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Clear Filters"})]})]}),n&&(0,Zt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow border text-center",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Zt.jsx)("p",{className:"text-gray-600",children:"Loading activity logs..."})]}),i&&!n&&(0,Zt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow border text-center",children:[(0,Zt.jsx)("div",{className:"text-red-600 mb-4",children:(0,Zt.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Zt.jsx)("p",{className:"text-gray-600 mb-4",children:i}),(0,Zt.jsx)("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]}),!n&&!i&&(0,Zt.jsx)("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full",children:[(0,Zt.jsx)("thead",{children:(0,Zt.jsxs)("tr",{className:"bg-gray-50 text-left text-sm font-medium text-gray-700",children:[(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Timestamp"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"User"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Action"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Module"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Details"})]})}),(0,Zt.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[p.map((e,t)=>(0,Zt.jsxs)("tr",{className:"text-sm hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.timestamp}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.user}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("Created"===e.action?"bg-green-100 text-green-800":"Updated"===e.action?"bg-blue-100 text-blue-800":"Deleted"===e.action?"bg-red-100 text-red-800":"Flagged"===e.action?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"),children:e.action})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.module}),(0,Zt.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.details})]},e.id||t)),0===p.length&&(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:(0,Zt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Zt.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Zt.jsx)("p",{className:"text-lg font-medium",children:"No activity logs found"}),(0,Zt.jsx)("p",{className:"text-sm",children:"Try adjusting your filters or check back later."})]})})})]})]})})})]})},JI={async getSystemLogs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=hO.from("system_logs").select("\n          *,\n          users (\n            id,\n            first_name,\n            last_name,\n            email\n          )\n        ").order("created_at",{ascending:!1});if(e.status){const r={Success:["Completed","Success","Finished"],Failed:["Failed","Error","Exception"],"In Progress":["Started","Running","Processing"]};r[e.status]&&(t=t.in("action",r[e.status]))}e.module&&(t=t.eq("module",e.module)),e.eventType&&(t=t.ilike("action",`%${e.eventType}%`)),e.fromDate&&(t=t.gte("created_at",e.fromDate)),e.toDate&&(t=t.lte("created_at",e.toDate));const{data:r,error:n,count:a}=await t;if(n)return console.error("Error fetching system logs:",n),{success:!1,data:[],count:0,error:n.message};const i=r.map(e=>({id:e.id,eventType:this.formatEventType(e.action),description:this.formatDescription(e),timestamp:new Date(e.created_at).toLocaleString(),status:this.determineStatus(e.action),triggerType:this.determineTriggerType(e),module:e.module,user:e.users?`${e.users.first_name} ${e.users.last_name}`:"System",ip_address:e.ip_address,record_id:e.record_id,table_name:e.table_name}));return{success:!0,data:i,count:a||i.length,error:null}}catch(tR){return console.error("Error in getSystemLogs:",tR),{success:!1,data:[],count:0,error:tR.message}}},async getSystemLogById(e){try{const{data:t,error:r}=await hO.from("system_logs").select("\n          *,\n          users (\n            id,\n            first_name,\n            last_name,\n            email\n          )\n        ").eq("id",e).single();if(r)return console.error("Error fetching system log:",r),{success:!1,data:null,error:r.message};return{success:!0,data:{id:t.id,eventType:this.formatEventType(t.action),description:this.formatDescription(t),timestamp:new Date(t.created_at).toLocaleString(),status:this.determineStatus(t.action),triggerType:this.determineTriggerType(t),module:t.module,user:t.users?`${t.users.first_name} ${t.users.last_name}`:"System",ip_address:t.ip_address,record_id:t.record_id,table_name:t.table_name,old_values:t.old_values,new_values:t.new_values},error:null}}catch(tR){return console.error("Error in getSystemLogById:",tR),{success:!1,data:null,error:tR.message}}},async createSystemLog(e){try{const{data:t,error:r}=await hO.from("system_logs").insert([e]).select().single();return r?(console.error("Error creating system log:",r),{success:!1,data:null,error:r.message}):{success:!0,data:t,error:null}}catch(tR){return console.error("Error in createSystemLog:",tR),{success:!1,data:null,error:tR.message}}},async getSystemLogStats(){try{const{count:e,error:t}=await hO.from("system_logs").select("*",{count:"exact",head:!0});if(t)return console.error("Error getting total count:",t),{success:!1,data:null,error:t.message};const r=new Date;r.setHours(0,0,0,0);const{count:n,error:a}=await hO.from("system_logs").select("*",{count:"exact",head:!0}).gte("created_at",r.toISOString());if(a)return console.error("Error getting today count:",a),{success:!1,data:null,error:a.message};const i=new Date;i.setDate(i.getDate()-7);const{count:s,error:o}=await hO.from("system_logs").select("*",{count:"exact",head:!0}).gte("created_at",i.toISOString());if(o)return console.error("Error getting week count:",o),{success:!1,data:null,error:o.message};const{data:l,error:c}=await hO.from("system_logs").select("action").gte("created_at",i.toISOString());if(c)return console.error("Error getting action counts:",c),{success:!1,data:null,error:c.message};const u=l.reduce((e,t)=>{const r=this.determineStatus(t.action);return e[r]=(e[r]||0)+1,e},{});return{success:!0,data:{total:e||0,today:n||0,thisWeek:s||0,statusStats:u},error:null}}catch(tR){return console.error("Error in getSystemLogStats:",tR),{success:!1,data:null,error:tR.message}}},formatEventType:e=>({Created:"Record Creation",Updated:"Record Update",Deleted:"Record Deletion",Submitted:"Report Submission","Auto-Flagged":"Automated Flagging",Assessed:"Risk Assessment",Flagged:"Transaction Flagging",Login:"User Login",Logout:"User Logout",Screening:"Screening Process",Monitoring:"Transaction Monitoring"}[e]||e),formatDescription(e){let t=`${e.action} in ${e.module}`;return e.table_name&&(t+=` (${e.table_name})`),e.record_id&&(t+=` - Record ID: ${e.record_id}`),e.old_values&&e.new_values?t+=" - Updated":e.new_values?t+=" - Created":e.old_values&&(t+=" - Deleted"),t},determineStatus:e=>({Created:"Success",Updated:"Success",Deleted:"Success",Submitted:"Success","Auto-Flagged":"Success",Assessed:"Success",Flagged:"Success",Login:"Success",Logout:"Success",Screening:"In Progress",Monitoring:"In Progress"}[e]||"Success"),determineTriggerType:e=>["Auto-Flagged","Screening","Monitoring"].includes(e.action)?"Auto":["Assessed","Created","Updated"].includes(e.action)?"Scheduled":"Manual"},XI=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)({total:0,today:0,thisWeek:0,statusStats:{}}),[c,u]=(0,t.useState)({status:"",module:"",eventType:"",fromDate:"",toDate:""}),d=async()=>{try{a(!0),s(null);const e=await JI.getSystemLogs(c);e.success?r(e.data||[]):(s(e.error||"Failed to fetch logs"),qt.error("Failed to fetch system logs"))}catch(i){console.error("Error fetching logs:",i),s("Failed to fetch logs"),qt.error("Failed to fetch system logs")}finally{a(!1)}},h=async()=>{try{const e=await JI.getSystemLogStats();e.success&&l(e.data)}catch(i){console.error("Error fetching stats:",i)}};(0,t.useEffect)(()=>{d(),h()},[]);const f=e=>{u({...c,[e.target.name]:e.target.value})},p=e=>{e.preventDefault(),d()},m=e;return(0,Zt.jsxs)("div",{className:"p-6",children:[(0,Zt.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"System Logs"}),(0,Zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"text-sm text-gray-600",children:"Total Events"}),(0,Zt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.total})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"text-sm text-gray-600",children:"Today"}),(0,Zt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o.today})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"text-sm text-gray-600",children:"This Week"}),(0,Zt.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o.thisWeek})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Zt.jsx)("div",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,Zt.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:o.statusStats.Success||0})]})]}),(0,Zt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:[(0,Zt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Filters"}),(0,Zt.jsxs)("form",{onSubmit:p,className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Zt.jsxs)("select",{name:"status",className:"border rounded p-2",value:c.status,onChange:f,children:[(0,Zt.jsx)("option",{value:"",children:"All Statuses"}),(0,Zt.jsx)("option",{value:"Success",children:"Success"}),(0,Zt.jsx)("option",{value:"Failed",children:"Failed"}),(0,Zt.jsx)("option",{value:"In Progress",children:"In Progress"})]}),(0,Zt.jsxs)("select",{name:"module",className:"border rounded p-2",value:c.module,onChange:f,children:[(0,Zt.jsx)("option",{value:"",children:"All Modules"}),(0,Zt.jsx)("option",{value:"Screening",children:"Screening"}),(0,Zt.jsx)("option",{value:"Reports",children:"Reports"}),(0,Zt.jsx)("option",{value:"Monitoring",children:"Monitoring"}),(0,Zt.jsx)("option",{value:"Risk",children:"Risk"}),(0,Zt.jsx)("option",{value:"Customer",children:"Customer"}),(0,Zt.jsx)("option",{value:"Case",children:"Case"}),(0,Zt.jsx)("option",{value:"KYC",children:"KYC"})]}),(0,Zt.jsx)("input",{type:"text",name:"eventType",placeholder:"Event Type",value:c.eventType,onChange:f,className:"border rounded p-2"}),(0,Zt.jsx)("input",{type:"date",name:"fromDate",value:c.fromDate,onChange:f,className:"border rounded p-2",placeholder:"From Date"}),(0,Zt.jsx)("input",{type:"date",name:"toDate",value:c.toDate,onChange:f,className:"border rounded p-2",placeholder:"To Date"})]}),(0,Zt.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,Zt.jsx)("button",{type:"button",onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Apply Filters"}),(0,Zt.jsx)("button",{type:"button",onClick:()=>{u({status:"",module:"",eventType:"",fromDate:"",toDate:""})},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Clear Filters"}),(0,Zt.jsx)("button",{onClick:()=>{d(),h()},className:"ml-auto px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Refresh Logs"})]})]}),n&&(0,Zt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow border text-center",children:[(0,Zt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Zt.jsx)("p",{className:"text-gray-600",children:"Loading system logs..."})]}),i&&!n&&(0,Zt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow border text-center",children:[(0,Zt.jsx)("div",{className:"text-red-600 mb-4",children:(0,Zt.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Zt.jsx)("p",{className:"text-gray-600 mb-4",children:i}),(0,Zt.jsx)("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]}),!n&&!i&&(0,Zt.jsx)("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:(0,Zt.jsx)("div",{className:"overflow-x-auto",children:(0,Zt.jsxs)("table",{className:"min-w-full",children:[(0,Zt.jsx)("thead",{children:(0,Zt.jsxs)("tr",{className:"bg-gray-50 text-left text-sm font-medium text-gray-700",children:[(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Log ID"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Event Type"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Description"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Timestamp"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Status"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Trigger Type"}),(0,Zt.jsx)("th",{className:"px-6 py-3 border-b",children:"Module"})]})}),(0,Zt.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===m.length?(0,Zt.jsx)("tr",{children:(0,Zt.jsx)("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:(0,Zt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Zt.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Zt.jsx)("p",{className:"text-lg font-medium",children:"No system logs found"}),(0,Zt.jsx)("p",{className:"text-sm",children:"Try adjusting your filters or check back later."})]})})}):m.map(e=>(0,Zt.jsxs)("tr",{className:"text-sm hover:bg-gray-50",children:[(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.id}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.eventType}),(0,Zt.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.description}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.timestamp}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Zt.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("Success"===e.status?"bg-green-100 text-green-800":"Failed"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.triggerType}),(0,Zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.module})]},e.id))})]})})})]})},QI=()=>(0,Zt.jsxs)(rt,{children:[(0,Zt.jsxs)(Ne,{children:[(0,Zt.jsx)(xe,{path:"/",element:(0,Zt.jsx)(hr,{})}),(0,Zt.jsx)(xe,{path:"/*",element:(0,Zt.jsx)(dr,{children:(0,Zt.jsxs)(Ne,{children:[(0,Zt.jsx)(xe,{path:"dashboard",element:(0,Zt.jsx)(wO,{})}),(0,Zt.jsx)(xe,{path:"customer/list",element:(0,Zt.jsx)(jP,{})}),(0,Zt.jsx)(xe,{path:"customer/onboarding",element:(0,Zt.jsx)(SP,{})}),(0,Zt.jsx)(xe,{path:"customer/kyc/:customerId",element:(0,Zt.jsx)(PP,{})}),(0,Zt.jsx)(xe,{path:"customer/risk-profile/:customerId",element:(0,Zt.jsx)(EP,{})}),(0,Zt.jsx)(xe,{path:"screening/instant",element:(0,Zt.jsx)(qD,{})}),(0,Zt.jsx)(xe,{path:"screening/ongoing",element:(0,Zt.jsx)(WD,{})}),(0,Zt.jsx)(xe,{path:"/screening/monitoringlist",element:(0,Zt.jsx)(KD,{})}),(0,Zt.jsx)(xe,{path:"/screening/screeninghistory",element:(0,Zt.jsx)(GD,{})}),(0,Zt.jsx)(xe,{path:"/screening/casedetails",element:(0,Zt.jsx)(JD,{})}),(0,Zt.jsx)(xe,{path:"monitoring/addtransactions",element:(0,Zt.jsx)(XD,{})}),(0,Zt.jsx)(xe,{path:"monitoring/transactions",element:(0,Zt.jsx)(pI,{})}),(0,Zt.jsx)(xe,{path:"monitoring/alerts",element:(0,Zt.jsx)(bI,{})}),(0,Zt.jsx)(xe,{path:"monitoring/transactionrules",element:(0,Zt.jsx)(xI,{})}),(0,Zt.jsx)(xe,{path:"risk/assessment",element:(0,Zt.jsx)(NI,{})}),(0,Zt.jsx)(xe,{path:"risk/rules",element:(0,Zt.jsx)(_I,{})}),(0,Zt.jsx)(xe,{path:"risk/models",element:(0,Zt.jsx)(SI,{})}),(0,Zt.jsx)(xe,{path:"/risk-profile/:id",element:(0,Zt.jsx)(AI,{})}),(0,Zt.jsx)(xe,{path:"cases/list",element:(0,Zt.jsx)(CI,{})}),(0,Zt.jsx)(xe,{path:"cases/details",element:(0,Zt.jsx)(PI,{})}),(0,Zt.jsx)(xe,{path:"cases/assign",element:(0,Zt.jsx)(EI,{})}),(0,Zt.jsx)(xe,{path:"cases/actions",element:(0,Zt.jsx)(BI,{})}),(0,Zt.jsx)(xe,{path:"reports/reportgeneration",element:(0,Zt.jsx)(zI,{})}),(0,Zt.jsx)(xe,{path:"reports/reportlist",element:(0,Zt.jsx)(UI,{})}),(0,Zt.jsx)(xe,{path:"admin/users",element:(0,Zt.jsx)($I,{})}),(0,Zt.jsx)(xe,{path:"admin/roles",element:(0,Zt.jsx)(KI,{})}),(0,Zt.jsx)(xe,{path:"admin/settings",element:(0,Zt.jsx)(VI,{})}),(0,Zt.jsx)(xe,{path:"logs/activitylogs",element:(0,Zt.jsx)(YI,{})}),(0,Zt.jsx)(xe,{path:"logs/systemlogs",element:(0,Zt.jsx)(XI,{})})]})})})]}),(0,Zt.jsx)(Qt,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}),ZI=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then(t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:i,getTTFB:s}=t;r(e),n(e),a(e),i(e),s(e)})};n.createRoot(document.getElementById("root")).render((0,Zt.jsx)(t.StrictMode,{children:(0,Zt.jsx)(QI,{})})),ZI()})()})();
//# sourceMappingURL=main.be478104.js.map